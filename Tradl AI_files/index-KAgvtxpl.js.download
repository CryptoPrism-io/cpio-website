const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LandingPage-DbnQAmRK.js","assets/markdown-vendor-CSGKSVMd.js","assets/react-vendor-DM9imvn0.js","assets/footer-Bs3LjJay.js","assets/ui-vendor-CoGsiq4Y.js","assets/LandingNavbar-CDTXCz-N.js","assets/EarlyAccessModal-BswNT1er.js","assets/invites-B5_nL5Zh.js","assets/MobileHeader-DjoTuEm2.js","assets/useTrackPage-GOvsAmUp.js","assets/ScreensButton-hRiJoye1.js","assets/AnimatedStatsTicker-C14EiHmM.js","assets/useIndicatorConfig-C07mh6oB.js","assets/DataCell-D1ibX73K.js","assets/StockLogo-DReoIPEN.js","assets/clsx-B-dksMZM.js","assets/StockPage-DCnwHcxU.js","assets/useNubraAuth-CdhyA5d5.js","assets/sessionNames-C1gVPCF-.js","assets/ChatSessionPage-D9mHs-_f.js","assets/ChatInterface-CKkgOuOq.js","assets/TradingChartView-DsCDge6_.js","assets/RechartsWrapper-DaOlwanf.js","assets/Treemap-r6plHXNY.js","assets/index-rNC-N_ug.js","assets/NubraAuthModal-pXGv72lg.js","assets/ChatHistoryPage-BtSDVbcp.js","assets/ScreensPage-Bi-UV40s.js","assets/ApplyForInvite-e2gzBe5L.js","assets/VerifyMagicLink-DD8GMROb.js","assets/ForgotPassword-Bhs3z-e7.js","assets/ResetPassword-26leoLOf.js","assets/SharedPage-wHt8gO9c.js","assets/InviteDashboard-WuyhCuQH.js","assets/TradingChartTest-HzU-QHcX.js","assets/PricingPage-NcFdBWvz.js","assets/SingleStockOverview-ZlvFvVW6.js","assets/StockTable-BQQOZqiC.js","assets/UnifiedSearch-BeUIvX9f.js","assets/AddToWatchlistModal-eXqfdk0d.js","assets/StockDiscoveryPage-JV5W2RkE.js","assets/AddWatchlistModal-Cb7Nuy74.js","assets/TerminalPage-s755alSX.js","assets/PlaygroundPage-DNowC-Vn.js","assets/News-DOyXWlM1.js","assets/PrivacyPolicy-BMjDtytc.js","assets/use-spring-CEYcX0zC.js","assets/TermsOfUse-Bup1w7Ur.js","assets/AboutUs-CQXbJI24.js","assets/WebinarStatic--YIJjq00.js"])))=>i.map(i=>d[i]);
import{j as b,_ as me}from"./markdown-vendor-CSGKSVMd.js";import{a as vf,r as O,R as yu,u as _u,b as hi,B as gf,d as mf,e as se,N as ze}from"./react-vendor-DM9imvn0.js";import{C as yf,X as bu,M as _f,P as bf,T as wf,S as Sf,a as Cf,N as xf,H as If,b as Ef,c as kf,d as Of,e as Af,L as Rf,f as Tf}from"./ui-vendor-CoGsiq4Y.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();var wu,Gs=vf;wu=Gs.createRoot,Gs.hydrateRoot;const Su=O.createContext(void 0),Mf=({children:e})=>{const[n,i]=O.useState(()=>localStorage.getItem("theme")||"light");O.useEffect(()=>{const r=o=>{if(o.key==="theme"){const s=o.newValue;(s==="light"||s==="dark")&&i(s)}};return window.addEventListener("storage",r),()=>{window.removeEventListener("storage",r)}},[]),O.useEffect(()=>{const r=window.document.documentElement;n==="dark"?r.classList.add("dark"):r.classList.remove("dark"),localStorage.setItem("theme",n)},[n]);const t=()=>{i(r=>r==="light"?"dark":"light")};return b.jsx(Su.Provider,{value:{theme:n,toggleTheme:t},children:e})},Cu=()=>{const e=O.useContext(Su);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},xu=O.createContext(void 0),Nf=({children:e})=>{const[n,i]=O.useState(!1),[t,r]=O.useState(!1);O.useEffect(()=>{const u=()=>{const c=window.innerWidth<1024;i(c),c||r(!1)};return u(),window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const o=()=>r(u=>!u),s=()=>r(!1),a=()=>r(!0);return b.jsx(xu.Provider,{value:{isMobile:n,isOpen:t,toggleSidebar:o,closeSidebar:s,openSidebar:a},children:e})},Pf=()=>{const e=O.useContext(xu);if(e===void 0)throw new Error("useSidebar must be used within a SidebarProvider");return e};var Iu={LANG:"C.UTF-8"},I;if(typeof window>"u"){var Hs={hostname:""};I={crypto:{randomUUID:function(){throw Error("unsupported")}},navigator:{userAgent:"",onLine:!0},document:{createElement:function(){return{}},location:Hs,referrer:""},screen:{width:0,height:0},location:Hs,addEventListener:function(){},removeEventListener:function(){},dispatchEvent:function(){},CustomEvent:function(){}}}else I=window;function Ys(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}function Ks(e,n,i,t,r,o,s){try{var a=e[o](s),u=a.value}catch(c){i(c);return}a.done?n(u):Promise.resolve(u).then(t,r)}function Xo(e){return function(){var n=this,i=arguments;return new Promise(function(t,r){var o=e.apply(n,i);function s(u){Ks(o,t,r,s,a,"next",u)}function a(u){Ks(o,t,r,s,a,"throw",u)}s(void 0)})}}function Tn(e,n,i){return Eu()?Tn=Reflect.construct:Tn=function(r,o,s){var a=[null];a.push.apply(a,o);var u=Function.bind.apply(r,a),c=new u;return s&&Dr(c,s.prototype),c},Tn.apply(null,arguments)}function Lf(e,n){for(var i=0;i<n.length;i++){var t=n[i];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function Te(e,n,i){return n&&Lf(e.prototype,n),e}function ee(){return ee=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t])}return e},ee.apply(this,arguments)}function to(e){return to=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},to(e)}function Pe(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&Dr(e,n)}function $(e,n){return n!=null&&typeof Symbol<"u"&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](e):e instanceof n}function $f(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function $r(e,n){if(e==null)return{};var i={},t=Object.keys(e),r,o;for(o=0;o<t.length;o++)r=t[o],!(n.indexOf(r)>=0)&&(i[r]=e[r]);return i}function Dr(e,n){return Dr=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t},Dr(e,n)}function z(e){"@swc/helpers - typeof";return e&&typeof Symbol<"u"&&e.constructor===Symbol?"symbol":typeof e}function Df(e,n){if(e){if(typeof e=="string")return Ys(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(i);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ys(e,n)}}function Fn(e){var n=typeof Map=="function"?new Map:void 0;return Fn=function(t){if(t===null||!$f(t))return t;if(typeof t!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return Tn(t,arguments,to(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Dr(r,t)},Fn(e)}function Eu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eu=function(){return!!e})()}function A(e,n){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=Df(e))||n){i&&(e=i);var t=0;return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Fr(e,n){var i,t,r,o,s={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(l){return u([c,l])}}function u(c){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,t&&(r=c[0]&2?t.return:c[0]?t.throw||((r=t.return)&&r.call(t),0):t.next)&&!(r=r.call(t,c[1])).done)return r;switch(t=0,r&&(c=[c[0]&2,r.value]),c[0]){case 0:case 1:r=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,t=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(r=s.trys,!(r=r.length>0&&r[r.length-1])&&(c[0]===6||c[0]===2)){s=0;continue}if(c[0]===3&&(!r||c[1]>r[0]&&c[1]<r[3])){s.label=c[1];break}if(c[0]===6&&s.label<r[1]){s.label=r[1],r=c;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(c);break}r[2]&&s.ops.pop(),s.trys.pop();continue}c=n.call(e,s)}catch(l){c=[6,l],t=0}finally{i=r=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function ku(e){var n=typeof Symbol=="function"&&Symbol.iterator,i=n&&e[n],t=0;if(i)return i.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ff=Object.defineProperty,Uf=function(e,n,i){return n in e?Ff(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i},E=function(e,n,i){return Uf(e,(typeof n>"u"?"undefined":z(n))!=="symbol"?n+"":n,i)},Js,Bf=Object.defineProperty,jf=function(e,n,i){return n in e?Bf(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i},Xs=function(e,n,i){return jf(e,(typeof n>"u"?"undefined":z(n))!=="symbol"?n+"":n,i)},Ee=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(Ee||{}),Zs={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},Qs={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},sn={},zf=function(){return!!globalThis.Zone};function Zo(e){if(sn[e])return sn[e];var n=globalThis[e],i=n.prototype,t=e in Zs?Zs[e]:void 0,r=!!(t&&t.every(function(l){var f,p;return!!((p=(f=Object.getOwnPropertyDescriptor(i,l))==null?void 0:f.get)!=null&&p.toString().includes("[native code]"))})),o=e in Qs?Qs[e]:void 0,s=!!(o&&o.every(function(l){var f;return typeof i[l]=="function"&&((f=i[l])==null?void 0:f.toString().includes("[native code]"))}));if(r&&s&&!zf())return sn[e]=n.prototype,n.prototype;try{var a=document.createElement("iframe");document.body.appendChild(a);var u=a.contentWindow;if(!u)return n.prototype;var c=u[e].prototype;return document.body.removeChild(a),c?sn[e]=c:i}catch{return i}}var Ti={};function kt(e,n,i){var t,r=e+"."+String(i);if(Ti[r])return Ti[r].call(n);var o=Zo(e),s=(t=Object.getOwnPropertyDescriptor(o,i))==null?void 0:t.get;return s?(Ti[r]=s,s.call(n)):n[i]}var Mi={};function Ou(e,n,i){var t=e+"."+String(i);if(Mi[t])return Mi[t].bind(n);var r=Zo(e),o=r[i];return typeof o!="function"?n[i]:(Mi[t]=o,o.bind(n))}function Wf(e){return kt("Node",e,"childNodes")}function Vf(e){return kt("Node",e,"parentNode")}function qf(e){return kt("Node",e,"parentElement")}function Gf(e){return kt("Node",e,"textContent")}function Hf(e,n){return Ou("Node",e,"contains")(n)}function Yf(e){return Ou("Node",e,"getRootNode")()}function Kf(e){return!e||!("host"in e)?null:kt("ShadowRoot",e,"host")}function Jf(e){return e.styleSheets}function Xf(e){return!e||!("shadowRoot"in e)?null:kt("Element",e,"shadowRoot")}function Zf(e,n){return kt("Element",e,"querySelector")(n)}function Qf(e,n){return kt("Element",e,"querySelectorAll")(n)}function eh(){return Zo("MutationObserver").constructor}function th(e,n,i){try{if(!(n in e))return function(){};var t=e[n],r=i(t);return typeof r=="function"&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:t}})),e[n]=r,function(){e[n]=t}}catch{return function(){}}}var Ne={childNodes:Wf,parentNode:Vf,parentElement:qf,textContent:Gf,contains:Hf,getRootNode:Yf,host:Kf,styleSheets:Jf,shadowRoot:Xf,querySelector:Zf,querySelectorAll:Qf,mutationObserver:eh,patch:th};function Au(e){return e.nodeType===e.ELEMENT_NODE}function Ar(e){var n=e&&"host"in e&&"mode"in e&&Ne.host(e)||null;return!!(n&&"shadowRoot"in n&&Ne.shadowRoot(n)===e)}function Rr(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function rh(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function nh(e){var n=e.cssText;if(n.split('"').length<3)return n;var i=["@import","url("+JSON.stringify(e.href)+")"];return e.layerName===""?i.push("layer"):e.layerName&&i.push("layer("+e.layerName+")"),e.supportsText&&i.push("supports("+e.supportsText+")"),e.media.length&&i.push(e.media.mediaText),i.join(" ")+";"}function ro(e){try{var n=e.rules||e.cssRules;if(!n)return null;var i=e.href;!i&&e.ownerNode&&e.ownerNode.ownerDocument&&(i=e.ownerNode.ownerDocument.location.href);var t=Array.from(n,function(r){return Ru(r,i)}).join("");return rh(t)}catch{return null}}function Ru(e,n){if(oh(e)){var i;try{i=ro(e.styleSheet)||nh(e)}catch{i=e.cssText}return e.styleSheet.href?jn(i,e.styleSheet.href):i}else{var t=e.cssText;return sh(e)&&e.selectorText.includes(":")&&(t=ih(t)),n?jn(t,n):t}}function ih(e){var n=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(n,"$1\\$2")}function oh(e){return"styleSheet"in e}function sh(e){return"selectorText"in e}var Tu=function(){function e(){Xs(this,"idNodeMap",new Map),Xs(this,"nodeMetaMap",new WeakMap)}var n=e.prototype;return n.getId=function(t){var r;if(!t)return-1;var o=(r=this.getMeta(t))==null?void 0:r.id;return o??-1},n.getNode=function(t){return this.idNodeMap.get(t)||null},n.getIds=function(){return Array.from(this.idNodeMap.keys())},n.getMeta=function(t){return this.nodeMetaMap.get(t)||null},n.removeNodeFromMap=function(t){var r=this,o=this.getId(t);this.idNodeMap.delete(o),t.childNodes&&t.childNodes.forEach(function(s){return r.removeNodeFromMap(s)})},n.has=function(t){return this.idNodeMap.has(t)},n.hasNode=function(t){return this.nodeMetaMap.has(t)},n.add=function(t,r){var o=r.id;this.idNodeMap.set(o,t),this.nodeMetaMap.set(t,r)},n.replace=function(t,r){var o=this.getNode(t);if(o){var s=this.nodeMetaMap.get(o);s&&this.nodeMetaMap.set(r,s)}this.idNodeMap.set(t,r)},n.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},e}();function ah(){return new Tu}function Un(e){var n=e.element,i=e.maskInputOptions,t=e.tagName,r=e.type,o=e.value,s=e.maskInputFn,a=o||"",u=r&&jt(r);return(i[t.toLowerCase()]||u&&i[u])&&(s?a=s(a,n):a="*".repeat(a.length)),a}function jt(e){return e.toLowerCase()}var ea="__rrweb_original__";function uh(e){var n=e.getContext("2d");if(!n)return!0;for(var i=50,t=0;t<e.width;t+=i)for(var r=0;r<e.height;r+=i){var o=n.getImageData,s=ea in o?o[ea]:o,a=new Uint32Array(s.call(n,t,r,Math.min(i,e.width-t),Math.min(i,e.height-r)).data.buffer);if(a.some(function(u){return u!==0}))return!1}return!0}function Bn(e){var n=e.type;return e.hasAttribute("data-rr-is-password")?"password":n?jt(n):null}function Mu(e,n){var i;try{i=new URL(e,n??window.location.href)}catch{return null}var t=/\.([0-9a-z]+)(?:$)/i,r=i.pathname.match(t),o;return(o=r==null?void 0:r[1])!=null?o:null}function ch(e){var n="";return e.indexOf("//")>-1?n=e.split("/").slice(0,3).join("/"):n=e.split("/")[0],n=n.split("?")[0],n}var lh=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,fh=/^(?:[a-z+]+:)?\/\//i,hh=/^www\..*/i,ph=/^(data:)([^,]*),(.*)/i;function jn(e,n){return(e||"").replace(lh,function(i,t,r,o,s,a){var u=r||s||a,c=t||o||"";if(!u)return i;if(fh.test(u)||hh.test(u)||ph.test(u))return"url("+c+u+c+")";if(u[0]==="/")return"url("+c+(ch(n)+u)+c+")";var l=n.split("/"),f=u.split("/");l.pop();for(var p=A(f),g;!(g=p()).done;){var v=g.value;v!=="."&&(v===".."?l.pop():l.push(v))}return"url("+c+l.join("/")+c+")"})}function an(e,n){return n===void 0&&(n=!1),n?e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):e.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}function dh(e,n,i){i===void 0&&(i=!1);var t=Array.from(n.childNodes),r=[],o=0;if(t.length>1&&e&&typeof e=="string"){for(var s=an(e,i),a=s.length/e.length,u=1;u<t.length;u++)if(t[u].textContent&&typeof t[u].textContent=="string"){for(var c=an(t[u].textContent,i),l=100,f=3;f<c.length&&(c[f].match(/[a-zA-Z0-9]/)||c.indexOf(c.substring(0,f),1)!==-1);f++);for(;f<c.length;f++){var p=c.substring(0,f),g=s.split(p),v=-1;if(g.length===2)v=g[0].length;else if(g.length>2&&g[0]===""&&t[u-1].textContent!=="")v=s.indexOf(p,1);else if(g.length===1){if(p=p.substring(0,p.length-1),g=s.split(p),g.length<=1)return r.push(e),r;f=l+1}else f===c.length-1&&(v=s.indexOf(p));if(g.length>=2&&f>l){var y=t[u-1].textContent;if(y&&typeof y=="string"){var d=an(y).length;v=s.indexOf(p,d)}v===-1&&(v=g[0].length)}if(v!==-1){for(var m=Math.floor(v/a);m>0&&m<e.length;){if(o+=1,o>50*t.length)return r.push(e),r;var _=an(e.substring(0,m),i);if(_.length===v){r.push(e.substring(0,m)),e=e.substring(m),s=s.substring(v);break}else _.length<v?m+=Math.max(1,Math.floor((v-_.length)/a)):m-=Math.max(1,Math.floor((_.length-v)*a))}break}}}}return r.push(e),r}function vh(e,n){return dh(e,n).join("/* rr_split */")}var gh=1,mh=new RegExp("[^a-z0-9-_:]"),Ur=-2;function Nu(){return gh++}function yh(e){if($(e,HTMLFormElement))return"form";var n=jt(e.tagName);return mh.test(n)?"div":n}var Jt,ta,_h=/^[^ \t\n\r\u000c]+/,bh=/^[, \t\n\r\u000c]+/;function wh(e,n){if(n.trim()==="")return n;var i=0;function t(c){var l,f=c.exec(n.substring(i));return f?(l=f[0],i+=l.length,l):""}for(var r=[];t(bh),!(i>=n.length);){var o=t(_h);if(o.slice(-1)===",")o=tr(e,o.substring(0,o.length-1)),r.push(o);else{var s="";o=tr(e,o);for(var a=!1;;){var u=n.charAt(i);if(u===""){r.push((o+s).trim());break}else if(a)u===")"&&(a=!1);else if(u===","){i+=1,r.push((o+s).trim());break}else u==="("&&(a=!0);s+=u,i+=1}}}return r.join(", ")}var ra=new WeakMap;function tr(e,n){return!n||n.trim()===""?n:Qo(e,n)}function Sh(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Qo(e,n){var i=ra.get(e);if(i||(i=e.createElement("a"),ra.set(e,i)),!n)n="";else if(n.startsWith("blob:")||n.startsWith("data:"))return n;return i.setAttribute("href",n),i.href}function Pu(e,n,i,t){return t&&(i==="src"||i==="href"&&!(n==="use"&&t[0]==="#")||i==="xlink:href"&&t[0]!=="#"||i==="background"&&(n==="table"||n==="td"||n==="th")?tr(e,t):i==="srcset"?wh(e,t):i==="style"?jn(t,Qo(e)):n==="object"&&i==="data"?tr(e,t):t)}function Lu(e,n,i){return(e==="video"||e==="audio")&&n==="autoplay"}function Ch(e,n,i){try{if(typeof n=="string"){if(e.classList.contains(n))return!0}else for(var t=e.classList.length;t--;){var r=e.classList[t];if(n.test(r))return!0}if(i)return e.matches(i)}catch{}return!1}function zn(e,n,i){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return i?zn(Ne.parentNode(e),n,i):!1;for(var t=e.classList.length;t--;){var r=e.classList[t];if(n.test(r))return!0}return i?zn(Ne.parentNode(e),n,i):!1}function $u(e,n,i,t){var r;if(Au(e)){if(r=e,!Ne.childNodes(r).length)return!1}else{if(Ne.parentElement(e)===null)return!1;r=Ne.parentElement(e)}try{if(typeof n=="string"){if(t){if(r.closest("."+n))return!0}else if(r.classList.contains(n))return!0}else if(zn(r,n,t))return!0;if(i){if(t){if(r.closest(i))return!0}else if(r.matches(i))return!0}}catch{}return!1}function xh(e,n,i){var t=e.contentWindow;if(t){var r=!1,o;try{o=t.document.readyState}catch{return}if(o!=="complete"){var s=setTimeout(function(){r||(n(),r=!0)},i);e.addEventListener("load",function(){clearTimeout(s),r=!0,n()});return}var a="about:blank";if(t.location.href!==a||e.src===a||e.src==="")return setTimeout(n,0),e.addEventListener("load",n);e.addEventListener("load",n)}}function Ih(e,n,i){var t=!1,r;try{r=e.sheet}catch{return}if(!r){var o=setTimeout(function(){t||(n(),t=!0)},i);e.addEventListener("load",function(){clearTimeout(o),t=!0,n()})}}function Eh(e,n){var i=n.doc,t=n.mirror,r=n.blockClass,o=n.blockSelector,s=n.needsMask,a=n.inlineStylesheet,u=n.maskInputOptions,c=u===void 0?{}:u,l=n.maskTextFn,f=n.maskInputFn,p=n.dataURLOptions,g=p===void 0?{}:p,v=n.inlineImages,y=n.recordCanvas,d=n.keepIframeSrcFn,m=n.newlyAddedElement,_=m===void 0?!1:m,w=n.cssCaptured,C=w===void 0?!1:w,x=kh(i,t);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ee.Document,childNodes:[],compatMode:e.compatMode}:{type:Ee.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ee.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:x};case e.ELEMENT_NODE:return Ah(e,{doc:i,blockClass:r,blockSelector:o,inlineStylesheet:a,maskInputOptions:c,maskInputFn:f,dataURLOptions:g,inlineImages:v,recordCanvas:y,keepIframeSrcFn:d,newlyAddedElement:_,rootId:x});case e.TEXT_NODE:return Oh(e,{doc:i,needsMask:s,maskTextFn:l,rootId:x,cssCaptured:C});case e.CDATA_SECTION_NODE:return{type:Ee.CDATA,textContent:"",rootId:x};case e.COMMENT_NODE:return{type:Ee.Comment,textContent:Ne.textContent(e)||"",rootId:x};default:return!1}}function kh(e,n){if(n.hasNode(e)){var i=n.getId(e);return i===1?void 0:i}}function Oh(e,n){var i=n.needsMask,t=n.maskTextFn,r=n.rootId,o=n.cssCaptured,s=Ne.parentNode(e),a=s&&s.tagName,u="",c=a==="STYLE"?!0:void 0,l=a==="SCRIPT"?!0:void 0;return l?u="SCRIPT_PLACEHOLDER":o||(u=Ne.textContent(e),c&&u&&(u=jn(u,Qo(n.doc)))),!c&&!l&&u&&i&&(u=t?t(u,Ne.parentElement(e)):u.replace(/[\S]/g,"*")),{type:Ee.Text,textContent:u||"",rootId:r}}function Ah(e,n){for(var i=n.doc,t=n.blockClass,r=n.blockSelector,o=n.inlineStylesheet,s=n.maskInputOptions,a=s===void 0?{}:s,u=n.maskInputFn,c=n.dataURLOptions,l=c===void 0?{}:c,f=n.inlineImages,p=n.recordCanvas,g=n.keepIframeSrcFn,v=n.newlyAddedElement,y=v===void 0?!1:v,d=n.rootId,m=Ch(e,t,r),_=yh(e),w={},C=e.attributes.length,x=0;x<C;x++){var k=e.attributes[x];Lu(_,k.name,k.value)||(w[k.name]=Pu(i,_,jt(k.name),k.value))}if(_==="link"&&o){var R=Array.from(i.styleSheets).find(function(Le){return Le.href===e.href}),T=null;R&&(T=ro(R)),T&&(delete w.rel,delete w.href,w._cssText=T)}if(_==="style"&&e.sheet){var M=ro(e.sheet);M&&(e.childNodes.length>1&&(M=vh(M,e)),w._cssText=M)}if(_==="input"||_==="textarea"||_==="select"){var B=e.value,N=e.checked;w.type!=="radio"&&w.type!=="checkbox"&&w.type!=="submit"&&w.type!=="button"&&B?w.value=Un({element:e,type:Bn(e),tagName:_,value:B,maskInputOptions:a,maskInputFn:u}):N&&(w.checked=N)}if(_==="option"&&(e.selected&&!a.select?w.selected=!0:delete w.selected),_==="dialog"&&e.open&&(w.rr_open_mode=e.matches("dialog:modal")?"modal":"non-modal"),_==="canvas"&&p){if(e.__context==="2d")uh(e)||(w.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){var j=e.toDataURL(l.type,l.quality),Y=i.createElement("canvas");Y.width=e.width,Y.height=e.height;var Ce=Y.toDataURL(l.type,l.quality);j!==Ce&&(w.rr_dataURL=j)}}if(_==="img"&&f){Jt||(Jt=i.createElement("canvas"),ta=Jt.getContext("2d"));var V=e,xe=V.currentSrc||V.getAttribute("src")||"<unknown-src>",Oe=V.crossOrigin,oe=function(){V.removeEventListener("load",oe);try{Jt.width=V.naturalWidth,Jt.height=V.naturalHeight,ta.drawImage(V,0,0),w.rr_dataURL=Jt.toDataURL(l.type,l.quality)}catch(Le){if(V.crossOrigin!=="anonymous"){V.crossOrigin="anonymous",V.complete&&V.naturalWidth!==0?oe():V.addEventListener("load",oe);return}else console.warn("Cannot inline img src="+xe+"! Error: "+Le)}V.crossOrigin==="anonymous"&&(Oe?w.crossOrigin=Oe:V.removeAttribute("crossorigin"))};V.complete&&V.naturalWidth!==0?oe():V.addEventListener("load",oe)}if(_==="audio"||_==="video"){var de=w;de.rr_mediaState=e.paused?"paused":"played",de.rr_mediaCurrentTime=e.currentTime,de.rr_mediaPlaybackRate=e.playbackRate,de.rr_mediaMuted=e.muted,de.rr_mediaLoop=e.loop,de.rr_mediaVolume=e.volume}if(y||(e.scrollLeft&&(w.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(w.rr_scrollTop=e.scrollTop)),m){var Ae=e.getBoundingClientRect(),st=Ae.width,We=Ae.height;w={class:w.class,rr_width:""+st+"px",rr_height:""+We+"px"}}_==="iframe"&&!g(w.src)&&(e.contentDocument||(w.rr_src=w.src),delete w.src);var _t;try{customElements.get(_)&&(_t=!0)}catch{}return{type:Ee.Element,tagName:_,attributes:w,childNodes:[],isSVG:Sh(e)||void 0,needBlock:m,rootId:d,isCustom:_t}}function ae(e){return e==null?"":e.toLowerCase()}function Rh(e,n){if(n.comment&&e.type===Ee.Comment)return!0;if(e.type===Ee.Element){if(n.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"&&e.attributes.as==="script"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Mu(e.attributes.href)==="js"))return!0;if(n.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ae(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ae(e.attributes.name)==="application-name"||ae(e.attributes.rel)==="icon"||ae(e.attributes.rel)==="apple-touch-icon"||ae(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(n.headMetaDescKeywords&&ae(e.attributes.name).match(/^description|keywords$/))return!0;if(n.headMetaSocial&&(ae(e.attributes.property).match(/^(og|twitter|fb):/)||ae(e.attributes.name).match(/^(og|twitter):/)||ae(e.attributes.name)==="pinterest"))return!0;if(n.headMetaRobots&&(ae(e.attributes.name)==="robots"||ae(e.attributes.name)==="googlebot"||ae(e.attributes.name)==="bingbot"))return!0;if(n.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(n.headMetaAuthorship&&(ae(e.attributes.name)==="author"||ae(e.attributes.name)==="generator"||ae(e.attributes.name)==="framework"||ae(e.attributes.name)==="publisher"||ae(e.attributes.name)==="progid"||ae(e.attributes.property).match(/^article:/)||ae(e.attributes.property).match(/^product:/)))return!0;if(n.headMetaVerification&&(ae(e.attributes.name)==="google-site-verification"||ae(e.attributes.name)==="yandex-verification"||ae(e.attributes.name)==="csrf-token"||ae(e.attributes.name)==="p:domain_verify"||ae(e.attributes.name)==="verify-v1"||ae(e.attributes.name)==="verification"||ae(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function rr(e,n){var i=n.doc,t=n.mirror,r=n.blockClass,o=n.blockSelector,s=n.maskTextClass,a=n.maskTextSelector,u=n.skipChild,c=u===void 0?!1:u,l=n.inlineStylesheet,f=l===void 0?!0:l,p=n.maskInputOptions,g=p===void 0?{}:p,v=n.maskTextFn,y=n.maskInputFn,d=n.slimDOMOptions,m=n.dataURLOptions,_=m===void 0?{}:m,w=n.inlineImages,C=w===void 0?!1:w,x=n.recordCanvas,k=x===void 0?!1:x,R=n.onSerialize,T=n.onIframeLoad,M=n.iframeLoadTimeout,B=M===void 0?5e3:M,N=n.onStylesheetLoad,j=n.stylesheetLoadTimeout,Y=j===void 0?5e3:j,Ce=n.keepIframeSrcFn,V=Ce===void 0?function(){return!1}:Ce,xe=n.newlyAddedElement,Oe=xe===void 0?!1:xe,oe=n.cssCaptured,de=oe===void 0?!1:oe,Ae=n.needsMask,st=n.preserveWhiteSpace,We=st===void 0?!0:st;if(!Ae){var _t=Ae===void 0;Ae=$u(e,s,a,_t)}var Le=Eh(e,{doc:i,mirror:t,blockClass:r,blockSelector:o,needsMask:Ae,inlineStylesheet:f,maskInputOptions:g,maskTextFn:v,maskInputFn:y,dataURLOptions:_,inlineImages:C,recordCanvas:k,keepIframeSrcFn:V,newlyAddedElement:Oe,cssCaptured:de});if(!Le)return console.warn(e,"not serialized"),null;var at;t.hasNode(e)?at=t.getId(e):Rh(Le,d)||!We&&Le.type===Ee.Text&&!Le.textContent.replace(/^\s+|\s+$/gm,"").length?at=Ur:at=Nu();var Z=Object.assign(Le,{id:at});if(t.add(e,Z),at===Ur)return null;R&&R(e);var Q=!c;if(Z.type===Ee.Element){Q=Q&&!Z.needBlock,delete Z.needBlock;var L=Ne.shadowRoot(e);L&&Rr(L)&&(Z.isShadowHost=!0)}if((Z.type===Ee.Document||Z.type===Ee.Element)&&Q){d.headWhitespace&&Z.type===Ee.Element&&Z.tagName==="head"&&(We=!1);var te={doc:i,mirror:t,blockClass:r,blockSelector:o,needsMask:Ae,maskTextClass:s,maskTextSelector:a,skipChild:c,inlineStylesheet:f,maskInputOptions:g,maskTextFn:v,maskInputFn:y,slimDOMOptions:d,dataURLOptions:_,inlineImages:C,recordCanvas:k,preserveWhiteSpace:We,onSerialize:R,onIframeLoad:T,iframeLoadTimeout:B,onStylesheetLoad:N,stylesheetLoadTimeout:Y,keepIframeSrcFn:V,cssCaptured:!1};if(!(Z.type===Ee.Element&&Z.tagName==="textarea"&&Z.attributes.value!==void 0)){Z.type===Ee.Element&&Z.attributes._cssText!==void 0&&typeof Z.attributes._cssText=="string"&&(te.cssCaptured=!0);for(var Ie=A(Array.from(Ne.childNodes(e))),$e;!($e=Ie()).done;){var Re=$e.value,Xe=rr(Re,te);Xe&&Z.childNodes.push(Xe)}}var bt=null;if(Au(e)&&(bt=Ne.shadowRoot(e)))for(var Lt=A(Array.from(Ne.childNodes(bt))),Yt;!(Yt=Lt()).done;){var br=Yt.value,Kt=rr(br,te);Kt&&(Rr(bt)&&(Kt.isShadow=!0),Z.childNodes.push(Kt))}}var $t=Ne.parentNode(e);return $t&&Ar($t)&&Rr($t)&&(Z.isShadow=!0),Z.type===Ee.Element&&Z.tagName==="iframe"&&xh(e,function(){var ut=e.contentDocument;if(ut&&T){var Dt=rr(ut,{doc:ut,mirror:t,blockClass:r,blockSelector:o,needsMask:Ae,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:f,maskInputOptions:g,maskTextFn:v,maskInputFn:y,slimDOMOptions:d,dataURLOptions:_,inlineImages:C,recordCanvas:k,preserveWhiteSpace:We,onSerialize:R,onIframeLoad:T,iframeLoadTimeout:B,onStylesheetLoad:N,stylesheetLoadTimeout:Y,keepIframeSrcFn:V});Dt&&T(e,Dt)}},B),Z.type===Ee.Element&&Z.tagName==="link"&&typeof Z.attributes.rel=="string"&&(Z.attributes.rel==="stylesheet"||Z.attributes.rel==="preload"&&typeof Z.attributes.href=="string"&&Mu(Z.attributes.href)==="css")&&Ih(e,function(){if(N){var ut=rr(e,{doc:i,mirror:t,blockClass:r,blockSelector:o,needsMask:Ae,maskTextClass:s,maskTextSelector:a,skipChild:!1,inlineStylesheet:f,maskInputOptions:g,maskTextFn:v,maskInputFn:y,slimDOMOptions:d,dataURLOptions:_,inlineImages:C,recordCanvas:k,preserveWhiteSpace:We,onSerialize:R,onIframeLoad:T,iframeLoadTimeout:B,onStylesheetLoad:N,stylesheetLoadTimeout:Y,keepIframeSrcFn:V});ut&&N(e,ut)}},Y),Z}function Th(e,n){var i=n||{},t=i.mirror,r=t===void 0?new Tu:t,o=i.blockClass,s=o===void 0?"rr-block":o,a=i.blockSelector,u=a===void 0?null:a,c=i.maskTextClass,l=c===void 0?"rr-mask":c,f=i.maskTextSelector,p=f===void 0?null:f,g=i.inlineStylesheet,v=g===void 0?!0:g,y=i.inlineImages,d=y===void 0?!1:y,m=i.recordCanvas,_=m===void 0?!1:m,w=i.maskAllInputs,C=w===void 0?!1:w,x=i.maskTextFn,k=i.maskInputFn,R=i.slimDOM,T=R===void 0?!1:R,M=i.dataURLOptions,B=i.preserveWhiteSpace,N=i.onSerialize,j=i.onIframeLoad,Y=i.iframeLoadTimeout,Ce=i.onStylesheetLoad,V=i.stylesheetLoadTimeout,xe=i.keepIframeSrcFn,Oe=xe===void 0?function(){return!1}:xe,oe=C===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0,hidden:!0}:C===!1?{password:!0}:C,de=T===!0||T==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:T==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:T===!1?{}:T;return rr(e,{doc:e,mirror:r,blockClass:s,blockSelector:u,maskTextClass:l,maskTextSelector:p,skipChild:!1,inlineStylesheet:v,maskInputOptions:oe,maskTextFn:x,maskInputFn:k,slimDOMOptions:de,dataURLOptions:M,inlineImages:d,recordCanvas:_,preserveWhiteSpace:B,onSerialize:N,onIframeLoad:j,iframeLoadTimeout:Y,onStylesheetLoad:Ce,stylesheetLoadTimeout:V,keepIframeSrcFn:Oe,newlyAddedElement:!1})}function Mh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Nh(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var i=function t(){return $(this,t)?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),i}var es={exports:{}},ce=String,Du=function(){return{isColorSupported:!1,reset:ce,bold:ce,dim:ce,italic:ce,underline:ce,inverse:ce,hidden:ce,strikethrough:ce,black:ce,red:ce,green:ce,yellow:ce,blue:ce,magenta:ce,cyan:ce,white:ce,gray:ce,bgBlack:ce,bgRed:ce,bgGreen:ce,bgYellow:ce,bgBlue:ce,bgMagenta:ce,bgCyan:ce,bgWhite:ce}};es.exports=Du();es.exports.createColors=Du;var Ph=es.exports,Lh={},$h=Object.freeze(Object.defineProperty({__proto__:null,default:Lh},Symbol.toStringTag,{value:"Module"})),ye=Nh($h),na=Ph,ia=ye,no=function(e){Pe(n,e);function n(t,r,o,s,a,u){var c;return c=e.call(this,t)||this,c.name="CssSyntaxError",c.reason=t,a&&(c.file=a),s&&(c.source=s),u&&(c.plugin=u),typeof r<"u"&&typeof o<"u"&&(typeof r=="number"?(c.line=r,c.column=o):(c.line=r.line,c.column=r.column,c.endLine=o.line,c.endColumn=o.column)),c.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(c,n),c}var i=n.prototype;return i.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},i.showSourceCode=function(r){var o=this;if(!this.source)return"";var s=this.source;r==null&&(r=na.isColorSupported),ia&&r&&(s=ia(s));var a=s.split(/\r?\n/),u=Math.max(this.line-3,0),c=Math.min(this.line+2,a.length),l=String(c).length,f,p;if(r){var g=na.createColors(!0),v=g.bold,y=g.gray,d=g.red;f=function(m){return v(d(m))},p=function(m){return y(m)}}else f=p=function(m){return m};return a.slice(u,c).map(function(m,_){var w=u+1+_,C=" "+(" "+w).slice(-l)+" | ";if(w===o.line){var x=p(C.replace(/\d/g," "))+m.slice(0,o.column-1).replace(/[^\t]/g," ");return f(">")+p(C)+m+`
 `+x+f("^")}return" "+p(C)+m}).join(`
`)},i.toString=function(){var r=this.showSourceCode();return r&&(r=`

`+r+`
`),this.name+": "+this.message+r},n}(Fn(Error)),ts=no;no.default=no;var Ot={};Ot.isClean=Symbol("isClean");Ot.my=Symbol("my");var oa={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function Dh(e){return e[0].toUpperCase()+e.slice(1)}var io=function(){function e(i){this.builder=i}var n=e.prototype;return n.atrule=function(t,r){var o="@"+t.name,s=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?o+=t.raws.afterName:s&&(o+=" "),t.nodes)this.block(t,o+s);else{var a=(t.raws.between||"")+(r?";":"");this.builder(o+s+a,t)}},n.beforeAfter=function(t,r){var o;t.type==="decl"?o=this.raw(t,null,"beforeDecl"):t.type==="comment"?o=this.raw(t,null,"beforeComment"):r==="before"?o=this.raw(t,null,"beforeRule"):o=this.raw(t,null,"beforeClose");for(var s=t.parent,a=0;s&&s.type!=="root";)a+=1,s=s.parent;if(o.includes(`
`)){var u=this.raw(t,null,"indent");if(u.length)for(var c=0;c<a;c++)o+=u}return o},n.block=function(t,r){var o=this.raw(t,"between","beforeOpen");this.builder(r+o+"{",t,"start");var s;t.nodes&&t.nodes.length?(this.body(t),s=this.raw(t,"after")):s=this.raw(t,"after","emptyBody"),s&&this.builder(s),this.builder("}",t,"end")},n.body=function(t){for(var r=t.nodes.length-1;r>0&&t.nodes[r].type==="comment";)r-=1;for(var o=this.raw(t,"semicolon"),s=0;s<t.nodes.length;s++){var a=t.nodes[s],u=this.raw(a,"before");u&&this.builder(u),this.stringify(a,r!==s||o)}},n.comment=function(t){var r=this.raw(t,"left","commentLeft"),o=this.raw(t,"right","commentRight");this.builder("/*"+r+t.text+o+"*/",t)},n.decl=function(t,r){var o=this.raw(t,"between","colon"),s=t.prop+o+this.rawValue(t,"value");t.important&&(s+=t.raws.important||" !important"),r&&(s+=";"),this.builder(s,t)},n.document=function(t){this.body(t)},n.raw=function(t,r,o){var s;if(o||(o=r),r&&(s=t.raws[r],typeof s<"u"))return s;var a=t.parent;if(o==="before"&&(!a||a.type==="root"&&a.first===t||a&&a.type==="document"))return"";if(!a)return oa[o];var u=t.root();if(u.rawCache||(u.rawCache={}),typeof u.rawCache[o]<"u")return u.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(t,o);var c="raw"+Dh(o);return this[c]?s=this[c](u,t):u.walk(function(l){if(s=l.raws[r],typeof s<"u")return!1}),typeof s>"u"&&(s=oa[o]),u.rawCache[o]=s,s},n.rawBeforeClose=function(t){var r;return t.walk(function(o){if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return r=o.raws.after,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r},n.rawBeforeComment=function(t,r){var o;return t.walkComments(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(r,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o},n.rawBeforeDecl=function(t,r){var o;return t.walkDecls(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(r,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o},n.rawBeforeOpen=function(t){var r;return t.walk(function(o){if(o.type!=="decl"&&(r=o.raws.between,typeof r<"u"))return!1}),r},n.rawBeforeRule=function(t){var r;return t.walk(function(o){if(o.nodes&&(o.parent!==t||t.first!==o)&&typeof o.raws.before<"u")return r=o.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r},n.rawColon=function(t){var r;return t.walkDecls(function(o){if(typeof o.raws.between<"u")return r=o.raws.between.replace(/[^\s:]/g,""),!1}),r},n.rawEmptyBody=function(t){var r;return t.walk(function(o){if(o.nodes&&o.nodes.length===0&&(r=o.raws.after,typeof r<"u"))return!1}),r},n.rawIndent=function(t){if(t.raws.indent)return t.raws.indent;var r;return t.walk(function(o){var s=o.parent;if(s&&s!==t&&s.parent&&s.parent===t&&typeof o.raws.before<"u"){var a=o.raws.before.split(`
`);return r=a[a.length-1],r=r.replace(/\S/g,""),!1}}),r},n.rawSemicolon=function(t){var r;return t.walk(function(o){if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(r=o.raws.semicolon,typeof r<"u"))return!1}),r},n.rawValue=function(t,r){var o=t[r],s=t.raws[r];return s&&s.value===o?s.raw:o},n.root=function(t){this.body(t),t.raws.after&&this.builder(t.raws.after)},n.rule=function(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")},n.stringify=function(t,r){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,r)},e}(),Fu=io;io.default=io;var Fh=Fu;function oo(e,n){var i=new Fh(n);i.stringify(e)}var pi=oo;oo.default=oo;var un=Ot.isClean,Uh=Ot.my,Bh=ts,jh=Fu,zh=pi;function so(e,n){var i=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&t!=="proxyCache"){var r=e[t],o=typeof r>"u"?"undefined":z(r);t==="parent"&&o==="object"?n&&(i[t]=n):t==="source"?i[t]=r:Array.isArray(r)?i[t]=r.map(function(s){return so(s,i)}):(o==="object"&&r!==null&&(r=so(r)),i[t]=r)}return i}var ao=function(){function e(i){i===void 0&&(i={}),this.raws={},this[un]=!1,this[Uh]=!0;for(var t in i)if(t==="nodes"){this.nodes=[];for(var r=A(i[t]),o;!(o=r()).done;){var s=o.value;typeof s.clone=="function"?this.append(s.clone()):this.append(s)}}else this[t]=i[t]}var n=e.prototype;return n.addToError=function(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){var r=this.source;t.stack=t.stack.replace(/\n\s{4}at /,"$&"+r.input.from+":"+r.start.line+":"+r.start.column+"$&")}return t},n.after=function(t){return this.parent.insertAfter(this,t),this},n.assign=function(t){t===void 0&&(t={});for(var r in t)this[r]=t[r];return this},n.before=function(t){return this.parent.insertBefore(this,t),this},n.cleanRaws=function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between},n.clone=function(t){t===void 0&&(t={});var r=so(this);for(var o in t)r[o]=t[o];return r},n.cloneAfter=function(t){t===void 0&&(t={});var r=this.clone(t);return this.parent.insertAfter(this,r),r},n.cloneBefore=function(t){t===void 0&&(t={});var r=this.clone(t);return this.parent.insertBefore(this,r),r},n.error=function(t,r){if(r===void 0&&(r={}),this.source){var o=this.rangeBy(r),s=o.end,a=o.start;return this.source.input.error(t,{column:a.column,line:a.line},{column:s.column,line:s.line},r)}return new Bh(t)},n.getProxyProcessor=function(){return{get:function(r,o){return o==="proxyOf"?r:o==="root"?function(){return r.root().toProxy()}:r[o]},set:function(r,o,s){return r[o]===s||(r[o]=s,(o==="prop"||o==="value"||o==="name"||o==="params"||o==="important"||o==="text")&&r.markDirty()),!0}}},n.markDirty=function(){if(this[un]){this[un]=!1;for(var t=this;t=t.parent;)t[un]=!1}},n.next=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}},n.positionBy=function(t,r){var o=this.source.start;if(t.index)o=this.positionInside(t.index,r);else if(t.word){r=this.toString();var s=r.indexOf(t.word);s!==-1&&(o=this.positionInside(s,r))}return o},n.positionInside=function(t,r){for(var o=r||this.toString(),s=this.source.start.column,a=this.source.start.line,u=0;u<t;u++)o[u]===`
`?(s=1,a+=1):s+=1;return{column:s,line:a}},n.prev=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}},n.rangeBy=function(t){var r={column:this.source.start.column,line:this.source.start.line},o=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:r.column+1,line:r.line};if(t.word){var s=this.toString(),a=s.indexOf(t.word);a!==-1&&(r=this.positionInside(a,s),o=this.positionInside(a+t.word.length,s))}else t.start?r={column:t.start.column,line:t.start.line}:t.index&&(r=this.positionInside(t.index)),t.end?o={column:t.end.column,line:t.end.line}:typeof t.endIndex=="number"?o=this.positionInside(t.endIndex):t.index&&(o=this.positionInside(t.index+1));return(o.line<r.line||o.line===r.line&&o.column<=r.column)&&(o={column:r.column+1,line:r.line}),{end:o,start:r}},n.raw=function(t,r){var o=new jh;return o.raw(this,t,r)},n.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},n.replaceWith=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];if(this.parent){for(var s=this,a=!1,u=A(r),c;!(c=u()).done;){var l=c.value;l===this?a=!0:a?(this.parent.insertAfter(s,l),s=l):this.parent.insertBefore(s,l)}a||this.remove()}return this},n.root=function(){for(var t=this;t.parent&&t.parent.type!=="document";)t=t.parent;return t},n.toJSON=function(t,r){var o={},s=r==null;r=r||new Map;var a=0;for(var u in this)if(Object.prototype.hasOwnProperty.call(this,u)&&!(u==="parent"||u==="proxyCache")){var c=this[u];if(Array.isArray(c))o[u]=c.map(function(f){return(typeof f>"u"?"undefined":z(f))==="object"&&f.toJSON?f.toJSON(null,r):f});else if((typeof c>"u"?"undefined":z(c))==="object"&&c.toJSON)o[u]=c.toJSON(null,r);else if(u==="source"){var l=r.get(c.input);l==null&&(l=a,r.set(c.input,a),a++),o[u]={end:c.end,inputId:l,start:c.start}}else o[u]=c}return s&&(o.inputs=[].concat(r.keys()).map(function(f){return f.toJSON()})),o},n.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},n.toString=function(t){t===void 0&&(t=zh),t.stringify&&(t=t.stringify);var r="";return t(this,function(o){r+=o}),r},n.warn=function(t,r,o){var s={node:this};for(var a in o)s[a]=o[a];return t.warn(r,s)},Te(e,[{key:"proxyOf",get:function(){return this}}]),e}(),di=ao;ao.default=ao;var Wh=di,uo=function(e){Pe(n,e);function n(i){var t;return i&&typeof i.value<"u"&&typeof i.value!="string"&&(i=ee({},i,{value:String(i.value)})),t=e.call(this,i)||this,t.type="decl",t}return Te(n,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),n}(Wh),vi=uo;uo.default=uo;var Vh="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",qh=function(e){e===void 0&&(e=21);for(var n="",i=e;i--;)n+=Vh[Math.random()*64|0];return n},Gh={nanoid:qh},sa=ye.SourceMapConsumer,aa=ye.SourceMapGenerator,Hh=ye.existsSync,Yh=ye.readFileSync,Ni=ye.dirname,Kh=ye.join;function Jh(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var co=function(){function e(i,t){if(t.map!==!1){this.loadAnnotation(i),this.inline=this.startWith(this.annotation,"data:");var r=t.map?t.map.prev:void 0,o=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Ni(this.mapFile)),o&&(this.text=o)}}var n=e.prototype;return n.consumer=function(){return this.consumerCache||(this.consumerCache=new sa(this.text)),this.consumerCache},n.decodeInline=function(t){var r=/^data:application\/json;charset=utf-?8;base64,/,o=/^data:application\/json;base64,/,s=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/;if(s.test(t)||a.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(r.test(t)||o.test(t))return Jh(t.substr(RegExp.lastMatch.length));var u=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+u)},n.getAnnotationURL=function(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},n.isMap=function(t){return(typeof t>"u"?"undefined":z(t))!=="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)},n.loadAnnotation=function(t){var r=t.match(/\/\*\s*# sourceMappingURL=/gm);if(r){var o=t.lastIndexOf(r.pop()),s=t.indexOf("*/",o);o>-1&&s>-1&&(this.annotation=this.getAnnotationURL(t.substring(o,s)))}},n.loadFile=function(t){if(this.root=Ni(t),Hh(t))return this.mapFile=t,Yh(t,"utf-8").toString().trim()},n.loadMap=function(t,r){if(r===!1)return!1;if(r){if(typeof r=="string")return r;if(typeof r=="function"){var o=r(t);if(o){var s=this.loadFile(o);if(!s)throw new Error("Unable to load previous source map: "+o.toString());return s}}else{if($(r,sa))return aa.fromSourceMap(r).toString();if($(r,aa))return r.toString();if(this.isMap(r))return JSON.stringify(r);throw new Error("Unsupported previous source map format: "+r.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var a=this.annotation;return t&&(a=Kh(Ni(t),a)),this.loadFile(a)}}},n.startWith=function(t,r){return t?t.substr(0,r.length)===r:!1},n.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e}(),Uu=co;co.default=co;var Xh=ye.SourceMapConsumer,Zh=ye.SourceMapGenerator,ua=ye.fileURLToPath,cn=ye.pathToFileURL,lo=ye.isAbsolute,fo=ye.resolve,Qh=Gh.nanoid,Pi=ye,ca=ts,ep=Uu,Li=Symbol("fromOffsetCache"),tp=!!(Xh&&Zh),la=!!(fo&&lo),Wn=function(){function e(i,t){if(t===void 0&&(t={}),i===null||typeof i>"u"||(typeof i>"u"?"undefined":z(i))==="object"&&!i.toString)throw new Error("PostCSS received "+i+" instead of CSS string");if(this.css=i.toString(),this.css[0]==="\uFEFF"||this.css[0]==="ï¿¾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!la||/^\w+:\/\//.test(t.from)||lo(t.from)?this.file=t.from:this.file=fo(t.from)),la&&tp){var r=new ep(this.css,t);if(r.text){this.map=r;var o=r.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+Qh(6)+">"),this.map&&(this.map.file=this.from)}var n=e.prototype;return n.error=function(t,r,o,s){s===void 0&&(s={});var a,u,c;if(r&&(typeof r>"u"?"undefined":z(r))==="object"){var l=r,f=o;if(typeof l.offset=="number"){var p=this.fromOffset(l.offset);r=p.line,o=p.col}else r=l.line,o=l.column;if(typeof f.offset=="number"){var g=this.fromOffset(f.offset);u=g.line,c=g.col}else u=f.line,c=f.column}else if(!o){var v=this.fromOffset(r);r=v.line,o=v.col}var y=this.origin(r,o,u,c);return y?a=new ca(t,y.endLine===void 0?y.line:{column:y.column,line:y.line},y.endLine===void 0?y.column:{column:y.endColumn,line:y.endLine},y.source,y.file,s.plugin):a=new ca(t,u===void 0?r:{column:o,line:r},u===void 0?o:{column:c,line:u},this.css,this.file,s.plugin),a.input={column:o,endColumn:c,endLine:u,line:r,source:this.css},this.file&&(cn&&(a.input.url=cn(this.file).toString()),a.input.file=this.file),a},n.fromOffset=function(t){var r,o;if(this[Li])o=this[Li];else{var s=this.css.split(`
`);o=new Array(s.length);for(var a=0,u=0,c=s.length;u<c;u++)o[u]=a,a+=s[u].length+1;this[Li]=o}r=o[o.length-1];var l=0;if(t>=r)l=o.length-1;else for(var f=o.length-2,p;l<f;)if(p=l+(f-l>>1),t<o[p])f=p-1;else if(t>=o[p+1])l=p+1;else{l=p;break}return{col:t-o[l]+1,line:l+1}},n.mapResolve=function(t){return/^\w+:\/\//.test(t)?t:fo(this.map.consumer().sourceRoot||this.map.root||".",t)},n.origin=function(t,r,o,s){if(!this.map)return!1;var a=this.map.consumer(),u=a.originalPositionFor({column:r,line:t});if(!u.source)return!1;var c;typeof o=="number"&&(c=a.originalPositionFor({column:s,line:o}));var l;lo(u.source)?l=cn(u.source):l=new URL(u.source,this.map.consumer().sourceRoot||cn(this.map.mapFile));var f={column:u.column,endColumn:c&&c.column,endLine:c&&c.line,line:u.line,url:l.toString()};if(l.protocol==="file:")if(ua)f.file=ua(l);else throw new Error("file: protocol is not available in this PostCSS build");var p=a.sourceContentFor(u.source);return p&&(f.source=p),f},n.toJSON=function(){for(var t={},r=0,o=["hasBOM","css","file","id"];r<o.length;r++){var s=o[r];this[s]!=null&&(t[s]=this[s])}return this.map&&(t.map=ee({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t},Te(e,[{key:"from",get:function(){return this.file||this.id}}]),e}(),gi=Wn;Wn.default=Wn;Pi&&Pi.registerInput&&Pi.registerInput(Wn);var Bu=ye.SourceMapConsumer,Mn=ye.SourceMapGenerator,Nn=ye.dirname,ju=ye.relative,zu=ye.resolve,Wu=ye.sep,fa=ye.pathToFileURL,rp=gi,np=!!(Bu&&Mn),ip=!!(Nn&&zu&&ju&&Wu),op=function(){function e(i,t,r,o){this.stringify=i,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var n=e.prototype;return n.addAnnotation=function(){var t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";var r=`
`;this.css.includes(`\r
`)&&(r=`\r
`),this.css+=r+"/*# sourceMappingURL="+t+" */"},n.applyPrevMaps=function(){for(var t=A(this.previous()),r;!(r=t()).done;){var o=r.value,s=this.toUrl(this.path(o.file)),a=o.root||Nn(o.file),u=void 0;this.mapOpts.sourcesContent===!1?(u=new Bu(o.text),u.sourcesContent&&(u.sourcesContent=null)):u=o.consumer(),this.map.applySourceMap(u,s,this.toUrl(this.path(a)))}},n.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var t,r=this.root.nodes.length-1;r>=0;r--)t=this.root.nodes[r],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(r);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},n.generate=function(){if(this.clearAnnotation(),ip&&np&&this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(r){t+=r}),[t]},n.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=Mn.fromSourceMap(t,{ignoreInvalidMapping:!0})}else this.map=new Mn({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},n.generateString=function(){var t=this;this.css="",this.map=new Mn({file:this.outputFile(),ignoreInvalidMapping:!0});var r=1,o=1,s="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""},u,c;this.stringify(this.root,function(l,f,p){if(t.css+=l,f&&p!=="end"&&(a.generated.line=r,a.generated.column=o-1,f.source&&f.source.start?(a.source=t.sourcePath(f),a.original.line=f.source.start.line,a.original.column=f.source.start.column-1,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,t.map.addMapping(a))),u=l.match(/\n/g),u?(r+=u.length,c=l.lastIndexOf(`
`),o=l.length-c):o+=l.length,f&&p!=="start"){var g=f.parent||{raws:{}},v=f.type==="decl"||f.type==="atrule"&&!f.nodes;(!v||f!==g.last||g.raws.semicolon)&&(f.source&&f.source.end?(a.source=t.sourcePath(f),a.original.line=f.source.end.line,a.original.column=f.source.end.column-1,a.generated.line=r,a.generated.column=o-2,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,a.generated.line=r,a.generated.column=o-1,t.map.addMapping(a)))}})},n.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(t){return t.annotation}):!0},n.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(function(r){return r.inline}):!0},n.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},n.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(t){return t.withContent()}):!0},n.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},n.path=function(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;var r=this.memoizedPaths.get(t);if(r)return r;var o=this.opts.to?Nn(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(o=Nn(zu(o,this.mapOpts.annotation)));var s=ju(o,t);return this.memoizedPaths.set(t,s),s},n.previous=function(){var t=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(o){if(o.source&&o.source.input.map){var s=o.source.input.map;t.previousMaps.includes(s)||t.previousMaps.push(s)}});else{var r=new rp(this.originalCSS,this.opts);r.map&&this.previousMaps.push(r.map)}return this.previousMaps},n.setSourcesContent=function(){var t=this,r={};if(this.root)this.root.walk(function(s){if(s.source){var a=s.source.input.from;if(a&&!r[a]){r[a]=!0;var u=t.usesFileUrls?t.toFileUrl(a):t.toUrl(t.path(a));t.map.setSourceContent(u,s.source.input.css)}}});else if(this.css){var o=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(o,this.css)}},n.sourcePath=function(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))},n.toBase64=function(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))},n.toFileUrl=function(t){var r=this.memoizedFileURLs.get(t);if(r)return r;if(fa){var o=fa(t).toString();return this.memoizedFileURLs.set(t,o),o}else throw new Error("`map.absolute` option is not available in this PostCSS build")},n.toUrl=function(t){var r=this.memoizedURLs.get(t);if(r)return r;Wu==="\\"&&(t=t.replace(/\\/g,"/"));var o=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,o),o},e}(),Vu=op,sp=di,ho=function(e){Pe(n,e);function n(i){var t;return t=e.call(this,i)||this,t.type="comment",t}return n}(sp),mi=ho;ho.default=ho;var qu=Ot.isClean,Gu=Ot.my,Hu=vi,Yu=mi,ap=di,Ku,rs,ns,Ju;function Xu(e){return e.map(function(n){return n.nodes&&(n.nodes=Xu(n.nodes)),delete n.source,n})}function Zu(e){if(e[qu]=!1,e.proxyOf.nodes)for(var n=A(e.proxyOf.nodes),i;!(i=n()).done;){var t=i.value;Zu(t)}}var pt=function(e){Pe(n,e);function n(){return e.apply(this,arguments)||this}var i=n.prototype;return i.append=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];for(var a=A(o),u;!(u=a()).done;)for(var c=u.value,l=this.normalize(c,this.last),f=A(l),p;!(p=f()).done;){var g=p.value;this.proxyOf.nodes.push(g)}return this.markDirty(),this},i.cleanRaws=function(r){if(e.prototype.cleanRaws.call(this,r),this.nodes)for(var o=A(this.nodes),s;!(s=o()).done;){var a=s.value;a.cleanRaws(r)}},i.each=function(r){if(this.proxyOf.nodes){for(var o=this.getIterator(),s,a;this.indexes[o]<this.proxyOf.nodes.length&&(s=this.indexes[o],a=r(this.proxyOf.nodes[s],s),a!==!1);)this.indexes[o]+=1;return delete this.indexes[o],a}},i.every=function(r){return this.nodes.every(r)},i.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var r=this.lastEach;return this.indexes[r]=0,r},i.getProxyProcessor=function(){return{get:function(o,s){return s==="proxyOf"?o:o[s]?s==="each"||typeof s=="string"&&s.startsWith("walk")?function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var l;return(l=o)[s].apply(l,[].concat(u.map(function(f){return typeof f=="function"?function(p,g){return f(p.toProxy(),g)}:f})))}:s==="every"||s==="some"?function(a){return o[s](function(u){for(var c=arguments.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=arguments[f];return a.apply(void 0,[].concat([u.toProxy()],l))})}:s==="root"?function(){return o.root().toProxy()}:s==="nodes"?o.nodes.map(function(a){return a.toProxy()}):s==="first"||s==="last"?o[s].toProxy():o[s]:o[s]},set:function(o,s,a){return o[s]===a||(o[s]=a,(s==="name"||s==="params"||s==="selector")&&o.markDirty()),!0}}},i.index=function(r){return typeof r=="number"?r:(r.proxyOf&&(r=r.proxyOf),this.proxyOf.nodes.indexOf(r))},i.insertAfter=function(r,o){var s=this.index(r),a=this.normalize(o,this.proxyOf.nodes[s]).reverse();s=this.index(r);for(var u=A(a),c;!(c=u()).done;){var l=c.value;this.proxyOf.nodes.splice(s+1,0,l)}var f;for(var p in this.indexes)f=this.indexes[p],s<f&&(this.indexes[p]=f+a.length);return this.markDirty(),this},i.insertBefore=function(r,o){var s=this.index(r),a=s===0?"prepend":!1,u=this.normalize(o,this.proxyOf.nodes[s],a).reverse();s=this.index(r);for(var c=A(u),l;!(l=c()).done;){var f=l.value;this.proxyOf.nodes.splice(s,0,f)}var p;for(var g in this.indexes)p=this.indexes[g],s<=p&&(this.indexes[g]=p+u.length);return this.markDirty(),this},i.normalize=function(r,o){var s=this;if(typeof r=="string")r=Xu(Ku(r).nodes);else if(typeof r>"u")r=[];else if(Array.isArray(r)){r=r.slice(0);for(var a=A(r),u;!(u=a()).done;){var c=u.value;c.parent&&c.parent.removeChild(c,"ignore")}}else if(r.type==="root"&&this.type!=="document"){r=r.nodes.slice(0);for(var l=A(r),f;!(f=l()).done;){var p=f.value;p.parent&&p.parent.removeChild(p,"ignore")}}else if(r.type)r=[r];else if(r.prop){if(typeof r.value>"u")throw new Error("Value field is missed in node creation");typeof r.value!="string"&&(r.value=String(r.value)),r=[new Hu(r)]}else if(r.selector)r=[new rs(r)];else if(r.name)r=[new ns(r)];else if(r.text)r=[new Yu(r)];else throw new Error("Unknown node type in node creation");var g=r.map(function(v){return v[Gu]||n.rebuild(v),v=v.proxyOf,v.parent&&v.parent.removeChild(v),v[qu]&&Zu(v),typeof v.raws.before>"u"&&o&&typeof o.raws.before<"u"&&(v.raws.before=o.raws.before.replace(/\S/g,"")),v.parent=s.proxyOf,v});return g},i.prepend=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];o=o.reverse();for(var a=A(o),u;!(u=a()).done;){for(var c=u.value,l=this.normalize(c,this.first,"prepend").reverse(),f=A(l),p;!(p=f()).done;){var g=p.value;this.proxyOf.nodes.unshift(g)}for(var v in this.indexes)this.indexes[v]=this.indexes[v]+l.length}return this.markDirty(),this},i.push=function(r){return r.parent=this,this.proxyOf.nodes.push(r),this},i.removeAll=function(){for(var r=A(this.proxyOf.nodes),o;!(o=r()).done;){var s=o.value;s.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},i.removeChild=function(r){r=this.index(r),this.proxyOf.nodes[r].parent=void 0,this.proxyOf.nodes.splice(r,1);var o;for(var s in this.indexes)o=this.indexes[s],o>=r&&(this.indexes[s]=o-1);return this.markDirty(),this},i.replaceValues=function(r,o,s){return s||(s=o,o={}),this.walkDecls(function(a){o.props&&!o.props.includes(a.prop)||o.fast&&!a.value.includes(o.fast)||(a.value=a.value.replace(r,s))}),this.markDirty(),this},i.some=function(r){return this.nodes.some(r)},i.walk=function(r){return this.each(function(o,s){var a;try{a=r(o,s)}catch(u){throw o.addToError(u)}return a!==!1&&o.walk&&(a=o.walk(r)),a})},i.walkAtRules=function(r,o){return o?$(r,RegExp)?this.walk(function(s,a){if(s.type==="atrule"&&r.test(s.name))return o(s,a)}):this.walk(function(s,a){if(s.type==="atrule"&&s.name===r)return o(s,a)}):(o=r,this.walk(function(s,a){if(s.type==="atrule")return o(s,a)}))},i.walkComments=function(r){return this.walk(function(o,s){if(o.type==="comment")return r(o,s)})},i.walkDecls=function(r,o){return o?$(r,RegExp)?this.walk(function(s,a){if(s.type==="decl"&&r.test(s.prop))return o(s,a)}):this.walk(function(s,a){if(s.type==="decl"&&s.prop===r)return o(s,a)}):(o=r,this.walk(function(s,a){if(s.type==="decl")return o(s,a)}))},i.walkRules=function(r,o){return o?$(r,RegExp)?this.walk(function(s,a){if(s.type==="rule"&&r.test(s.selector))return o(s,a)}):this.walk(function(s,a){if(s.type==="rule"&&s.selector===r)return o(s,a)}):(o=r,this.walk(function(s,a){if(s.type==="rule")return o(s,a)}))},Te(n,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),n}(ap);pt.registerParse=function(e){Ku=e};pt.registerRule=function(e){rs=e};pt.registerAtRule=function(e){ns=e};pt.registerRoot=function(e){Ju=e};var Vt=pt;pt.default=pt;pt.rebuild=function(e){e.type==="atrule"?Object.setPrototypeOf(e,ns.prototype):e.type==="rule"?Object.setPrototypeOf(e,rs.prototype):e.type==="decl"?Object.setPrototypeOf(e,Hu.prototype):e.type==="comment"?Object.setPrototypeOf(e,Yu.prototype):e.type==="root"&&Object.setPrototypeOf(e,Ju.prototype),e[Gu]=!0,e.nodes&&e.nodes.forEach(function(n){pt.rebuild(n)})};var up=Vt,Qu,ec,Br=function(e){Pe(n,e);function n(t){var r;return r=e.call(this,ee({type:"document"},t))||this,r.nodes||(r.nodes=[]),r}var i=n.prototype;return i.toResult=function(r){r===void 0&&(r={});var o=new Qu(new ec,this,r);return o.stringify()},n}(up);Br.registerLazyResult=function(e){Qu=e};Br.registerProcessor=function(e){ec=e};var is=Br;Br.default=Br;var po=function(){function e(i,t){if(t===void 0&&(t={}),this.type="warning",this.text=i,t.node&&t.node.source){var r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(var o in t)this[o]=t[o]}var n=e.prototype;return n.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e}(),tc=po;po.default=po;var cp=tc,vo=function(){function e(i,t,r){this.processor=i,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}var n=e.prototype;return n.toString=function(){return this.css},n.warn=function(t,r){r===void 0&&(r={}),r.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(r.plugin=this.lastPlugin.postcssPlugin);var o=new cp(t,r);return this.messages.push(o),o},n.warnings=function(){return this.messages.filter(function(t){return t.type==="warning"})},Te(e,[{key:"content",get:function(){return this.css}}]),e}(),os=vo;vo.default=vo;var $i=39,ha=34,ln=92,pa=47,fn=10,Sr=32,hn=12,pn=9,dn=13,lp=91,fp=93,hp=40,pp=41,dp=123,vp=125,gp=59,mp=42,yp=58,_p=64,vn=/[\t\n\f\r "#'()/;[\\\]{}]/g,gn=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,bp=/.[\r\n"'(/\\]/,da=/[\da-f]/i,wp=function(n,i){i===void 0&&(i={});var t=n.css.valueOf(),r=i.ignoreErrors,o,s,a,u,c,l,f,p,g,v,y=t.length,d=0,m=[],_=[];function w(){return d}function C(T){throw n.error("Unclosed "+T,d)}function x(){return _.length===0&&d>=y}function k(T){if(_.length)return _.pop();if(!(d>=y)){var M=T?T.ignoreUnclosed:!1;switch(o=t.charCodeAt(d),o){case fn:case Sr:case pn:case dn:case hn:{s=d;do s+=1,o=t.charCodeAt(s);while(o===Sr||o===fn||o===pn||o===dn||o===hn);v=["space",t.slice(d,s)],d=s-1;break}case lp:case fp:case dp:case vp:case yp:case gp:case pp:{var B=String.fromCharCode(o);v=[B,B,d];break}case hp:{if(p=m.length?m.pop()[1]:"",g=t.charCodeAt(d+1),p==="url"&&g!==$i&&g!==ha&&g!==Sr&&g!==fn&&g!==pn&&g!==hn&&g!==dn){s=d;do{if(l=!1,s=t.indexOf(")",s+1),s===-1)if(r||M){s=d;break}else C("bracket");for(f=s;t.charCodeAt(f-1)===ln;)f-=1,l=!l}while(l);v=["brackets",t.slice(d,s+1),d,s],d=s}else s=t.indexOf(")",d+1),u=t.slice(d,s+1),s===-1||bp.test(u)?v=["(","(",d]:(v=["brackets",u,d,s],d=s);break}case $i:case ha:{a=o===$i?"'":'"',s=d;do{if(l=!1,s=t.indexOf(a,s+1),s===-1)if(r||M){s=d+1;break}else C("string");for(f=s;t.charCodeAt(f-1)===ln;)f-=1,l=!l}while(l);v=["string",t.slice(d,s+1),d,s],d=s;break}case _p:{vn.lastIndex=d+1,vn.test(t),vn.lastIndex===0?s=t.length-1:s=vn.lastIndex-2,v=["at-word",t.slice(d,s+1),d,s],d=s;break}case ln:{for(s=d,c=!0;t.charCodeAt(s+1)===ln;)s+=1,c=!c;if(o=t.charCodeAt(s+1),c&&o!==pa&&o!==Sr&&o!==fn&&o!==pn&&o!==dn&&o!==hn&&(s+=1,da.test(t.charAt(s)))){for(;da.test(t.charAt(s+1));)s+=1;t.charCodeAt(s+1)===Sr&&(s+=1)}v=["word",t.slice(d,s+1),d,s],d=s;break}default:{o===pa&&t.charCodeAt(d+1)===mp?(s=t.indexOf("*/",d+2)+1,s===0&&(r||M?s=t.length:C("comment")),v=["comment",t.slice(d,s+1),d,s],d=s):(gn.lastIndex=d+1,gn.test(t),gn.lastIndex===0?s=t.length-1:s=gn.lastIndex-2,v=["word",t.slice(d,s+1),d,s],m.push(v),d=s);break}}return d++,v}}function R(T){_.push(T)}return{back:R,endOfFile:x,nextToken:k,position:w}},rc=Vt,Vn=function(e){Pe(n,e);function n(t){var r;return r=e.call(this,t)||this,r.type="atrule",r}var i=n.prototype;return i.append=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.append).call.apply(a,[].concat([this],o))},i.prepend=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.prepend).call.apply(a,[].concat([this],o))},n}(rc),ss=Vn;Vn.default=Vn;rc.registerAtRule(Vn);var nc=Vt,ic,oc,ar=function(e){Pe(n,e);function n(t){var r;return r=e.call(this,t)||this,r.type="root",r.nodes||(r.nodes=[]),r}var i=n.prototype;return i.normalize=function(r,o,s){var a=e.prototype.normalize.call(this,r);if(o){if(s==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(var u=A(a),c;!(c=u()).done;){var l=c.value;l.raws.before=o.raws.before}}return a},i.removeChild=function(r,o){var s=this.index(r);return!o&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),e.prototype.removeChild.call(this,r)},i.toResult=function(r){r===void 0&&(r={});var o=new ic(new oc,this,r);return o.stringify()},n}(nc);ar.registerLazyResult=function(e){ic=e};ar.registerProcessor=function(e){oc=e};var en=ar;ar.default=ar;nc.registerRoot(ar);var jr={comma:function(n){return jr.split(n,[","],!0)},space:function(n){var i=[" ",`
`,"	"];return jr.split(n,i)},split:function(n,i,t){for(var r=[],o="",s=!1,a=0,u=!1,c="",l=!1,f=A(n),p;!(p=f()).done;){var g=p.value;l?l=!1:g==="\\"?l=!0:u?g===c&&(u=!1):g==='"'||g==="'"?(u=!0,c=g):g==="("?a+=1:g===")"?a>0&&(a-=1):a===0&&i.includes(g)&&(s=!0),s?(o!==""&&r.push(o.trim()),o="",s=!1):o+=g}return(t||o!=="")&&r.push(o.trim()),r}},sc=jr;jr.default=jr;var ac=Vt,Sp=sc,qn=function(e){Pe(n,e);function n(i){var t;return t=e.call(this,i)||this,t.type="rule",t.nodes||(t.nodes=[]),t}return Te(n,[{key:"selectors",get:function(){return Sp.comma(this.selector)},set:function(t){var r=this.selector?this.selector.match(/,\s*/):null,o=r?r[0]:","+this.raw("between","beforeOpen");this.selector=t.join(o)}}]),n}(ac),as=qn;qn.default=qn;ac.registerRule(qn);var Cp=vi,xp=wp,Ip=mi,Ep=ss,kp=en,va=as,ga={empty:!0,space:!0};function Op(e){for(var n=e.length-1;n>=0;n--){var i=e[n],t=i[3]||i[2];if(t)return t}}var Ap=function(){function e(i){this.input=i,this.root=new kp,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:i,start:{column:1,line:1,offset:0}}}var n=e.prototype;return n.atrule=function(t){var r=new Ep;r.name=t[1].slice(1),r.name===""&&this.unnamedAtrule(r,t),this.init(r,t[2]);for(var o,s,a,u=!1,c=!1,l=[],f=[];!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),o=t[0],o==="("||o==="["?f.push(o==="("?")":"]"):o==="{"&&f.length>0?f.push("}"):o===f[f.length-1]&&f.pop(),f.length===0)if(o===";"){r.source.end=this.getPosition(t[2]),r.source.end.offset++,this.semicolon=!0;break}else if(o==="{"){c=!0;break}else if(o==="}"){if(l.length>0){for(a=l.length-1,s=l[a];s&&s[0]==="space";)s=l[--a];s&&(r.source.end=this.getPosition(s[3]||s[2]),r.source.end.offset++)}this.end(t);break}else l.push(t);else l.push(t);if(this.tokenizer.endOfFile()){u=!0;break}}r.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(r.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(r,"params",l),u&&(t=l[l.length-1],r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++,this.spaces=r.raws.between,r.raws.between="")):(r.raws.afterName="",r.params=""),c&&(r.nodes=[],this.current=r)},n.checkMissedSemicolon=function(t){var r=this.colon(t);if(r!==!1){for(var o=0,s,a=r-1;a>=0&&(s=t[a],!(s[0]!=="space"&&(o+=1,o===2)));a--);throw this.input.error("Missed semicolon",s[0]==="word"?s[3]+1:s[2])}},n.colon=function(t){for(var r=0,o,s,a,u=A(t.entries()),c;!(c=u()).done;){var l=c.value,f=l[0],p=l[1];if(o=p,s=o[0],s==="("&&(r+=1),s===")"&&(r-=1),r===0&&s===":")if(!a)this.doubleColon(o);else{if(a[0]==="word"&&a[1]==="progid")continue;return f}a=o}return!1},n.comment=function(t){var r=new Ip;this.init(r,t[2]),r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++;var o=t[1].slice(2,-2);if(/^\s*$/.test(o))r.text="",r.raws.left=o,r.raws.right="";else{var s=o.match(/^(\s*)([^]*\S)(\s*)$/);r.text=s[2],r.raws.left=s[1],r.raws.right=s[3]}},n.createTokenizer=function(){this.tokenizer=xp(this.input)},n.decl=function(t,r){var o=new Cp;this.init(o,t[0][2]);var s=t[t.length-1];for(s[0]===";"&&(this.semicolon=!0,t.pop()),o.source.end=this.getPosition(s[3]||s[2]||Op(t)),o.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),o.raws.before+=t.shift()[1];for(o.source.start=this.getPosition(t[0][2]),o.prop="";t.length;){var a=t[0][0];if(a===":"||a==="space"||a==="comment")break;o.prop+=t.shift()[1]}o.raws.between="";for(var u;t.length;)if(u=t.shift(),u[0]===":"){o.raws.between+=u[1];break}else u[0]==="word"&&/\w/.test(u[1])&&this.unknownWord([u]),o.raws.between+=u[1];(o.prop[0]==="_"||o.prop[0]==="*")&&(o.raws.before+=o.prop[0],o.prop=o.prop.slice(1));for(var c=[],l;t.length&&(l=t[0][0],!(l!=="space"&&l!=="comment"));)c.push(t.shift());this.precheckMissedSemicolon(t);for(var f=t.length-1;f>=0;f--){if(u=t[f],u[1].toLowerCase()==="!important"){o.important=!0;var p=this.stringFrom(t,f);p=this.spacesFromEnd(t)+p,p!==" !important"&&(o.raws.important=p);break}else if(u[1].toLowerCase()==="important"){for(var g=t.slice(0),v="",y=f;y>0;y--){var d=g[y][0];if(v.trim().indexOf("!")===0&&d!=="space")break;v=g.pop()[1]+v}v.trim().indexOf("!")===0&&(o.important=!0,o.raws.important=v,t=g)}if(u[0]!=="space"&&u[0]!=="comment")break}var m=t.some(function(_){return _[0]!=="space"&&_[0]!=="comment"});m&&(o.raws.between+=c.map(function(_){return _[1]}).join(""),c=[]),this.raw(o,"value",c.concat(t),r),o.value.includes(":")&&!r&&this.checkMissedSemicolon(t)},n.doubleColon=function(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})},n.emptyRule=function(t){var r=new va;this.init(r,t[2]),r.selector="",r.raws.between="",this.current=r},n.end=function(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)},n.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},n.freeSemicolon=function(t){if(this.spaces+=t[1],this.current.nodes){var r=this.current.nodes[this.current.nodes.length-1];r&&r.type==="rule"&&!r.raws.ownSemicolon&&(r.raws.ownSemicolon=this.spaces,this.spaces="")}},n.getPosition=function(t){var r=this.input.fromOffset(t);return{column:r.col,line:r.line,offset:t}},n.init=function(t,r){this.current.push(t),t.source={input:this.input,start:this.getPosition(r)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)},n.other=function(t){for(var r=!1,o=null,s=!1,a=null,u=[],c=t[1].startsWith("--"),l=[],f=t;f;){if(o=f[0],l.push(f),o==="("||o==="[")a||(a=f),u.push(o==="("?")":"]");else if(c&&s&&o==="{")a||(a=f),u.push("}");else if(u.length===0)if(o===";")if(s){this.decl(l,c);return}else break;else if(o==="{"){this.rule(l);return}else if(o==="}"){this.tokenizer.back(l.pop()),r=!0;break}else o===":"&&(s=!0);else o===u[u.length-1]&&(u.pop(),u.length===0&&(a=null));f=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(r=!0),u.length>0&&this.unclosedBracket(a),r&&s){if(!c)for(;l.length&&(f=l[l.length-1][0],!(f!=="space"&&f!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,c)}else this.unknownWord(l)},n.parse=function(){for(var t;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()},n.precheckMissedSemicolon=function(){},n.raw=function(t,r,o,s){for(var a,u,c=o.length,l="",f=!0,p,g,v=0;v<c;v+=1)a=o[v],u=a[0],u==="space"&&v===c-1&&!s?f=!1:u==="comment"?(g=o[v-1]?o[v-1][0]:"empty",p=o[v+1]?o[v+1][0]:"empty",!ga[g]&&!ga[p]?l.slice(-1)===","?f=!1:l+=a[1]:f=!1):l+=a[1];if(!f){var y=o.reduce(function(d,m){return d+m[1]},"");t.raws[r]={raw:y,value:l}}t[r]=l},n.rule=function(t){t.pop();var r=new va;this.init(r,t[0][2]),r.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(r,"selector",t),this.current=r},n.spacesAndCommentsFromEnd=function(t){for(var r,o="";t.length&&(r=t[t.length-1][0],!(r!=="space"&&r!=="comment"));)o=t.pop()[1]+o;return o},n.spacesAndCommentsFromStart=function(t){for(var r,o="";t.length&&(r=t[0][0],!(r!=="space"&&r!=="comment"));)o+=t.shift()[1];return o},n.spacesFromEnd=function(t){for(var r,o="";t.length&&(r=t[t.length-1][0],r==="space");)o=t.pop()[1]+o;return o},n.stringFrom=function(t,r){for(var o="",s=r;s<t.length;s++)o+=t[s][1];return t.splice(r,t.length-r),o},n.unclosedBlock=function(){var t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)},n.unclosedBracket=function(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})},n.unexpectedClose=function(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})},n.unknownWord=function(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})},n.unnamedAtrule=function(t,r){throw this.input.error("At-rule without name",{offset:r[2]},{offset:r[2]+r[1].length})},e}(),Rp=Ap,Tp=Vt,Mp=Rp,Np=gi;function Gn(e,n){var i=new Np(e,n),t=new Mp(i);try{t.parse()}catch(r){throw r}return t.root}var us=Gn;Gn.default=Gn;Tp.registerParse(Gn);var Ze=Ot.isClean,Pp=Ot.my,Lp=Vu,$p=pi,Dp=Vt,Fp=is,ma=os,Up=us,Bp=en,jp={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},zp={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Wp={Once:!0,postcssPlugin:!0,prepare:!0},ur=0;function Cr(e){return(typeof e>"u"?"undefined":z(e))==="object"&&typeof e.then=="function"}function uc(e){var n=!1,i=jp[e.type];return e.type==="decl"?n=e.prop.toLowerCase():e.type==="atrule"&&(n=e.name.toLowerCase()),n&&e.append?[i,i+"-"+n,ur,i+"Exit",i+"Exit-"+n]:n?[i,i+"-"+n,i+"Exit",i+"Exit-"+n]:e.append?[i,ur,i+"Exit"]:[i,i+"Exit"]}function ya(e){var n;return e.type==="document"?n=["Document",ur,"DocumentExit"]:e.type==="root"?n=["Root",ur,"RootExit"]:n=uc(e),{eventIndex:0,events:n,iterator:0,node:e,visitorIndex:0,visitors:[]}}function go(e){return e[Ze]=!1,e.nodes&&e.nodes.forEach(function(n){return go(n)}),e}var mo={},cr=function(){function e(i,t,r){var o=this;this.stringified=!1,this.processed=!1;var s;if((typeof t>"u"?"undefined":z(t))==="object"&&t!==null&&(t.type==="root"||t.type==="document"))s=go(t);else if($(t,e)||$(t,ma))s=go(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{var a=Up;r.syntax&&(a=r.syntax.parse),r.parser&&(a=r.parser),a.parse&&(a=a.parse);try{s=a(t,r)}catch(u){this.processed=!0,this.error=u}s&&!s[Pp]&&Dp.rebuild(s)}this.result=new ma(i,s,r),this.helpers=ee({},mo,{postcss:mo,result:this.result}),this.plugins=this.processor.plugins.map(function(u){return(typeof u>"u"?"undefined":z(u))==="object"&&u.prepare?ee({},u,u.prepare(o.result)):u})}var n=e.prototype;return n.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},n.catch=function(t){return this.async().catch(t)},n.finally=function(t){return this.async().then(t,t)},n.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},n.handleError=function(t,r){var o=this.result.lastPlugin;try{if(r&&r.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin)t.plugin=o.postcssPlugin,t.setMessage();else if(o.postcssVersion)var s,a,u,c,l}catch(f){console&&console.error&&console.error(f)}return t},n.prepareVisitors=function(){var t=this;this.listeners={};for(var r=function(l,f,p){t.listeners[f]||(t.listeners[f]=[]),t.listeners[f].push([l,p])},o=A(this.plugins),s;!(s=o()).done;){var a=s.value;if((typeof a>"u"?"undefined":z(a))==="object")for(var u in a){if(!zp[u]&&/^[A-Z]/.test(u))throw new Error("Unknown event "+u+" in "+a.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!Wp[u])if(z(a[u])==="object")for(var c in a[u])c==="*"?r(a,u,a[u][c]):r(a,u+"-"+c.toLowerCase(),a[u][c]);else typeof a[u]=="function"&&r(a,u,a[u])}}this.hasListener=Object.keys(this.listeners).length>0},n.runAsync=function(){var t=this;return Xo(function(){var r,o,s,a,u,c,l,f,p,g,v,y;return Fr(this,function(d){switch(d.label){case 0:t.plugin=0,r=0,d.label=1;case 1:if(!(r<t.plugins.length))return[3,6];if(o=t.plugins[r],s=t.runOnRoot(o),!Cr(s))return[3,5];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,s];case 3:return d.sent(),[3,5];case 4:throw a=d.sent(),t.handleError(a);case 5:return r++,[3,1];case 6:if(t.prepareVisitors(),!t.hasListener)return[3,18];u=t.result.root,d.label=7;case 7:if(u[Ze])return[3,14];u[Ze]=!0,c=[ya(u)],d.label=8;case 8:if(!(c.length>0))return[3,13];if(l=t.visitTick(c),!Cr(l))return[3,12];d.label=9;case 9:return d.trys.push([9,11,,12]),[4,l];case 10:return d.sent(),[3,12];case 11:throw f=d.sent(),p=c[c.length-1].node,t.handleError(f,p);case 12:return[3,8];case 13:return[3,7];case 14:if(!t.listeners.OnceExit)return[3,18];g=function(){var m,_,w,C,x;return Fr(this,function(k){switch(k.label){case 0:m=y.value,_=m[0],w=m[1],t.result.lastPlugin=_,k.label=1;case 1:return k.trys.push([1,6,,7]),u.type!=="document"?[3,3]:(C=u.nodes.map(function(R){return w(R,t.helpers)}),[4,Promise.all(C)]);case 2:return k.sent(),[3,5];case 3:return[4,w(u,t.helpers)];case 4:k.sent(),k.label=5;case 5:return[3,7];case 6:throw x=k.sent(),t.handleError(x);case 7:return[2]}})},v=A(t.listeners.OnceExit),d.label=15;case 15:return(y=v()).done?[3,18]:[5,ku(g())];case 16:d.sent(),d.label=17;case 17:return[3,15];case 18:return t.processed=!0,[2,t.stringify()]}})})()},n.runOnRoot=function(t){var r=this;this.result.lastPlugin=t;try{if((typeof t>"u"?"undefined":z(t))==="object"&&t.Once){if(this.result.root.type==="document"){var o=this.result.root.nodes.map(function(s){return t.Once(s,r.helpers)});return Cr(o[0])?Promise.all(o):o}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(s){throw this.handleError(s)}},n.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var t=this.result.opts,r=$p;t.syntax&&(r=t.syntax.stringify),t.stringifier&&(r=t.stringifier),r.stringify&&(r=r.stringify);var o=new Lp(r,this.result.root,this.result.opts),s=o.generate();return this.result.css=s[0],this.result.map=s[1],this.result},n.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var t=A(this.plugins),r;!(r=t()).done;){var o=r.value,s=this.runOnRoot(o);if(Cr(s))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var a=this.result.root;!a[Ze];)a[Ze]=!0,this.walkSync(a);if(this.listeners.OnceExit)if(a.type==="document")for(var u=A(a.nodes),c;!(c=u()).done;){var l=c.value;this.visitSync(this.listeners.OnceExit,l)}else this.visitSync(this.listeners.OnceExit,a)}return this.result},n.then=function(t,r){return this.async().then(t,r)},n.toString=function(){return this.css},n.visitSync=function(t,r){for(var o=A(t),s;!(s=o()).done;){var a=s.value,u=a[0],c=a[1];this.result.lastPlugin=u;var l=void 0;try{l=c(r,this.helpers)}catch(f){throw this.handleError(f,r.proxyOf)}if(r.type!=="root"&&r.type!=="document"&&!r.parent)return!0;if(Cr(l))throw this.getAsyncError()}},n.visitTick=function(t){var r=t[t.length-1],o=r.node,s=r.visitors;if(o.type!=="root"&&o.type!=="document"&&!o.parent){t.pop();return}if(s.length>0&&r.visitorIndex<s.length){var a=s[r.visitorIndex],u=a[0],c=a[1];r.visitorIndex+=1,r.visitorIndex===s.length&&(r.visitors=[],r.visitorIndex=0),this.result.lastPlugin=u;try{return c(o.toProxy(),this.helpers)}catch(v){throw this.handleError(v,o)}}if(r.iterator!==0){for(var l=r.iterator,f;f=o.nodes[o.indexes[l]];)if(o.indexes[l]+=1,!f[Ze]){f[Ze]=!0,t.push(ya(f));return}r.iterator=0,delete o.indexes[l]}for(var p=r.events;r.eventIndex<p.length;){var g=p[r.eventIndex];if(r.eventIndex+=1,g===ur){o.nodes&&o.nodes.length&&(o[Ze]=!0,r.iterator=o.getIterator());return}else if(this.listeners[g]){r.visitors=this.listeners[g];return}}t.pop()},n.walkSync=function(t){var r=this;t[Ze]=!0;for(var o=uc(t),s=A(o),a;!(a=s()).done;){var u=a.value;if(u===ur)t.nodes&&t.each(function(l){l[Ze]||r.walkSync(l)});else{var c=this.listeners[u];if(c&&this.visitSync(c,t.toProxy()))return}}},n.warnings=function(){return this.sync().warnings()},Te(e,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e}();cr.registerPostcss=function(e){mo=e};var cc=cr;cr.default=cr;Bp.registerLazyResult(cr);Fp.registerLazyResult(cr);var Vp=Vu,qp=pi,Gp=us,Hp=os,yo=function(){function e(i,t,r){t=t.toString(),this.stringified=!1,this._processor=i,this._css=t,this._opts=r,this._map=void 0;var o,s=qp;this.result=new Hp(this._processor,o,this._opts),this.result.css=t;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var u=new Vp(s,o,this._opts,t);if(u.isMap()){var c=u.generate(),l=c[0],f=c[1];l&&(this.result.css=l),f&&(this.result.map=f)}else u.clearAnnotation(),this.result.css=u.css}var n=e.prototype;return n.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},n.catch=function(t){return this.async().catch(t)},n.finally=function(t){return this.async().then(t,t)},n.sync=function(){if(this.error)throw this.error;return this.result},n.then=function(t,r){return this.async().then(t,r)},n.toString=function(){return this._css},n.warnings=function(){return[]},Te(e,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var t,r=Gp;try{t=r(this._css,this._opts)}catch(o){this.error=o}if(this.error)throw this.error;return this._root=t,t}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e}(),Yp=yo;yo.default=yo;var Kp=Yp,Jp=cc,Xp=is,Zp=en,zr=function(){function e(i){i===void 0&&(i=[]),this.version="8.4.38",this.plugins=this.normalize(i)}var n=e.prototype;return n.normalize=function(t){for(var r=[],o=A(t),s;!(s=o()).done;){var a=s.value;if(a.postcss===!0?a=a():a.postcss&&(a=a.postcss),(typeof a>"u"?"undefined":z(a))==="object"&&Array.isArray(a.plugins))r=r.concat(a.plugins);else if((typeof a>"u"?"undefined":z(a))==="object"&&a.postcssPlugin)r.push(a);else if(typeof a=="function")r.push(a);else if(!((typeof a>"u"?"undefined":z(a))==="object"&&(a.parse||a.stringify)))throw new Error(a+" is not a PostCSS plugin")}return r},n.process=function(t,r){return r===void 0&&(r={}),!this.plugins.length&&!r.parser&&!r.stringifier&&!r.syntax?new Kp(this,t,r):new Jp(this,t,r)},n.use=function(t){return this.plugins=this.plugins.concat(this.normalize([t])),this},e}(),Qp=zr;zr.default=zr;Zp.registerProcessor(zr);Xp.registerProcessor(zr);var ed=vi,td=Uu,rd=mi,nd=ss,id=gi,od=en,sd=as;function Wr(e,n){if(Array.isArray(e))return e.map(function(f){return Wr(f)});var i=e.inputs,t=$r(e,["inputs"]);if(i){n=[];for(var r=A(i),o;!(o=r()).done;){var s=o.value,a=ee({},s,{__proto__:id.prototype});a.map&&(a.map=ee({},a.map,{__proto__:td.prototype})),n.push(a)}}if(t.nodes&&(t.nodes=e.nodes.map(function(f){return Wr(f,n)})),t.source){var u=t.source,c=u.inputId,l=$r(u,["inputId"]);t.source=l,c!=null&&(t.source.input=n[c])}if(t.type==="root")return new od(t);if(t.type==="decl")return new ed(t);if(t.type==="rule")return new sd(t);if(t.type==="comment")return new rd(t);if(t.type==="atrule")return new nd(t);throw new Error("Unknown node type: "+e.type)}var ad=Wr;Wr.default=Wr;var ud=ts,lc=vi,cd=cc,ld=Vt,cs=Qp,fd=pi,hd=ad,fc=is,pd=tc,hc=mi,pc=ss,dd=os,vd=gi,gd=us,md=sc,dc=as,vc=en,yd=di;function ne(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.length===1&&Array.isArray(n[0])&&(n=n[0]),new cs(n)}ne.plugin=function(n,i){var t=!1;function r(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];console&&console.warn&&!t&&(t=!0,console.warn(n+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),Iu.LANG.startsWith("cn")&&console.warn(n+`: éé¢ postcss.plugin è¢«å¼ç¨. è¿ç§»æå:
https://www.w3ctech.com/topic/2226`));var c=i.apply(void 0,[].concat(a));return c.postcssPlugin=n,c.postcssVersion=new cs().version,c}var o;return Object.defineProperty(r,"postcss",{get:function(){return o||(o=r()),o}}),r.process=function(s,a,u){return ne([r(u)]).process(s,a)},r};ne.stringify=fd;ne.parse=gd;ne.fromJSON=hd;ne.list=md;ne.comment=function(e){return new hc(e)};ne.atRule=function(e){return new pc(e)};ne.decl=function(e){return new lc(e)};ne.rule=function(e){return new dc(e)};ne.root=function(e){return new vc(e)};ne.document=function(e){return new fc(e)};ne.CssSyntaxError=ud;ne.Declaration=lc;ne.Container=ld;ne.Processor=cs;ne.Document=fc;ne.Comment=hc;ne.Warning=pd;ne.AtRule=pc;ne.Result=dd;ne.Input=vd;ne.Rule=dc;ne.Root=vc;ne.Node=yd;cd.registerPostcss(ne);var _d=ne;ne.default=ne;var he=Mh(_d);he.stringify;he.fromJSON;he.plugin;he.parse;he.list;he.document;he.comment;he.atRule;he.rule;he.decl;he.root;he.CssSyntaxError;he.Declaration;he.Container;he.Processor;he.Document;he.Comment;he.Warning;he.AtRule;he.Result;he.Input;he.Rule;he.Root;he.Node;var bd=Object.defineProperty,wd=function(e,n,i){return n in e?bd(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i},Ve=function(e,n,i){return wd(e,(typeof n>"u"?"undefined":z(n))!=="symbol"?n+"":n,i)};function Sd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Cd(e){if(e.__esModule)return e;var n=e.default;if(typeof n=="function"){var i=function t(){return $(this,t)?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};i.prototype=n.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(e).forEach(function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(i,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}),i}var ls={exports:{}},le=String,gc=function(){return{isColorSupported:!1,reset:le,bold:le,dim:le,italic:le,underline:le,inverse:le,hidden:le,strikethrough:le,black:le,red:le,green:le,yellow:le,blue:le,magenta:le,cyan:le,white:le,gray:le,bgBlack:le,bgRed:le,bgGreen:le,bgYellow:le,bgBlue:le,bgMagenta:le,bgCyan:le,bgWhite:le}};ls.exports=gc();ls.exports.createColors=gc;var xd=ls.exports,Id={},Ed=Object.freeze(Object.defineProperty({__proto__:null,default:Id},Symbol.toStringTag,{value:"Module"})),_e=Cd(Ed),_a=xd,ba=_e,_o=function(e){Pe(n,e);function n(t,r,o,s,a,u){var c;return c=e.call(this,t)||this,c.name="CssSyntaxError",c.reason=t,a&&(c.file=a),s&&(c.source=s),u&&(c.plugin=u),typeof r<"u"&&typeof o<"u"&&(typeof r=="number"?(c.line=r,c.column=o):(c.line=r.line,c.column=r.column,c.endLine=o.line,c.endColumn=o.column)),c.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(c,n),c}var i=n.prototype;return i.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},i.showSourceCode=function(r){var o=this;if(!this.source)return"";var s=this.source;r==null&&(r=_a.isColorSupported),ba&&r&&(s=ba(s));var a=s.split(/\r?\n/),u=Math.max(this.line-3,0),c=Math.min(this.line+2,a.length),l=String(c).length,f,p;if(r){var g=_a.createColors(!0),v=g.bold,y=g.gray,d=g.red;f=function(m){return v(d(m))},p=function(m){return y(m)}}else f=p=function(m){return m};return a.slice(u,c).map(function(m,_){var w=u+1+_,C=" "+(" "+w).slice(-l)+" | ";if(w===o.line){var x=p(C.replace(/\d/g," "))+m.slice(0,o.column-1).replace(/[^\t]/g," ");return f(">")+p(C)+m+`
 `+x+f("^")}return" "+p(C)+m}).join(`
`)},i.toString=function(){var r=this.showSourceCode();return r&&(r=`

`+r+`
`),this.name+": "+this.message+r},n}(Fn(Error)),fs=_o;_o.default=_o;var At={};At.isClean=Symbol("isClean");At.my=Symbol("my");var wa={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function kd(e){return e[0].toUpperCase()+e.slice(1)}var bo=function(){function e(i){this.builder=i}var n=e.prototype;return n.atrule=function(t,r){var o="@"+t.name,s=t.params?this.rawValue(t,"params"):"";if(typeof t.raws.afterName<"u"?o+=t.raws.afterName:s&&(o+=" "),t.nodes)this.block(t,o+s);else{var a=(t.raws.between||"")+(r?";":"");this.builder(o+s+a,t)}},n.beforeAfter=function(t,r){var o;t.type==="decl"?o=this.raw(t,null,"beforeDecl"):t.type==="comment"?o=this.raw(t,null,"beforeComment"):r==="before"?o=this.raw(t,null,"beforeRule"):o=this.raw(t,null,"beforeClose");for(var s=t.parent,a=0;s&&s.type!=="root";)a+=1,s=s.parent;if(o.includes(`
`)){var u=this.raw(t,null,"indent");if(u.length)for(var c=0;c<a;c++)o+=u}return o},n.block=function(t,r){var o=this.raw(t,"between","beforeOpen");this.builder(r+o+"{",t,"start");var s;t.nodes&&t.nodes.length?(this.body(t),s=this.raw(t,"after")):s=this.raw(t,"after","emptyBody"),s&&this.builder(s),this.builder("}",t,"end")},n.body=function(t){for(var r=t.nodes.length-1;r>0&&t.nodes[r].type==="comment";)r-=1;for(var o=this.raw(t,"semicolon"),s=0;s<t.nodes.length;s++){var a=t.nodes[s],u=this.raw(a,"before");u&&this.builder(u),this.stringify(a,r!==s||o)}},n.comment=function(t){var r=this.raw(t,"left","commentLeft"),o=this.raw(t,"right","commentRight");this.builder("/*"+r+t.text+o+"*/",t)},n.decl=function(t,r){var o=this.raw(t,"between","colon"),s=t.prop+o+this.rawValue(t,"value");t.important&&(s+=t.raws.important||" !important"),r&&(s+=";"),this.builder(s,t)},n.document=function(t){this.body(t)},n.raw=function(t,r,o){var s;if(o||(o=r),r&&(s=t.raws[r],typeof s<"u"))return s;var a=t.parent;if(o==="before"&&(!a||a.type==="root"&&a.first===t||a&&a.type==="document"))return"";if(!a)return wa[o];var u=t.root();if(u.rawCache||(u.rawCache={}),typeof u.rawCache[o]<"u")return u.rawCache[o];if(o==="before"||o==="after")return this.beforeAfter(t,o);var c="raw"+kd(o);return this[c]?s=this[c](u,t):u.walk(function(l){if(s=l.raws[r],typeof s<"u")return!1}),typeof s>"u"&&(s=wa[o]),u.rawCache[o]=s,s},n.rawBeforeClose=function(t){var r;return t.walk(function(o){if(o.nodes&&o.nodes.length>0&&typeof o.raws.after<"u")return r=o.raws.after,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r},n.rawBeforeComment=function(t,r){var o;return t.walkComments(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(r,null,"beforeDecl"):o&&(o=o.replace(/\S/g,"")),o},n.rawBeforeDecl=function(t,r){var o;return t.walkDecls(function(s){if(typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),typeof o>"u"?o=this.raw(r,null,"beforeRule"):o&&(o=o.replace(/\S/g,"")),o},n.rawBeforeOpen=function(t){var r;return t.walk(function(o){if(o.type!=="decl"&&(r=o.raws.between,typeof r<"u"))return!1}),r},n.rawBeforeRule=function(t){var r;return t.walk(function(o){if(o.nodes&&(o.parent!==t||t.first!==o)&&typeof o.raws.before<"u")return r=o.raws.before,r.includes(`
`)&&(r=r.replace(/[^\n]+$/,"")),!1}),r&&(r=r.replace(/\S/g,"")),r},n.rawColon=function(t){var r;return t.walkDecls(function(o){if(typeof o.raws.between<"u")return r=o.raws.between.replace(/[^\s:]/g,""),!1}),r},n.rawEmptyBody=function(t){var r;return t.walk(function(o){if(o.nodes&&o.nodes.length===0&&(r=o.raws.after,typeof r<"u"))return!1}),r},n.rawIndent=function(t){if(t.raws.indent)return t.raws.indent;var r;return t.walk(function(o){var s=o.parent;if(s&&s!==t&&s.parent&&s.parent===t&&typeof o.raws.before<"u"){var a=o.raws.before.split(`
`);return r=a[a.length-1],r=r.replace(/\S/g,""),!1}}),r},n.rawSemicolon=function(t){var r;return t.walk(function(o){if(o.nodes&&o.nodes.length&&o.last.type==="decl"&&(r=o.raws.semicolon,typeof r<"u"))return!1}),r},n.rawValue=function(t,r){var o=t[r],s=t.raws[r];return s&&s.value===o?s.raw:o},n.root=function(t){this.body(t),t.raws.after&&this.builder(t.raws.after)},n.rule=function(t){this.block(t,this.rawValue(t,"selector")),t.raws.ownSemicolon&&this.builder(t.raws.ownSemicolon,t,"end")},n.stringify=function(t,r){if(!this[t.type])throw new Error("Unknown AST node type "+t.type+". Maybe you need to change PostCSS stringifier.");this[t.type](t,r)},e}(),mc=bo;bo.default=bo;var Od=mc;function wo(e,n){var i=new Od(n);i.stringify(e)}var yi=wo;wo.default=wo;var mn=At.isClean,Ad=At.my,Rd=fs,Td=mc,Md=yi;function So(e,n){var i=new e.constructor;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&t!=="proxyCache"){var r=e[t],o=typeof r>"u"?"undefined":z(r);t==="parent"&&o==="object"?n&&(i[t]=n):t==="source"?i[t]=r:Array.isArray(r)?i[t]=r.map(function(s){return So(s,i)}):(o==="object"&&r!==null&&(r=So(r)),i[t]=r)}return i}var Co=function(){function e(i){i===void 0&&(i={}),this.raws={},this[mn]=!1,this[Ad]=!0;for(var t in i)if(t==="nodes"){this.nodes=[];for(var r=A(i[t]),o;!(o=r()).done;){var s=o.value;typeof s.clone=="function"?this.append(s.clone()):this.append(s)}}else this[t]=i[t]}var n=e.prototype;return n.addToError=function(t){if(t.postcssNode=this,t.stack&&this.source&&/\n\s{4}at /.test(t.stack)){var r=this.source;t.stack=t.stack.replace(/\n\s{4}at /,"$&"+r.input.from+":"+r.start.line+":"+r.start.column+"$&")}return t},n.after=function(t){return this.parent.insertAfter(this,t),this},n.assign=function(t){t===void 0&&(t={});for(var r in t)this[r]=t[r];return this},n.before=function(t){return this.parent.insertBefore(this,t),this},n.cleanRaws=function(t){delete this.raws.before,delete this.raws.after,t||delete this.raws.between},n.clone=function(t){t===void 0&&(t={});var r=So(this);for(var o in t)r[o]=t[o];return r},n.cloneAfter=function(t){t===void 0&&(t={});var r=this.clone(t);return this.parent.insertAfter(this,r),r},n.cloneBefore=function(t){t===void 0&&(t={});var r=this.clone(t);return this.parent.insertBefore(this,r),r},n.error=function(t,r){if(r===void 0&&(r={}),this.source){var o=this.rangeBy(r),s=o.end,a=o.start;return this.source.input.error(t,{column:a.column,line:a.line},{column:s.column,line:s.line},r)}return new Rd(t)},n.getProxyProcessor=function(){return{get:function(r,o){return o==="proxyOf"?r:o==="root"?function(){return r.root().toProxy()}:r[o]},set:function(r,o,s){return r[o]===s||(r[o]=s,(o==="prop"||o==="value"||o==="name"||o==="params"||o==="important"||o==="text")&&r.markDirty()),!0}}},n.markDirty=function(){if(this[mn]){this[mn]=!1;for(var t=this;t=t.parent;)t[mn]=!1}},n.next=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t+1]}},n.positionBy=function(t,r){var o=this.source.start;if(t.index)o=this.positionInside(t.index,r);else if(t.word){r=this.toString();var s=r.indexOf(t.word);s!==-1&&(o=this.positionInside(s,r))}return o},n.positionInside=function(t,r){for(var o=r||this.toString(),s=this.source.start.column,a=this.source.start.line,u=0;u<t;u++)o[u]===`
`?(s=1,a+=1):s+=1;return{column:s,line:a}},n.prev=function(){if(this.parent){var t=this.parent.index(this);return this.parent.nodes[t-1]}},n.rangeBy=function(t){var r={column:this.source.start.column,line:this.source.start.line},o=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:r.column+1,line:r.line};if(t.word){var s=this.toString(),a=s.indexOf(t.word);a!==-1&&(r=this.positionInside(a,s),o=this.positionInside(a+t.word.length,s))}else t.start?r={column:t.start.column,line:t.start.line}:t.index&&(r=this.positionInside(t.index)),t.end?o={column:t.end.column,line:t.end.line}:typeof t.endIndex=="number"?o=this.positionInside(t.endIndex):t.index&&(o=this.positionInside(t.index+1));return(o.line<r.line||o.line===r.line&&o.column<=r.column)&&(o={column:r.column+1,line:r.line}),{end:o,start:r}},n.raw=function(t,r){var o=new Td;return o.raw(this,t,r)},n.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},n.replaceWith=function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];if(this.parent){for(var s=this,a=!1,u=A(r),c;!(c=u()).done;){var l=c.value;l===this?a=!0:a?(this.parent.insertAfter(s,l),s=l):this.parent.insertBefore(s,l)}a||this.remove()}return this},n.root=function(){for(var t=this;t.parent&&t.parent.type!=="document";)t=t.parent;return t},n.toJSON=function(t,r){var o={},s=r==null;r=r||new Map;var a=0;for(var u in this)if(Object.prototype.hasOwnProperty.call(this,u)&&!(u==="parent"||u==="proxyCache")){var c=this[u];if(Array.isArray(c))o[u]=c.map(function(f){return(typeof f>"u"?"undefined":z(f))==="object"&&f.toJSON?f.toJSON(null,r):f});else if((typeof c>"u"?"undefined":z(c))==="object"&&c.toJSON)o[u]=c.toJSON(null,r);else if(u==="source"){var l=r.get(c.input);l==null&&(l=a,r.set(c.input,a),a++),o[u]={end:c.end,inputId:l,start:c.start}}else o[u]=c}return s&&(o.inputs=[].concat(r.keys()).map(function(f){return f.toJSON()})),o},n.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},n.toString=function(t){t===void 0&&(t=Md),t.stringify&&(t=t.stringify);var r="";return t(this,function(o){r+=o}),r},n.warn=function(t,r,o){var s={node:this};for(var a in o)s[a]=o[a];return t.warn(r,s)},Te(e,[{key:"proxyOf",get:function(){return this}}]),e}(),_i=Co;Co.default=Co;var Nd=_i,xo=function(e){Pe(n,e);function n(i){var t;return i&&typeof i.value<"u"&&typeof i.value!="string"&&(i=ee({},i,{value:String(i.value)})),t=e.call(this,i)||this,t.type="decl",t}return Te(n,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),n}(Nd),bi=xo;xo.default=xo;var Pd="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ld=function(e){e===void 0&&(e=21);for(var n="",i=e;i--;)n+=Pd[Math.random()*64|0];return n},$d={nanoid:Ld},Sa=_e.SourceMapConsumer,Ca=_e.SourceMapGenerator,Dd=_e.existsSync,Fd=_e.readFileSync,Di=_e.dirname,Ud=_e.join;function Bd(e){return Buffer?Buffer.from(e,"base64").toString():window.atob(e)}var Io=function(){function e(i,t){if(t.map!==!1){this.loadAnnotation(i),this.inline=this.startWith(this.annotation,"data:");var r=t.map?t.map.prev:void 0,o=this.loadMap(t.from,r);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=Di(this.mapFile)),o&&(this.text=o)}}var n=e.prototype;return n.consumer=function(){return this.consumerCache||(this.consumerCache=new Sa(this.text)),this.consumerCache},n.decodeInline=function(t){var r=/^data:application\/json;charset=utf-?8;base64,/,o=/^data:application\/json;base64,/,s=/^data:application\/json;charset=utf-?8,/,a=/^data:application\/json,/;if(s.test(t)||a.test(t))return decodeURIComponent(t.substr(RegExp.lastMatch.length));if(r.test(t)||o.test(t))return Bd(t.substr(RegExp.lastMatch.length));var u=t.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+u)},n.getAnnotationURL=function(t){return t.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},n.isMap=function(t){return(typeof t>"u"?"undefined":z(t))!=="object"?!1:typeof t.mappings=="string"||typeof t._mappings=="string"||Array.isArray(t.sections)},n.loadAnnotation=function(t){var r=t.match(/\/\*\s*# sourceMappingURL=/gm);if(r){var o=t.lastIndexOf(r.pop()),s=t.indexOf("*/",o);o>-1&&s>-1&&(this.annotation=this.getAnnotationURL(t.substring(o,s)))}},n.loadFile=function(t){if(this.root=Di(t),Dd(t))return this.mapFile=t,Fd(t,"utf-8").toString().trim()},n.loadMap=function(t,r){if(r===!1)return!1;if(r){if(typeof r=="string")return r;if(typeof r=="function"){var o=r(t);if(o){var s=this.loadFile(o);if(!s)throw new Error("Unable to load previous source map: "+o.toString());return s}}else{if($(r,Sa))return Ca.fromSourceMap(r).toString();if($(r,Ca))return r.toString();if(this.isMap(r))return JSON.stringify(r);throw new Error("Unsupported previous source map format: "+r.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var a=this.annotation;return t&&(a=Ud(Di(t),a)),this.loadFile(a)}}},n.startWith=function(t,r){return t?t.substr(0,r.length)===r:!1},n.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},e}(),yc=Io;Io.default=Io;var jd=_e.SourceMapConsumer,zd=_e.SourceMapGenerator,xa=_e.fileURLToPath,yn=_e.pathToFileURL,Eo=_e.isAbsolute,ko=_e.resolve,Wd=$d.nanoid,Fi=_e,Ia=fs,Vd=yc,Ui=Symbol("fromOffsetCache"),qd=!!(jd&&zd),Ea=!!(ko&&Eo),Hn=function(){function e(i,t){if(t===void 0&&(t={}),i===null||typeof i>"u"||(typeof i>"u"?"undefined":z(i))==="object"&&!i.toString)throw new Error("PostCSS received "+i+" instead of CSS string");if(this.css=i.toString(),this.css[0]==="\uFEFF"||this.css[0]==="ï¿¾"?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!Ea||/^\w+:\/\//.test(t.from)||Eo(t.from)?this.file=t.from:this.file=ko(t.from)),Ea&&qd){var r=new Vd(this.css,t);if(r.text){this.map=r;var o=r.consumer().file;!this.file&&o&&(this.file=this.mapResolve(o))}}this.file||(this.id="<input css "+Wd(6)+">"),this.map&&(this.map.file=this.from)}var n=e.prototype;return n.error=function(t,r,o,s){s===void 0&&(s={});var a,u,c;if(r&&(typeof r>"u"?"undefined":z(r))==="object"){var l=r,f=o;if(typeof l.offset=="number"){var p=this.fromOffset(l.offset);r=p.line,o=p.col}else r=l.line,o=l.column;if(typeof f.offset=="number"){var g=this.fromOffset(f.offset);u=g.line,c=g.col}else u=f.line,c=f.column}else if(!o){var v=this.fromOffset(r);r=v.line,o=v.col}var y=this.origin(r,o,u,c);return y?a=new Ia(t,y.endLine===void 0?y.line:{column:y.column,line:y.line},y.endLine===void 0?y.column:{column:y.endColumn,line:y.endLine},y.source,y.file,s.plugin):a=new Ia(t,u===void 0?r:{column:o,line:r},u===void 0?o:{column:c,line:u},this.css,this.file,s.plugin),a.input={column:o,endColumn:c,endLine:u,line:r,source:this.css},this.file&&(yn&&(a.input.url=yn(this.file).toString()),a.input.file=this.file),a},n.fromOffset=function(t){var r,o;if(this[Ui])o=this[Ui];else{var s=this.css.split(`
`);o=new Array(s.length);for(var a=0,u=0,c=s.length;u<c;u++)o[u]=a,a+=s[u].length+1;this[Ui]=o}r=o[o.length-1];var l=0;if(t>=r)l=o.length-1;else for(var f=o.length-2,p;l<f;)if(p=l+(f-l>>1),t<o[p])f=p-1;else if(t>=o[p+1])l=p+1;else{l=p;break}return{col:t-o[l]+1,line:l+1}},n.mapResolve=function(t){return/^\w+:\/\//.test(t)?t:ko(this.map.consumer().sourceRoot||this.map.root||".",t)},n.origin=function(t,r,o,s){if(!this.map)return!1;var a=this.map.consumer(),u=a.originalPositionFor({column:r,line:t});if(!u.source)return!1;var c;typeof o=="number"&&(c=a.originalPositionFor({column:s,line:o}));var l;Eo(u.source)?l=yn(u.source):l=new URL(u.source,this.map.consumer().sourceRoot||yn(this.map.mapFile));var f={column:u.column,endColumn:c&&c.column,endLine:c&&c.line,line:u.line,url:l.toString()};if(l.protocol==="file:")if(xa)f.file=xa(l);else throw new Error("file: protocol is not available in this PostCSS build");var p=a.sourceContentFor(u.source);return p&&(f.source=p),f},n.toJSON=function(){for(var t={},r=0,o=["hasBOM","css","file","id"];r<o.length;r++){var s=o[r];this[s]!=null&&(t[s]=this[s])}return this.map&&(t.map=ee({},this.map),t.map.consumerCache&&(t.map.consumerCache=void 0)),t},Te(e,[{key:"from",get:function(){return this.file||this.id}}]),e}(),wi=Hn;Hn.default=Hn;Fi&&Fi.registerInput&&Fi.registerInput(Hn);var _c=_e.SourceMapConsumer,Pn=_e.SourceMapGenerator,Ln=_e.dirname,bc=_e.relative,wc=_e.resolve,Sc=_e.sep,ka=_e.pathToFileURL,Gd=wi,Hd=!!(_c&&Pn),Yd=!!(Ln&&wc&&bc&&Sc),Kd=function(){function e(i,t,r,o){this.stringify=i,this.mapOpts=r.map||{},this.root=t,this.opts=r,this.css=o,this.originalCSS=o,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var n=e.prototype;return n.addAnnotation=function(){var t;this.isInline()?t="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?t=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?t=this.mapOpts.annotation(this.opts.to,this.root):t=this.outputFile()+".map";var r=`
`;this.css.includes(`\r
`)&&(r=`\r
`),this.css+=r+"/*# sourceMappingURL="+t+" */"},n.applyPrevMaps=function(){for(var t=A(this.previous()),r;!(r=t()).done;){var o=r.value,s=this.toUrl(this.path(o.file)),a=o.root||Ln(o.file),u=void 0;this.mapOpts.sourcesContent===!1?(u=new _c(o.text),u.sourcesContent&&(u.sourcesContent=null)):u=o.consumer(),this.map.applySourceMap(u,s,this.toUrl(this.path(a)))}},n.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var t,r=this.root.nodes.length-1;r>=0;r--)t=this.root.nodes[r],t.type==="comment"&&t.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(r);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},n.generate=function(){if(this.clearAnnotation(),Yd&&Hd&&this.isMap())return this.generateMap();var t="";return this.stringify(this.root,function(r){t+=r}),[t]},n.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var t=this.previous()[0].consumer();t.file=this.outputFile(),this.map=Pn.fromSourceMap(t,{ignoreInvalidMapping:!0})}else this.map=new Pn({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},n.generateString=function(){var t=this;this.css="",this.map=new Pn({file:this.outputFile(),ignoreInvalidMapping:!0});var r=1,o=1,s="<no source>",a={generated:{column:0,line:0},original:{column:0,line:0},source:""},u,c;this.stringify(this.root,function(l,f,p){if(t.css+=l,f&&p!=="end"&&(a.generated.line=r,a.generated.column=o-1,f.source&&f.source.start?(a.source=t.sourcePath(f),a.original.line=f.source.start.line,a.original.column=f.source.start.column-1,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,t.map.addMapping(a))),u=l.match(/\n/g),u?(r+=u.length,c=l.lastIndexOf(`
`),o=l.length-c):o+=l.length,f&&p!=="start"){var g=f.parent||{raws:{}},v=f.type==="decl"||f.type==="atrule"&&!f.nodes;(!v||f!==g.last||g.raws.semicolon)&&(f.source&&f.source.end?(a.source=t.sourcePath(f),a.original.line=f.source.end.line,a.original.column=f.source.end.column-1,a.generated.line=r,a.generated.column=o-2,t.map.addMapping(a)):(a.source=s,a.original.line=1,a.original.column=0,a.generated.line=r,a.generated.column=o-1,t.map.addMapping(a)))}})},n.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(t){return t.annotation}):!0},n.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var t=this.mapOpts.annotation;return typeof t<"u"&&t!==!0?!1:this.previous().length?this.previous().some(function(r){return r.inline}):!0},n.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},n.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(t){return t.withContent()}):!0},n.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},n.path=function(t){if(this.mapOpts.absolute||t.charCodeAt(0)===60||/^\w+:\/\//.test(t))return t;var r=this.memoizedPaths.get(t);if(r)return r;var o=this.opts.to?Ln(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(o=Ln(wc(o,this.mapOpts.annotation)));var s=bc(o,t);return this.memoizedPaths.set(t,s),s},n.previous=function(){var t=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(o){if(o.source&&o.source.input.map){var s=o.source.input.map;t.previousMaps.includes(s)||t.previousMaps.push(s)}});else{var r=new Gd(this.originalCSS,this.opts);r.map&&this.previousMaps.push(r.map)}return this.previousMaps},n.setSourcesContent=function(){var t=this,r={};if(this.root)this.root.walk(function(s){if(s.source){var a=s.source.input.from;if(a&&!r[a]){r[a]=!0;var u=t.usesFileUrls?t.toFileUrl(a):t.toUrl(t.path(a));t.map.setSourceContent(u,s.source.input.css)}}});else if(this.css){var o=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(o,this.css)}},n.sourcePath=function(t){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(t.source.input.from):this.toUrl(this.path(t.source.input.from))},n.toBase64=function(t){return Buffer?Buffer.from(t).toString("base64"):window.btoa(unescape(encodeURIComponent(t)))},n.toFileUrl=function(t){var r=this.memoizedFileURLs.get(t);if(r)return r;if(ka){var o=ka(t).toString();return this.memoizedFileURLs.set(t,o),o}else throw new Error("`map.absolute` option is not available in this PostCSS build")},n.toUrl=function(t){var r=this.memoizedURLs.get(t);if(r)return r;Sc==="\\"&&(t=t.replace(/\\/g,"/"));var o=encodeURI(t).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(t,o),o},e}(),Cc=Kd,Jd=_i,Oo=function(e){Pe(n,e);function n(i){var t;return t=e.call(this,i)||this,t.type="comment",t}return n}(Jd),Si=Oo;Oo.default=Oo;var xc=At.isClean,Ic=At.my,Ec=bi,kc=Si,Xd=_i,Oc,hs,ps,Ac;function Rc(e){return e.map(function(n){return n.nodes&&(n.nodes=Rc(n.nodes)),delete n.source,n})}function Tc(e){if(e[xc]=!1,e.proxyOf.nodes)for(var n=A(e.proxyOf.nodes),i;!(i=n()).done;){var t=i.value;Tc(t)}}var dt=function(e){Pe(n,e);function n(){return e.apply(this,arguments)||this}var i=n.prototype;return i.append=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];for(var a=A(o),u;!(u=a()).done;)for(var c=u.value,l=this.normalize(c,this.last),f=A(l),p;!(p=f()).done;){var g=p.value;this.proxyOf.nodes.push(g)}return this.markDirty(),this},i.cleanRaws=function(r){if(e.prototype.cleanRaws.call(this,r),this.nodes)for(var o=A(this.nodes),s;!(s=o()).done;){var a=s.value;a.cleanRaws(r)}},i.each=function(r){if(this.proxyOf.nodes){for(var o=this.getIterator(),s,a;this.indexes[o]<this.proxyOf.nodes.length&&(s=this.indexes[o],a=r(this.proxyOf.nodes[s],s),a!==!1);)this.indexes[o]+=1;return delete this.indexes[o],a}},i.every=function(r){return this.nodes.every(r)},i.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var r=this.lastEach;return this.indexes[r]=0,r},i.getProxyProcessor=function(){return{get:function(o,s){return s==="proxyOf"?o:o[s]?s==="each"||typeof s=="string"&&s.startsWith("walk")?function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];var l;return(l=o)[s].apply(l,[].concat(u.map(function(f){return typeof f=="function"?function(p,g){return f(p.toProxy(),g)}:f})))}:s==="every"||s==="some"?function(a){return o[s](function(u){for(var c=arguments.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=arguments[f];return a.apply(void 0,[].concat([u.toProxy()],l))})}:s==="root"?function(){return o.root().toProxy()}:s==="nodes"?o.nodes.map(function(a){return a.toProxy()}):s==="first"||s==="last"?o[s].toProxy():o[s]:o[s]},set:function(o,s,a){return o[s]===a||(o[s]=a,(s==="name"||s==="params"||s==="selector")&&o.markDirty()),!0}}},i.index=function(r){return typeof r=="number"?r:(r.proxyOf&&(r=r.proxyOf),this.proxyOf.nodes.indexOf(r))},i.insertAfter=function(r,o){var s=this.index(r),a=this.normalize(o,this.proxyOf.nodes[s]).reverse();s=this.index(r);for(var u=A(a),c;!(c=u()).done;){var l=c.value;this.proxyOf.nodes.splice(s+1,0,l)}var f;for(var p in this.indexes)f=this.indexes[p],s<f&&(this.indexes[p]=f+a.length);return this.markDirty(),this},i.insertBefore=function(r,o){var s=this.index(r),a=s===0?"prepend":!1,u=this.normalize(o,this.proxyOf.nodes[s],a).reverse();s=this.index(r);for(var c=A(u),l;!(l=c()).done;){var f=l.value;this.proxyOf.nodes.splice(s,0,f)}var p;for(var g in this.indexes)p=this.indexes[g],s<=p&&(this.indexes[g]=p+u.length);return this.markDirty(),this},i.normalize=function(r,o){var s=this;if(typeof r=="string")r=Rc(Oc(r).nodes);else if(typeof r>"u")r=[];else if(Array.isArray(r)){r=r.slice(0);for(var a=A(r),u;!(u=a()).done;){var c=u.value;c.parent&&c.parent.removeChild(c,"ignore")}}else if(r.type==="root"&&this.type!=="document"){r=r.nodes.slice(0);for(var l=A(r),f;!(f=l()).done;){var p=f.value;p.parent&&p.parent.removeChild(p,"ignore")}}else if(r.type)r=[r];else if(r.prop){if(typeof r.value>"u")throw new Error("Value field is missed in node creation");typeof r.value!="string"&&(r.value=String(r.value)),r=[new Ec(r)]}else if(r.selector)r=[new hs(r)];else if(r.name)r=[new ps(r)];else if(r.text)r=[new kc(r)];else throw new Error("Unknown node type in node creation");var g=r.map(function(v){return v[Ic]||n.rebuild(v),v=v.proxyOf,v.parent&&v.parent.removeChild(v),v[xc]&&Tc(v),typeof v.raws.before>"u"&&o&&typeof o.raws.before<"u"&&(v.raws.before=o.raws.before.replace(/\S/g,"")),v.parent=s.proxyOf,v});return g},i.prepend=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];o=o.reverse();for(var a=A(o),u;!(u=a()).done;){for(var c=u.value,l=this.normalize(c,this.first,"prepend").reverse(),f=A(l),p;!(p=f()).done;){var g=p.value;this.proxyOf.nodes.unshift(g)}for(var v in this.indexes)this.indexes[v]=this.indexes[v]+l.length}return this.markDirty(),this},i.push=function(r){return r.parent=this,this.proxyOf.nodes.push(r),this},i.removeAll=function(){for(var r=A(this.proxyOf.nodes),o;!(o=r()).done;){var s=o.value;s.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},i.removeChild=function(r){r=this.index(r),this.proxyOf.nodes[r].parent=void 0,this.proxyOf.nodes.splice(r,1);var o;for(var s in this.indexes)o=this.indexes[s],o>=r&&(this.indexes[s]=o-1);return this.markDirty(),this},i.replaceValues=function(r,o,s){return s||(s=o,o={}),this.walkDecls(function(a){o.props&&!o.props.includes(a.prop)||o.fast&&!a.value.includes(o.fast)||(a.value=a.value.replace(r,s))}),this.markDirty(),this},i.some=function(r){return this.nodes.some(r)},i.walk=function(r){return this.each(function(o,s){var a;try{a=r(o,s)}catch(u){throw o.addToError(u)}return a!==!1&&o.walk&&(a=o.walk(r)),a})},i.walkAtRules=function(r,o){return o?$(r,RegExp)?this.walk(function(s,a){if(s.type==="atrule"&&r.test(s.name))return o(s,a)}):this.walk(function(s,a){if(s.type==="atrule"&&s.name===r)return o(s,a)}):(o=r,this.walk(function(s,a){if(s.type==="atrule")return o(s,a)}))},i.walkComments=function(r){return this.walk(function(o,s){if(o.type==="comment")return r(o,s)})},i.walkDecls=function(r,o){return o?$(r,RegExp)?this.walk(function(s,a){if(s.type==="decl"&&r.test(s.prop))return o(s,a)}):this.walk(function(s,a){if(s.type==="decl"&&s.prop===r)return o(s,a)}):(o=r,this.walk(function(s,a){if(s.type==="decl")return o(s,a)}))},i.walkRules=function(r,o){return o?$(r,RegExp)?this.walk(function(s,a){if(s.type==="rule"&&r.test(s.selector))return o(s,a)}):this.walk(function(s,a){if(s.type==="rule"&&s.selector===r)return o(s,a)}):(o=r,this.walk(function(s,a){if(s.type==="rule")return o(s,a)}))},Te(n,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),n}(Xd);dt.registerParse=function(e){Oc=e};dt.registerRule=function(e){hs=e};dt.registerAtRule=function(e){ps=e};dt.registerRoot=function(e){Ac=e};var qt=dt;dt.default=dt;dt.rebuild=function(e){e.type==="atrule"?Object.setPrototypeOf(e,ps.prototype):e.type==="rule"?Object.setPrototypeOf(e,hs.prototype):e.type==="decl"?Object.setPrototypeOf(e,Ec.prototype):e.type==="comment"?Object.setPrototypeOf(e,kc.prototype):e.type==="root"&&Object.setPrototypeOf(e,Ac.prototype),e[Ic]=!0,e.nodes&&e.nodes.forEach(function(n){dt.rebuild(n)})};var Zd=qt,Mc,Nc,Vr=function(e){Pe(n,e);function n(t){var r;return r=e.call(this,ee({type:"document"},t))||this,r.nodes||(r.nodes=[]),r}var i=n.prototype;return i.toResult=function(r){r===void 0&&(r={});var o=new Mc(new Nc,this,r);return o.stringify()},n}(Zd);Vr.registerLazyResult=function(e){Mc=e};Vr.registerProcessor=function(e){Nc=e};var ds=Vr;Vr.default=Vr;var Ao=function(){function e(i,t){if(t===void 0&&(t={}),this.type="warning",this.text=i,t.node&&t.node.source){var r=t.node.rangeBy(t);this.line=r.start.line,this.column=r.start.column,this.endLine=r.end.line,this.endColumn=r.end.column}for(var o in t)this[o]=t[o]}var n=e.prototype;return n.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},e}(),Pc=Ao;Ao.default=Ao;var Qd=Pc,Ro=function(){function e(i,t,r){this.processor=i,this.messages=[],this.root=t,this.opts=r,this.css=void 0,this.map=void 0}var n=e.prototype;return n.toString=function(){return this.css},n.warn=function(t,r){r===void 0&&(r={}),r.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(r.plugin=this.lastPlugin.postcssPlugin);var o=new Qd(t,r);return this.messages.push(o),o},n.warnings=function(){return this.messages.filter(function(t){return t.type==="warning"})},Te(e,[{key:"content",get:function(){return this.css}}]),e}(),vs=Ro;Ro.default=Ro;var Bi=39,Oa=34,_n=92,Aa=47,bn=10,xr=32,wn=12,Sn=9,Cn=13,ev=91,tv=93,rv=40,nv=41,iv=123,ov=125,sv=59,av=42,uv=58,cv=64,xn=/[\t\n\f\r "#'()/;[\\\]{}]/g,In=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,lv=/.[\r\n"'(/\\]/,Ra=/[\da-f]/i,fv=function(n,i){i===void 0&&(i={});var t=n.css.valueOf(),r=i.ignoreErrors,o,s,a,u,c,l,f,p,g,v,y=t.length,d=0,m=[],_=[];function w(){return d}function C(T){throw n.error("Unclosed "+T,d)}function x(){return _.length===0&&d>=y}function k(T){if(_.length)return _.pop();if(!(d>=y)){var M=T?T.ignoreUnclosed:!1;switch(o=t.charCodeAt(d),o){case bn:case xr:case Sn:case Cn:case wn:{s=d;do s+=1,o=t.charCodeAt(s);while(o===xr||o===bn||o===Sn||o===Cn||o===wn);v=["space",t.slice(d,s)],d=s-1;break}case ev:case tv:case iv:case ov:case uv:case sv:case nv:{var B=String.fromCharCode(o);v=[B,B,d];break}case rv:{if(p=m.length?m.pop()[1]:"",g=t.charCodeAt(d+1),p==="url"&&g!==Bi&&g!==Oa&&g!==xr&&g!==bn&&g!==Sn&&g!==wn&&g!==Cn){s=d;do{if(l=!1,s=t.indexOf(")",s+1),s===-1)if(r||M){s=d;break}else C("bracket");for(f=s;t.charCodeAt(f-1)===_n;)f-=1,l=!l}while(l);v=["brackets",t.slice(d,s+1),d,s],d=s}else s=t.indexOf(")",d+1),u=t.slice(d,s+1),s===-1||lv.test(u)?v=["(","(",d]:(v=["brackets",u,d,s],d=s);break}case Bi:case Oa:{a=o===Bi?"'":'"',s=d;do{if(l=!1,s=t.indexOf(a,s+1),s===-1)if(r||M){s=d+1;break}else C("string");for(f=s;t.charCodeAt(f-1)===_n;)f-=1,l=!l}while(l);v=["string",t.slice(d,s+1),d,s],d=s;break}case cv:{xn.lastIndex=d+1,xn.test(t),xn.lastIndex===0?s=t.length-1:s=xn.lastIndex-2,v=["at-word",t.slice(d,s+1),d,s],d=s;break}case _n:{for(s=d,c=!0;t.charCodeAt(s+1)===_n;)s+=1,c=!c;if(o=t.charCodeAt(s+1),c&&o!==Aa&&o!==xr&&o!==bn&&o!==Sn&&o!==Cn&&o!==wn&&(s+=1,Ra.test(t.charAt(s)))){for(;Ra.test(t.charAt(s+1));)s+=1;t.charCodeAt(s+1)===xr&&(s+=1)}v=["word",t.slice(d,s+1),d,s],d=s;break}default:{o===Aa&&t.charCodeAt(d+1)===av?(s=t.indexOf("*/",d+2)+1,s===0&&(r||M?s=t.length:C("comment")),v=["comment",t.slice(d,s+1),d,s],d=s):(In.lastIndex=d+1,In.test(t),In.lastIndex===0?s=t.length-1:s=In.lastIndex-2,v=["word",t.slice(d,s+1),d,s],m.push(v),d=s);break}}return d++,v}}function R(T){_.push(T)}return{back:R,endOfFile:x,nextToken:k,position:w}},Lc=qt,Yn=function(e){Pe(n,e);function n(t){var r;return r=e.call(this,t)||this,r.type="atrule",r}var i=n.prototype;return i.append=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.append).call.apply(a,[].concat([this],o))},i.prepend=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];var a;return this.proxyOf.nodes||(this.nodes=[]),(a=e.prototype.prepend).call.apply(a,[].concat([this],o))},n}(Lc),gs=Yn;Yn.default=Yn;Lc.registerAtRule(Yn);var $c=qt,Dc,Fc,lr=function(e){Pe(n,e);function n(t){var r;return r=e.call(this,t)||this,r.type="root",r.nodes||(r.nodes=[]),r}var i=n.prototype;return i.normalize=function(r,o,s){var a=e.prototype.normalize.call(this,r);if(o){if(s==="prepend")this.nodes.length>1?o.raws.before=this.nodes[1].raws.before:delete o.raws.before;else if(this.first!==o)for(var u=A(a),c;!(c=u()).done;){var l=c.value;l.raws.before=o.raws.before}}return a},i.removeChild=function(r,o){var s=this.index(r);return!o&&s===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[s].raws.before),e.prototype.removeChild.call(this,r)},i.toResult=function(r){r===void 0&&(r={});var o=new Dc(new Fc,this,r);return o.stringify()},n}($c);lr.registerLazyResult=function(e){Dc=e};lr.registerProcessor=function(e){Fc=e};var tn=lr;lr.default=lr;$c.registerRoot(lr);var qr={comma:function(n){return qr.split(n,[","],!0)},space:function(n){var i=[" ",`
`,"	"];return qr.split(n,i)},split:function(n,i,t){for(var r=[],o="",s=!1,a=0,u=!1,c="",l=!1,f=A(n),p;!(p=f()).done;){var g=p.value;l?l=!1:g==="\\"?l=!0:u?g===c&&(u=!1):g==='"'||g==="'"?(u=!0,c=g):g==="("?a+=1:g===")"?a>0&&(a-=1):a===0&&i.includes(g)&&(s=!0),s?(o!==""&&r.push(o.trim()),o="",s=!1):o+=g}return(t||o!=="")&&r.push(o.trim()),r}},Uc=qr;qr.default=qr;var Bc=qt,hv=Uc,Kn=function(e){Pe(n,e);function n(i){var t;return t=e.call(this,i)||this,t.type="rule",t.nodes||(t.nodes=[]),t}return Te(n,[{key:"selectors",get:function(){return hv.comma(this.selector)},set:function(t){var r=this.selector?this.selector.match(/,\s*/):null,o=r?r[0]:","+this.raw("between","beforeOpen");this.selector=t.join(o)}}]),n}(Bc),ms=Kn;Kn.default=Kn;Bc.registerRule(Kn);var pv=bi,dv=fv,vv=Si,gv=gs,mv=tn,Ta=ms,Ma={empty:!0,space:!0};function yv(e){for(var n=e.length-1;n>=0;n--){var i=e[n],t=i[3]||i[2];if(t)return t}}var _v=function(){function e(i){this.input=i,this.root=new mv,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:i,start:{column:1,line:1,offset:0}}}var n=e.prototype;return n.atrule=function(t){var r=new gv;r.name=t[1].slice(1),r.name===""&&this.unnamedAtrule(r,t),this.init(r,t[2]);for(var o,s,a,u=!1,c=!1,l=[],f=[];!this.tokenizer.endOfFile();){if(t=this.tokenizer.nextToken(),o=t[0],o==="("||o==="["?f.push(o==="("?")":"]"):o==="{"&&f.length>0?f.push("}"):o===f[f.length-1]&&f.pop(),f.length===0)if(o===";"){r.source.end=this.getPosition(t[2]),r.source.end.offset++,this.semicolon=!0;break}else if(o==="{"){c=!0;break}else if(o==="}"){if(l.length>0){for(a=l.length-1,s=l[a];s&&s[0]==="space";)s=l[--a];s&&(r.source.end=this.getPosition(s[3]||s[2]),r.source.end.offset++)}this.end(t);break}else l.push(t);else l.push(t);if(this.tokenizer.endOfFile()){u=!0;break}}r.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(r.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(r,"params",l),u&&(t=l[l.length-1],r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++,this.spaces=r.raws.between,r.raws.between="")):(r.raws.afterName="",r.params=""),c&&(r.nodes=[],this.current=r)},n.checkMissedSemicolon=function(t){var r=this.colon(t);if(r!==!1){for(var o=0,s,a=r-1;a>=0&&(s=t[a],!(s[0]!=="space"&&(o+=1,o===2)));a--);throw this.input.error("Missed semicolon",s[0]==="word"?s[3]+1:s[2])}},n.colon=function(t){for(var r=0,o,s,a,u=A(t.entries()),c;!(c=u()).done;){var l=c.value,f=l[0],p=l[1];if(o=p,s=o[0],s==="("&&(r+=1),s===")"&&(r-=1),r===0&&s===":")if(!a)this.doubleColon(o);else{if(a[0]==="word"&&a[1]==="progid")continue;return f}a=o}return!1},n.comment=function(t){var r=new vv;this.init(r,t[2]),r.source.end=this.getPosition(t[3]||t[2]),r.source.end.offset++;var o=t[1].slice(2,-2);if(/^\s*$/.test(o))r.text="",r.raws.left=o,r.raws.right="";else{var s=o.match(/^(\s*)([^]*\S)(\s*)$/);r.text=s[2],r.raws.left=s[1],r.raws.right=s[3]}},n.createTokenizer=function(){this.tokenizer=dv(this.input)},n.decl=function(t,r){var o=new pv;this.init(o,t[0][2]);var s=t[t.length-1];for(s[0]===";"&&(this.semicolon=!0,t.pop()),o.source.end=this.getPosition(s[3]||s[2]||yv(t)),o.source.end.offset++;t[0][0]!=="word";)t.length===1&&this.unknownWord(t),o.raws.before+=t.shift()[1];for(o.source.start=this.getPosition(t[0][2]),o.prop="";t.length;){var a=t[0][0];if(a===":"||a==="space"||a==="comment")break;o.prop+=t.shift()[1]}o.raws.between="";for(var u;t.length;)if(u=t.shift(),u[0]===":"){o.raws.between+=u[1];break}else u[0]==="word"&&/\w/.test(u[1])&&this.unknownWord([u]),o.raws.between+=u[1];(o.prop[0]==="_"||o.prop[0]==="*")&&(o.raws.before+=o.prop[0],o.prop=o.prop.slice(1));for(var c=[],l;t.length&&(l=t[0][0],!(l!=="space"&&l!=="comment"));)c.push(t.shift());this.precheckMissedSemicolon(t);for(var f=t.length-1;f>=0;f--){if(u=t[f],u[1].toLowerCase()==="!important"){o.important=!0;var p=this.stringFrom(t,f);p=this.spacesFromEnd(t)+p,p!==" !important"&&(o.raws.important=p);break}else if(u[1].toLowerCase()==="important"){for(var g=t.slice(0),v="",y=f;y>0;y--){var d=g[y][0];if(v.trim().indexOf("!")===0&&d!=="space")break;v=g.pop()[1]+v}v.trim().indexOf("!")===0&&(o.important=!0,o.raws.important=v,t=g)}if(u[0]!=="space"&&u[0]!=="comment")break}var m=t.some(function(_){return _[0]!=="space"&&_[0]!=="comment"});m&&(o.raws.between+=c.map(function(_){return _[1]}).join(""),c=[]),this.raw(o,"value",c.concat(t),r),o.value.includes(":")&&!r&&this.checkMissedSemicolon(t)},n.doubleColon=function(t){throw this.input.error("Double colon",{offset:t[2]},{offset:t[2]+t[1].length})},n.emptyRule=function(t){var r=new Ta;this.init(r,t[2]),r.selector="",r.raws.between="",this.current=r},n.end=function(t){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(t[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(t)},n.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},n.freeSemicolon=function(t){if(this.spaces+=t[1],this.current.nodes){var r=this.current.nodes[this.current.nodes.length-1];r&&r.type==="rule"&&!r.raws.ownSemicolon&&(r.raws.ownSemicolon=this.spaces,this.spaces="")}},n.getPosition=function(t){var r=this.input.fromOffset(t);return{column:r.col,line:r.line,offset:t}},n.init=function(t,r){this.current.push(t),t.source={input:this.input,start:this.getPosition(r)},t.raws.before=this.spaces,this.spaces="",t.type!=="comment"&&(this.semicolon=!1)},n.other=function(t){for(var r=!1,o=null,s=!1,a=null,u=[],c=t[1].startsWith("--"),l=[],f=t;f;){if(o=f[0],l.push(f),o==="("||o==="[")a||(a=f),u.push(o==="("?")":"]");else if(c&&s&&o==="{")a||(a=f),u.push("}");else if(u.length===0)if(o===";")if(s){this.decl(l,c);return}else break;else if(o==="{"){this.rule(l);return}else if(o==="}"){this.tokenizer.back(l.pop()),r=!0;break}else o===":"&&(s=!0);else o===u[u.length-1]&&(u.pop(),u.length===0&&(a=null));f=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(r=!0),u.length>0&&this.unclosedBracket(a),r&&s){if(!c)for(;l.length&&(f=l[l.length-1][0],!(f!=="space"&&f!=="comment"));)this.tokenizer.back(l.pop());this.decl(l,c)}else this.unknownWord(l)},n.parse=function(){for(var t;!this.tokenizer.endOfFile();)switch(t=this.tokenizer.nextToken(),t[0]){case"space":this.spaces+=t[1];break;case";":this.freeSemicolon(t);break;case"}":this.end(t);break;case"comment":this.comment(t);break;case"at-word":this.atrule(t);break;case"{":this.emptyRule(t);break;default:this.other(t);break}this.endFile()},n.precheckMissedSemicolon=function(){},n.raw=function(t,r,o,s){for(var a,u,c=o.length,l="",f=!0,p,g,v=0;v<c;v+=1)a=o[v],u=a[0],u==="space"&&v===c-1&&!s?f=!1:u==="comment"?(g=o[v-1]?o[v-1][0]:"empty",p=o[v+1]?o[v+1][0]:"empty",!Ma[g]&&!Ma[p]?l.slice(-1)===","?f=!1:l+=a[1]:f=!1):l+=a[1];if(!f){var y=o.reduce(function(d,m){return d+m[1]},"");t.raws[r]={raw:y,value:l}}t[r]=l},n.rule=function(t){t.pop();var r=new Ta;this.init(r,t[0][2]),r.raws.between=this.spacesAndCommentsFromEnd(t),this.raw(r,"selector",t),this.current=r},n.spacesAndCommentsFromEnd=function(t){for(var r,o="";t.length&&(r=t[t.length-1][0],!(r!=="space"&&r!=="comment"));)o=t.pop()[1]+o;return o},n.spacesAndCommentsFromStart=function(t){for(var r,o="";t.length&&(r=t[0][0],!(r!=="space"&&r!=="comment"));)o+=t.shift()[1];return o},n.spacesFromEnd=function(t){for(var r,o="";t.length&&(r=t[t.length-1][0],r==="space");)o=t.pop()[1]+o;return o},n.stringFrom=function(t,r){for(var o="",s=r;s<t.length;s++)o+=t[s][1];return t.splice(r,t.length-r),o},n.unclosedBlock=function(){var t=this.current.source.start;throw this.input.error("Unclosed block",t.line,t.column)},n.unclosedBracket=function(t){throw this.input.error("Unclosed bracket",{offset:t[2]},{offset:t[2]+1})},n.unexpectedClose=function(t){throw this.input.error("Unexpected }",{offset:t[2]},{offset:t[2]+1})},n.unknownWord=function(t){throw this.input.error("Unknown word",{offset:t[0][2]},{offset:t[0][2]+t[0][1].length})},n.unnamedAtrule=function(t,r){throw this.input.error("At-rule without name",{offset:r[2]},{offset:r[2]+r[1].length})},e}(),bv=_v,wv=qt,Sv=bv,Cv=wi;function Jn(e,n){var i=new Cv(e,n),t=new Sv(i);try{t.parse()}catch(r){throw r}return t.root}var ys=Jn;Jn.default=Jn;wv.registerParse(Jn);var Qe=At.isClean,xv=At.my,Iv=Cc,Ev=yi,kv=qt,Ov=ds,Na=vs,Av=ys,Rv=tn,Tv={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},Mv={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},Nv={Once:!0,postcssPlugin:!0,prepare:!0},fr=0;function Ir(e){return(typeof e>"u"?"undefined":z(e))==="object"&&typeof e.then=="function"}function jc(e){var n=!1,i=Tv[e.type];return e.type==="decl"?n=e.prop.toLowerCase():e.type==="atrule"&&(n=e.name.toLowerCase()),n&&e.append?[i,i+"-"+n,fr,i+"Exit",i+"Exit-"+n]:n?[i,i+"-"+n,i+"Exit",i+"Exit-"+n]:e.append?[i,fr,i+"Exit"]:[i,i+"Exit"]}function Pa(e){var n;return e.type==="document"?n=["Document",fr,"DocumentExit"]:e.type==="root"?n=["Root",fr,"RootExit"]:n=jc(e),{eventIndex:0,events:n,iterator:0,node:e,visitorIndex:0,visitors:[]}}function To(e){return e[Qe]=!1,e.nodes&&e.nodes.forEach(function(n){return To(n)}),e}var Mo={},hr=function(){function e(i,t,r){var o=this;this.stringified=!1,this.processed=!1;var s;if((typeof t>"u"?"undefined":z(t))==="object"&&t!==null&&(t.type==="root"||t.type==="document"))s=To(t);else if($(t,e)||$(t,Na))s=To(t.root),t.map&&(typeof r.map>"u"&&(r.map={}),r.map.inline||(r.map.inline=!1),r.map.prev=t.map);else{var a=Av;r.syntax&&(a=r.syntax.parse),r.parser&&(a=r.parser),a.parse&&(a=a.parse);try{s=a(t,r)}catch(u){this.processed=!0,this.error=u}s&&!s[xv]&&kv.rebuild(s)}this.result=new Na(i,s,r),this.helpers=ee({},Mo,{postcss:Mo,result:this.result}),this.plugins=this.processor.plugins.map(function(u){return(typeof u>"u"?"undefined":z(u))==="object"&&u.prepare?ee({},u,u.prepare(o.result)):u})}var n=e.prototype;return n.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},n.catch=function(t){return this.async().catch(t)},n.finally=function(t){return this.async().then(t,t)},n.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},n.handleError=function(t,r){var o=this.result.lastPlugin;try{if(r&&r.addToError(t),this.error=t,t.name==="CssSyntaxError"&&!t.plugin)t.plugin=o.postcssPlugin,t.setMessage();else if(o.postcssVersion)var s,a,u,c,l}catch(f){console&&console.error&&console.error(f)}return t},n.prepareVisitors=function(){var t=this;this.listeners={};for(var r=function(l,f,p){t.listeners[f]||(t.listeners[f]=[]),t.listeners[f].push([l,p])},o=A(this.plugins),s;!(s=o()).done;){var a=s.value;if((typeof a>"u"?"undefined":z(a))==="object")for(var u in a){if(!Mv[u]&&/^[A-Z]/.test(u))throw new Error("Unknown event "+u+" in "+a.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!Nv[u])if(z(a[u])==="object")for(var c in a[u])c==="*"?r(a,u,a[u][c]):r(a,u+"-"+c.toLowerCase(),a[u][c]);else typeof a[u]=="function"&&r(a,u,a[u])}}this.hasListener=Object.keys(this.listeners).length>0},n.runAsync=function(){var t=this;return Xo(function(){var r,o,s,a,u,c,l,f,p,g,v,y;return Fr(this,function(d){switch(d.label){case 0:t.plugin=0,r=0,d.label=1;case 1:if(!(r<t.plugins.length))return[3,6];if(o=t.plugins[r],s=t.runOnRoot(o),!Ir(s))return[3,5];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,s];case 3:return d.sent(),[3,5];case 4:throw a=d.sent(),t.handleError(a);case 5:return r++,[3,1];case 6:if(t.prepareVisitors(),!t.hasListener)return[3,18];u=t.result.root,d.label=7;case 7:if(u[Qe])return[3,14];u[Qe]=!0,c=[Pa(u)],d.label=8;case 8:if(!(c.length>0))return[3,13];if(l=t.visitTick(c),!Ir(l))return[3,12];d.label=9;case 9:return d.trys.push([9,11,,12]),[4,l];case 10:return d.sent(),[3,12];case 11:throw f=d.sent(),p=c[c.length-1].node,t.handleError(f,p);case 12:return[3,8];case 13:return[3,7];case 14:if(!t.listeners.OnceExit)return[3,18];g=function(){var m,_,w,C,x;return Fr(this,function(k){switch(k.label){case 0:m=y.value,_=m[0],w=m[1],t.result.lastPlugin=_,k.label=1;case 1:return k.trys.push([1,6,,7]),u.type!=="document"?[3,3]:(C=u.nodes.map(function(R){return w(R,t.helpers)}),[4,Promise.all(C)]);case 2:return k.sent(),[3,5];case 3:return[4,w(u,t.helpers)];case 4:k.sent(),k.label=5;case 5:return[3,7];case 6:throw x=k.sent(),t.handleError(x);case 7:return[2]}})},v=A(t.listeners.OnceExit),d.label=15;case 15:return(y=v()).done?[3,18]:[5,ku(g())];case 16:d.sent(),d.label=17;case 17:return[3,15];case 18:return t.processed=!0,[2,t.stringify()]}})})()},n.runOnRoot=function(t){var r=this;this.result.lastPlugin=t;try{if((typeof t>"u"?"undefined":z(t))==="object"&&t.Once){if(this.result.root.type==="document"){var o=this.result.root.nodes.map(function(s){return t.Once(s,r.helpers)});return Ir(o[0])?Promise.all(o):o}return t.Once(this.result.root,this.helpers)}else if(typeof t=="function")return t(this.result.root,this.result)}catch(s){throw this.handleError(s)}},n.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var t=this.result.opts,r=Ev;t.syntax&&(r=t.syntax.stringify),t.stringifier&&(r=t.stringifier),r.stringify&&(r=r.stringify);var o=new Iv(r,this.result.root,this.result.opts),s=o.generate();return this.result.css=s[0],this.result.map=s[1],this.result},n.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var t=A(this.plugins),r;!(r=t()).done;){var o=r.value,s=this.runOnRoot(o);if(Ir(s))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var a=this.result.root;!a[Qe];)a[Qe]=!0,this.walkSync(a);if(this.listeners.OnceExit)if(a.type==="document")for(var u=A(a.nodes),c;!(c=u()).done;){var l=c.value;this.visitSync(this.listeners.OnceExit,l)}else this.visitSync(this.listeners.OnceExit,a)}return this.result},n.then=function(t,r){return this.async().then(t,r)},n.toString=function(){return this.css},n.visitSync=function(t,r){for(var o=A(t),s;!(s=o()).done;){var a=s.value,u=a[0],c=a[1];this.result.lastPlugin=u;var l=void 0;try{l=c(r,this.helpers)}catch(f){throw this.handleError(f,r.proxyOf)}if(r.type!=="root"&&r.type!=="document"&&!r.parent)return!0;if(Ir(l))throw this.getAsyncError()}},n.visitTick=function(t){var r=t[t.length-1],o=r.node,s=r.visitors;if(o.type!=="root"&&o.type!=="document"&&!o.parent){t.pop();return}if(s.length>0&&r.visitorIndex<s.length){var a=s[r.visitorIndex],u=a[0],c=a[1];r.visitorIndex+=1,r.visitorIndex===s.length&&(r.visitors=[],r.visitorIndex=0),this.result.lastPlugin=u;try{return c(o.toProxy(),this.helpers)}catch(v){throw this.handleError(v,o)}}if(r.iterator!==0){for(var l=r.iterator,f;f=o.nodes[o.indexes[l]];)if(o.indexes[l]+=1,!f[Qe]){f[Qe]=!0,t.push(Pa(f));return}r.iterator=0,delete o.indexes[l]}for(var p=r.events;r.eventIndex<p.length;){var g=p[r.eventIndex];if(r.eventIndex+=1,g===fr){o.nodes&&o.nodes.length&&(o[Qe]=!0,r.iterator=o.getIterator());return}else if(this.listeners[g]){r.visitors=this.listeners[g];return}}t.pop()},n.walkSync=function(t){var r=this;t[Qe]=!0;for(var o=jc(t),s=A(o),a;!(a=s()).done;){var u=a.value;if(u===fr)t.nodes&&t.each(function(l){l[Qe]||r.walkSync(l)});else{var c=this.listeners[u];if(c&&this.visitSync(c,t.toProxy()))return}}},n.warnings=function(){return this.sync().warnings()},Te(e,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),e}();hr.registerPostcss=function(e){Mo=e};var zc=hr;hr.default=hr;Rv.registerLazyResult(hr);Ov.registerLazyResult(hr);var Pv=Cc,Lv=yi,$v=ys,Dv=vs,No=function(){function e(i,t,r){t=t.toString(),this.stringified=!1,this._processor=i,this._css=t,this._opts=r,this._map=void 0;var o,s=Lv;this.result=new Dv(this._processor,o,this._opts),this.result.css=t;var a=this;Object.defineProperty(this.result,"root",{get:function(){return a.root}});var u=new Pv(s,o,this._opts,t);if(u.isMap()){var c=u.generate(),l=c[0],f=c[1];l&&(this.result.css=l),f&&(this.result.map=f)}else u.clearAnnotation(),this.result.css=u.css}var n=e.prototype;return n.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},n.catch=function(t){return this.async().catch(t)},n.finally=function(t){return this.async().then(t,t)},n.sync=function(){if(this.error)throw this.error;return this.result},n.then=function(t,r){return this.async().then(t,r)},n.toString=function(){return this._css},n.warnings=function(){return[]},Te(e,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var t,r=$v;try{t=r(this._css,this._opts)}catch(o){this.error=o}if(this.error)throw this.error;return this._root=t,t}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),e}(),Fv=No;No.default=No;var Uv=Fv,Bv=zc,jv=ds,zv=tn,Gr=function(){function e(i){i===void 0&&(i=[]),this.version="8.4.38",this.plugins=this.normalize(i)}var n=e.prototype;return n.normalize=function(t){for(var r=[],o=A(t),s;!(s=o()).done;){var a=s.value;if(a.postcss===!0?a=a():a.postcss&&(a=a.postcss),(typeof a>"u"?"undefined":z(a))==="object"&&Array.isArray(a.plugins))r=r.concat(a.plugins);else if((typeof a>"u"?"undefined":z(a))==="object"&&a.postcssPlugin)r.push(a);else if(typeof a=="function")r.push(a);else if(!((typeof a>"u"?"undefined":z(a))==="object"&&(a.parse||a.stringify)))throw new Error(a+" is not a PostCSS plugin")}return r},n.process=function(t,r){return r===void 0&&(r={}),!this.plugins.length&&!r.parser&&!r.stringifier&&!r.syntax?new Uv(this,t,r):new Bv(this,t,r)},n.use=function(t){return this.plugins=this.plugins.concat(this.normalize([t])),this},e}(),Wv=Gr;Gr.default=Gr;zv.registerProcessor(Gr);jv.registerProcessor(Gr);var Vv=bi,qv=yc,Gv=Si,Hv=gs,Yv=wi,Kv=tn,Jv=ms;function Hr(e,n){if(Array.isArray(e))return e.map(function(f){return Hr(f)});var i=e.inputs,t=$r(e,["inputs"]);if(i){n=[];for(var r=A(i),o;!(o=r()).done;){var s=o.value,a=ee({},s,{__proto__:Yv.prototype});a.map&&(a.map=ee({},a.map,{__proto__:qv.prototype})),n.push(a)}}if(t.nodes&&(t.nodes=e.nodes.map(function(f){return Hr(f,n)})),t.source){var u=t.source,c=u.inputId,l=$r(u,["inputId"]);t.source=l,c!=null&&(t.source.input=n[c])}if(t.type==="root")return new Kv(t);if(t.type==="decl")return new Vv(t);if(t.type==="rule")return new Jv(t);if(t.type==="comment")return new Gv(t);if(t.type==="atrule")return new Hv(t);throw new Error("Unknown node type: "+e.type)}var Xv=Hr;Hr.default=Hr;var Zv=fs,Wc=bi,Qv=zc,eg=qt,_s=Wv,tg=yi,rg=Xv,Vc=ds,ng=Pc,qc=Si,Gc=gs,ig=vs,og=wi,sg=ys,ag=Uc,Hc=ms,Yc=tn,ug=_i;function ie(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.length===1&&Array.isArray(n[0])&&(n=n[0]),new _s(n)}ie.plugin=function(n,i){var t=!1;function r(){for(var s=arguments.length,a=new Array(s),u=0;u<s;u++)a[u]=arguments[u];console&&console.warn&&!t&&(t=!0,console.warn(n+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),Iu.LANG.startsWith("cn")&&console.warn(n+`: éé¢ postcss.plugin è¢«å¼ç¨. è¿ç§»æå:
https://www.w3ctech.com/topic/2226`));var c=i.apply(void 0,[].concat(a));return c.postcssPlugin=n,c.postcssVersion=new _s().version,c}var o;return Object.defineProperty(r,"postcss",{get:function(){return o||(o=r()),o}}),r.process=function(s,a,u){return ie([r(u)]).process(s,a)},r};ie.stringify=tg;ie.parse=sg;ie.fromJSON=rg;ie.list=ag;ie.comment=function(e){return new qc(e)};ie.atRule=function(e){return new Gc(e)};ie.decl=function(e){return new Wc(e)};ie.rule=function(e){return new Hc(e)};ie.root=function(e){return new Yc(e)};ie.document=function(e){return new Vc(e)};ie.CssSyntaxError=Zv;ie.Declaration=Wc;ie.Container=eg;ie.Processor=_s;ie.Document=Vc;ie.Comment=qc;ie.Warning=ng;ie.AtRule=Gc;ie.Result=ig;ie.Input=og;ie.Rule=Hc;ie.Root=Yc;ie.Node=ug;Qv.registerPostcss(ie);var cg=ie;ie.default=ie;var pe=Sd(cg);pe.stringify;pe.fromJSON;pe.plugin;pe.parse;pe.list;pe.document;pe.comment;pe.atRule;pe.rule;pe.decl;pe.root;pe.CssSyntaxError;pe.Declaration;pe.Container;pe.Processor;pe.Document;pe.Comment;pe.Warning;pe.AtRule;pe.Result;pe.Input;pe.Rule;pe.Root;pe.Node;var lg=function(){function e(){for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];Ve(this,"parentElement",null),Ve(this,"parentNode",null),Ve(this,"ownerDocument"),Ve(this,"firstChild",null),Ve(this,"lastChild",null),Ve(this,"previousSibling",null),Ve(this,"nextSibling",null),Ve(this,"ELEMENT_NODE",1),Ve(this,"TEXT_NODE",3),Ve(this,"nodeType"),Ve(this,"nodeName"),Ve(this,"RRNodeType")}var n=e.prototype;return n.contains=function(t){if($(t,e)){if(t.ownerDocument!==this.ownerDocument)return!1;if(t===this)return!0}else return!1;for(;t.parentNode;){if(t.parentNode===this)return!0;t=t.parentNode}return!1},n.appendChild=function(t){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")},n.insertBefore=function(t,r){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")},n.removeChild=function(t){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")},n.toString=function(){return"RRNode"},Te(e,[{key:"childNodes",get:function(){for(var t=[],r=this.firstChild;r;)t.push(r),r=r.nextSibling;return t}}]),e}(),La={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},$a={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},En={},fg=function(){return!!globalThis.Zone};function bs(e){if(En[e])return En[e];var n=globalThis[e],i=n.prototype,t=e in La?La[e]:void 0,r=!!(t&&t.every(function(l){var f,p;return!!((p=(f=Object.getOwnPropertyDescriptor(i,l))==null?void 0:f.get)!=null&&p.toString().includes("[native code]"))})),o=e in $a?$a[e]:void 0,s=!!(o&&o.every(function(l){var f;return typeof i[l]=="function"&&((f=i[l])==null?void 0:f.toString().includes("[native code]"))}));if(r&&s&&!fg())return En[e]=n.prototype,n.prototype;try{var a=document.createElement("iframe");document.body.appendChild(a);var u=a.contentWindow;if(!u)return n.prototype;var c=u[e].prototype;return document.body.removeChild(a),c?En[e]=c:i}catch{return i}}var ji={};function Rt(e,n,i){var t,r=e+"."+String(i);if(ji[r])return ji[r].call(n);var o=bs(e),s=(t=Object.getOwnPropertyDescriptor(o,i))==null?void 0:t.get;return s?(ji[r]=s,s.call(n)):n[i]}var zi={};function Kc(e,n,i){var t=e+"."+String(i);if(zi[t])return zi[t].bind(n);var r=bs(e),o=r[i];return typeof o!="function"?n[i]:(zi[t]=o,o.bind(n))}function hg(e){return Rt("Node",e,"childNodes")}function pg(e){return Rt("Node",e,"parentNode")}function dg(e){return Rt("Node",e,"parentElement")}function vg(e){return Rt("Node",e,"textContent")}function gg(e,n){return Kc("Node",e,"contains")(n)}function mg(e){return Kc("Node",e,"getRootNode")()}function yg(e){return!e||!("host"in e)?null:Rt("ShadowRoot",e,"host")}function _g(e){return e.styleSheets}function bg(e){return!e||!("shadowRoot"in e)?null:Rt("Element",e,"shadowRoot")}function wg(e,n){return Rt("Element",e,"querySelector")(n)}function Sg(e,n){return Rt("Element",e,"querySelectorAll")(n)}function Jc(){return bs("MutationObserver").constructor}function Gt(e,n,i){try{if(!(n in e))return function(){};var t=e[n],r=i(t);return typeof r=="function"&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:t}})),e[n]=r,function(){e[n]=t}}catch{return function(){}}}var H={childNodes:hg,parentNode:pg,parentElement:dg,textContent:vg,contains:gg,getRootNode:mg,host:yg,styleSheets:_g,shadowRoot:bg,querySelector:wg,querySelectorAll:Sg,mutationObserver:Jc,patch:Gt};function De(e,n,i){i===void 0&&(i=document);var t={capture:!0,passive:!0};return i.addEventListener(e,n,t),function(){return i.removeEventListener(e,n,t)}}var Qt=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,Da={map:{},getId:function(){return console.error(Qt),-1},getNode:function(){return console.error(Qt),null},removeNodeFromMap:function(){console.error(Qt)},has:function(){return console.error(Qt),!1},reset:function(){console.error(Qt)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Da=new Proxy(Da,{get:function(n,i,t){return i==="map"&&console.error(Qt),Reflect.get(n,i,t)}}));function Yr(e,n,i){i===void 0&&(i={});var t=null,r=0;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];var u=Date.now();!r&&i.leading===!1&&(r=u);var c=n-(u-r),l=this;c<=0||c>n?(t&&(clearTimeout(t),t=null),r=u,e.apply(l,s)):!t&&i.trailing!==!1&&(t=setTimeout(function(){r=i.leading===!1?0:Date.now(),t=null,e.apply(l,s)},c))}}function Ci(e,n,i,t,r){r===void 0&&(r=window);var o=r.Object.getOwnPropertyDescriptor(e,n);return r.Object.defineProperty(e,n,t?i:{set:function(a){var u=this;setTimeout(function(){i.set.call(u,a)},0),o&&o.set&&o.set.call(this,a)}}),function(){return Ci(e,n,o||{},!0)}}var Xn=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(Xn=function(){return new Date().getTime()});function Xc(e){var n,i,t,r,o=e.document;return{left:o.scrollingElement?o.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:o.documentElement.scrollLeft||(o==null?void 0:o.body)&&((n=H.parentElement(o.body))==null?void 0:n.scrollLeft)||((i=o==null?void 0:o.body)==null?void 0:i.scrollLeft)||0,top:o.scrollingElement?o.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(o==null?void 0:o.documentElement.scrollTop)||(o==null?void 0:o.body)&&((t=H.parentElement(o.body))==null?void 0:t.scrollTop)||((r=o==null?void 0:o.body)==null?void 0:r.scrollTop)||0}}function Zc(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Qc(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function el(e){if(!e)return null;var n=e.nodeType===e.ELEMENT_NODE?e:H.parentElement(e);return n}function Fe(e,n,i,t){if(!e)return!1;var r=el(e);if(!r)return!1;try{if(typeof n=="string"){if(r.classList.contains(n)||t&&r.closest("."+n)!==null)return!0}else if(zn(r,n,t))return!0}catch{}return!!(i&&(r.matches(i)||t&&r.closest(i)!==null))}function Cg(e,n){return n.getId(e)!==-1}function Wi(e,n,i){return e.tagName==="TITLE"&&i.headTitleMutations?!0:n.getId(e)===Ur}function tl(e,n){if(Ar(e))return!1;var i=n.getId(e);if(!n.has(i))return!0;var t=H.parentNode(e);return t&&t.nodeType===e.DOCUMENT_NODE?!1:t?tl(t,n):!0}function Po(e){return!!e.changedTouches}function xg(e){e===void 0&&(e=window),"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function rl(e,n){return!!(e.nodeName==="IFRAME"&&n.getMeta(e))}function nl(e,n){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&n.getMeta(e))}function Lo(e){return e?$(e,lg)&&"shadowRoot"in e?!!e.shadowRoot:!!H.shadowRoot(e):!1}var Ig=function(){function e(){E(this,"id",1),E(this,"styleIDMap",new WeakMap),E(this,"idStyleMap",new Map)}var n=e.prototype;return n.getId=function(t){var r;return(r=this.styleIDMap.get(t))!=null?r:-1},n.has=function(t){return this.styleIDMap.has(t)},n.add=function(t,r){if(this.has(t))return this.getId(t);var o;return r===void 0?o=this.id++:o=r,this.styleIDMap.set(t,o),this.idStyleMap.set(o,t),o},n.getStyle=function(t){return this.idStyleMap.get(t)||null},n.reset=function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1},n.generateId=function(){return this.id++},e}();function il(e){var n,i=null;return"getRootNode"in e&&((n=H.getRootNode(e))==null?void 0:n.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&H.host(H.getRootNode(e))&&(i=H.host(H.getRootNode(e))),i}function Eg(e){for(var n=e,i;i=il(n);)n=i;return n}function kg(e){var n=e.ownerDocument;if(!n)return!1;var i=Eg(e);return H.contains(n,i)}function ol(e){var n=e.ownerDocument;return n?H.contains(n,e)||kg(e):!1}var K=function(e){return e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e}(K||{}),D=function(e){return e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e}(D||{}),je=function(e){return e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e}(je||{}),lt=function(e){return e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e}(lt||{}),pr=function(e){return e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e}(pr||{}),er=function(e){return e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e}(er||{}),sl=function(e){return e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e}(sl||{});function Fa(e){return"__ln"in e}var Og=function(){function e(){E(this,"length",0),E(this,"head",null),E(this,"tail",null)}var n=e.prototype;return n.get=function(t){if(t>=this.length)throw new Error("Position outside of list range");for(var r=this.head,o=0;o<t;o++)r=(r==null?void 0:r.next)||null;return r},n.addNode=function(t){var r={value:t,previous:null,next:null};if(t.__ln=r,t.previousSibling&&Fa(t.previousSibling)){var o=t.previousSibling.__ln.next;r.next=o,r.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=r,o&&(o.previous=r)}else if(t.nextSibling&&Fa(t.nextSibling)&&t.nextSibling.__ln.previous){var s=t.nextSibling.__ln.previous;r.previous=s,r.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=r,s&&(s.next=r)}else this.head&&(this.head.previous=r),r.next=this.head,this.head=r;r.next===null&&(this.tail=r),this.length++},n.removeNode=function(t){var r=t.__ln;this.head&&(r.previous?(r.previous.next=r.next,r.next?r.next.previous=r.previous:this.tail=r.previous):(this.head=r.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)},e}(),Ua=function(e,n){return e+"@"+n},Ag=function(){function e(){var i=this;E(this,"frozen",!1),E(this,"locked",!1),E(this,"texts",[]),E(this,"attributes",[]),E(this,"attributeMap",new WeakMap),E(this,"removes",[]),E(this,"mapRemoves",[]),E(this,"movedMap",{}),E(this,"addedSet",new Set),E(this,"movedSet",new Set),E(this,"droppedSet",new Set),E(this,"removesSubTreeCache",new Set),E(this,"mutationCb"),E(this,"blockClass"),E(this,"blockSelector"),E(this,"maskTextClass"),E(this,"maskTextSelector"),E(this,"inlineStylesheet"),E(this,"maskInputOptions"),E(this,"maskTextFn"),E(this,"maskInputFn"),E(this,"keepIframeSrcFn"),E(this,"recordCanvas"),E(this,"inlineImages"),E(this,"slimDOMOptions"),E(this,"dataURLOptions"),E(this,"doc"),E(this,"mirror"),E(this,"iframeManager"),E(this,"stylesheetManager"),E(this,"shadowDomManager"),E(this,"canvasManager"),E(this,"processedNodeManager"),E(this,"unattachedDoc"),E(this,"processMutations",function(t){t.forEach(i.processMutation),i.emit()}),E(this,"emit",function(){if(!(i.frozen||i.locked)){for(var t=[],r=new Set,o=new Og,s=function(N){for(var j=N,Y=Ur;Y===Ur;)j=j&&j.nextSibling,Y=j&&i.mirror.getId(j);return Y},a=function(N){var j=H.parentNode(N);if(!(!j||!ol(N))){var Y=!1;if(N.nodeType===Node.TEXT_NODE){var Ce=j.tagName;if(Ce==="TEXTAREA")return;Ce==="STYLE"&&i.addedSet.has(j)&&(Y=!0)}var V=Ar(j)?i.mirror.getId(il(N)):i.mirror.getId(j),xe=s(N);if(V===-1||xe===-1)return o.addNode(N);var Oe=rr(N,{doc:i.doc,mirror:i.mirror,blockClass:i.blockClass,blockSelector:i.blockSelector,maskTextClass:i.maskTextClass,maskTextSelector:i.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:i.inlineStylesheet,maskInputOptions:i.maskInputOptions,maskTextFn:i.maskTextFn,maskInputFn:i.maskInputFn,slimDOMOptions:i.slimDOMOptions,dataURLOptions:i.dataURLOptions,recordCanvas:i.recordCanvas,inlineImages:i.inlineImages,onSerialize:function(oe){rl(oe,i.mirror)&&i.iframeManager.addIframe(oe),nl(oe,i.mirror)&&i.stylesheetManager.trackLinkElement(oe),Lo(N)&&i.shadowDomManager.addShadowRoot(H.shadowRoot(N),i.doc)},onIframeLoad:function(oe,de){i.iframeManager.attachIframe(oe,de),i.shadowDomManager.observeAttachShadow(oe)},onStylesheetLoad:function(oe,de){i.stylesheetManager.attachLinkElement(oe,de)},cssCaptured:Y});Oe&&(t.push({parentId:V,nextId:xe,node:Oe}),r.add(Oe.id))}};i.mapRemoves.length;)i.mirror.removeNodeFromMap(i.mapRemoves.shift());for(var u=A(i.movedSet),c;!(c=u()).done;){var l=c.value;Ba(i.removesSubTreeCache,l,i.mirror)&&!i.movedSet.has(H.parentNode(l))||a(l)}for(var f=A(i.addedSet),p;!(p=f()).done;){var g=p.value;!ja(i.droppedSet,g)&&!Ba(i.removesSubTreeCache,g,i.mirror)||ja(i.movedSet,g)?a(g):i.droppedSet.add(g)}for(var v=null;o.length;){var y=null;if(v){var d=i.mirror.getId(H.parentNode(v.value)),m=s(v.value);d!==-1&&m!==-1&&(y=v)}if(!y)for(var _=o.tail;_;){var w=_;if(_=_.previous,w){var C=i.mirror.getId(H.parentNode(w.value)),x=s(w.value);if(x===-1)continue;if(C!==-1){y=w;break}else{var k=w.value,R=H.parentNode(k);if(R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var T=H.host(R),M=i.mirror.getId(T);if(M!==-1){y=w;break}}}}}if(!y){for(;o.head;)o.removeNode(o.head.value);break}v=y.previous,o.removeNode(y.value),a(y.value)}var B={texts:i.texts.map(function(N){var j=N.node,Y=H.parentNode(j);return Y&&Y.tagName==="TEXTAREA"&&i.genTextAreaValueMutation(Y),{id:i.mirror.getId(j),value:N.value}}).filter(function(N){return!r.has(N.id)}).filter(function(N){return i.mirror.has(N.id)}),attributes:i.attributes.map(function(N){var j=N.attributes;if(typeof j.style=="string"){var Y=JSON.stringify(N.styleDiff),Ce=JSON.stringify(N._unchangedStyles);Y.length<j.style.length&&(Y+Ce).split("var(").length===j.style.split("var(").length&&(j.style=N.styleDiff)}return{id:i.mirror.getId(N.node),attributes:j}}).filter(function(N){return!r.has(N.id)}).filter(function(N){return i.mirror.has(N.id)}),removes:i.removes,adds:t};!B.texts.length&&!B.attributes.length&&!B.removes.length&&!B.adds.length||(i.texts=[],i.attributes=[],i.attributeMap=new WeakMap,i.removes=[],i.addedSet=new Set,i.movedSet=new Set,i.droppedSet=new Set,i.removesSubTreeCache=new Set,i.movedMap={},i.mutationCb(B))}}),E(this,"genTextAreaValueMutation",function(t){var r=i.attributeMap.get(t);r||(r={node:t,attributes:{},styleDiff:{},_unchangedStyles:{}},i.attributes.push(r),i.attributeMap.set(t,r));var o=Array.from(H.childNodes(t),function(s){return H.textContent(s)||""}).join("");r.attributes.value=Un({element:t,maskInputOptions:i.maskInputOptions,tagName:t.tagName,type:Bn(t),value:o,maskInputFn:i.maskInputFn})}),E(this,"processMutation",function(t){if(!Wi(t.target,i.mirror,i.slimDOMOptions))switch(t.type){case"characterData":{var r=H.textContent(t.target);!Fe(t.target,i.blockClass,i.blockSelector,!1)&&r!==t.oldValue&&i.texts.push({value:$u(t.target,i.maskTextClass,i.maskTextSelector,!0)&&r?i.maskTextFn?i.maskTextFn(r,el(t.target)):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{var o=t.target,s=t.attributeName,a=t.target.getAttribute(s);if(s==="value"){var u=Bn(o);a=Un({element:o,maskInputOptions:i.maskInputOptions,tagName:o.tagName,type:u,value:a,maskInputFn:i.maskInputFn})}if(Fe(t.target,i.blockClass,i.blockSelector,!1)||a===t.oldValue)return;var c=i.attributeMap.get(t.target);if(o.tagName==="IFRAME"&&s==="src"&&!i.keepIframeSrcFn(a))if(!o.contentDocument)s="rr_src";else return;if(c||(c={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},i.attributes.push(c),i.attributeMap.set(t.target,c)),s==="type"&&o.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&o.setAttribute("data-rr-is-password","true"),!Lu(o.tagName,s))if(c.attributes[s]=Pu(i.doc,jt(o.tagName),jt(s),a),s==="style"){if(!i.unattachedDoc)try{i.unattachedDoc=document.implementation.createHTMLDocument()}catch{i.unattachedDoc=i.doc}var l=i.unattachedDoc.createElement("span");t.oldValue&&l.setAttribute("style",t.oldValue);for(var f=A(Array.from(o.style)),p;!(p=f()).done;){var g=p.value,v=o.style.getPropertyValue(g),y=o.style.getPropertyPriority(g);v!==l.style.getPropertyValue(g)||y!==l.style.getPropertyPriority(g)?y===""?c.styleDiff[g]=v:c.styleDiff[g]=[v,y]:c._unchangedStyles[g]=[v,y]}for(var d=A(Array.from(l.style)),m;!(m=d()).done;){var _=m.value;o.style.getPropertyValue(_)===""&&(c.styleDiff[_]=!1)}}else s==="open"&&o.tagName==="DIALOG"&&(o.matches("dialog:modal")?c.attributes.rr_open_mode="modal":c.attributes.rr_open_mode="non-modal");break}case"childList":{if(Fe(t.target,i.blockClass,i.blockSelector,!0))return;if(t.target.tagName==="TEXTAREA"){i.genTextAreaValueMutation(t.target);return}t.addedNodes.forEach(function(w){return i.genAdds(w,t.target)}),t.removedNodes.forEach(function(w){var C=i.mirror.getId(w),x=Ar(t.target)?i.mirror.getId(H.host(t.target)):i.mirror.getId(t.target);Fe(t.target,i.blockClass,i.blockSelector,!1)||Wi(w,i.mirror,i.slimDOMOptions)||!Cg(w,i.mirror)||(i.addedSet.has(w)?($o(i.addedSet,w),i.droppedSet.add(w)):i.addedSet.has(t.target)&&C===-1||tl(t.target,i.mirror)||(i.movedSet.has(w)&&i.movedMap[Ua(C,x)]?$o(i.movedSet,w):(i.removes.push({parentId:x,id:C,isShadow:Ar(t.target)&&Rr(t.target)?!0:void 0}),Rg(w,i.removesSubTreeCache))),i.mapRemoves.push(w))});break}}}),E(this,"genAdds",function(t,r){if(!i.processedNodeManager.inOtherBuffer(t,i)&&!(i.addedSet.has(t)||i.movedSet.has(t))){if(i.mirror.hasNode(t)){if(Wi(t,i.mirror,i.slimDOMOptions))return;i.movedSet.add(t);var o=null;r&&i.mirror.hasNode(r)&&(o=i.mirror.getId(r)),o&&o!==-1&&(i.movedMap[Ua(i.mirror.getId(t),o)]=!0)}else i.addedSet.add(t),i.droppedSet.delete(t);Fe(t,i.blockClass,i.blockSelector,!1)||(H.childNodes(t).forEach(function(s){return i.genAdds(s)}),Lo(t)&&H.childNodes(H.shadowRoot(t)).forEach(function(s){i.processedNodeManager.add(s,i),i.genAdds(s,t)}))}})}var n=e.prototype;return n.init=function(t){var r=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(function(o){r[o]=t[o]})},n.freeze=function(){this.frozen=!0,this.canvasManager.freeze()},n.unfreeze=function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()},n.isFrozen=function(){return this.frozen},n.lock=function(){this.locked=!0,this.canvasManager.lock()},n.unlock=function(){this.locked=!1,this.canvasManager.unlock(),this.emit()},n.reset=function(){this.shadowDomManager.reset(),this.canvasManager.reset()},e}();function $o(e,n){e.delete(n),H.childNodes(n).forEach(function(i){return $o(e,i)})}function Rg(e,n){for(var i=[e];i.length;){var t=i.pop();n.has(t)||(n.add(t),H.childNodes(t).forEach(function(r){return i.push(r)}))}}function Ba(e,n,i){return e.size===0?!1:Tg(e,n)}function Tg(e,n,i){var t=H.parentNode(n);return t?e.has(t):!1}function ja(e,n){return e.size===0?!1:al(e,n)}function al(e,n){var i=H.parentNode(n);return i?e.has(i)?!0:al(e,i):!1}var Tr;function Mg(e){Tr=e}function Ng(){Tr=void 0}var X=function(e){if(!Tr)return e;var n=function(){for(var i=arguments.length,t=new Array(i),r=0;r<i;r++)t[r]=arguments[r];try{return e.apply(void 0,[].concat(t))}catch(o){if(Tr&&Tr(o)===!0)return;throw o}};return n},Bt=[];function rn(e){try{if("composedPath"in e){var n=e.composedPath();if(n.length)return n[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function ul(e,n){var i=new Ag;Bt.push(i),i.init(e);var t=new(Jc())(X(i.processMutations.bind(i)));return t.observe(n,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),t}function Pg(e){var n=e.mousemoveCb,i=e.sampling,t=e.doc,r=e.mirror;if(i.mousemove===!1)return function(){};var o=typeof i.mousemove=="number"?i.mousemove:50,s=typeof i.mousemoveCallback=="number"?i.mousemoveCallback:500,a=[],u,c=Yr(X(function(p){var g=Date.now()-u;n(a.map(function(v){return v.timeOffset-=g,v}),p),a=[],u=null}),s),l=X(Yr(X(function(p){var g=rn(p),v=Po(p)?p.changedTouches[0]:p,y=v.clientX,d=v.clientY;u||(u=Xn()),a.push({x:y,y:d,id:r.getId(g),timeOffset:Xn()-u}),c(typeof DragEvent<"u"&&$(p,DragEvent)?D.Drag:$(p,MouseEvent)?D.MouseMove:D.TouchMove)}),o,{trailing:!1})),f=[De("mousemove",l,t),De("touchmove",l,t),De("drag",l,t)];return X(function(){f.forEach(function(p){return p()})})}function Lg(e){var n=e.mouseInteractionCb,i=e.doc,t=e.mirror,r=e.blockClass,o=e.blockSelector,s=e.sampling;if(s.mouseInteraction===!1)return function(){};var a=s.mouseInteraction===!0||s.mouseInteraction===void 0?{}:s.mouseInteraction,u=[],c=null,l=function(f){return function(p){var g=rn(p);if(!Fe(g,r,o,!0)){var v=null,y=f;if("pointerType"in p){switch(p.pointerType){case"mouse":v=lt.Mouse;break;case"touch":v=lt.Touch;break;case"pen":v=lt.Pen;break}v===lt.Touch?je[f]===je.MouseDown?y="TouchStart":je[f]===je.MouseUp&&(y="TouchEnd"):lt.Pen}else Po(p)&&(v=lt.Touch);v!==null?(c=v,(y.startsWith("Touch")&&v===lt.Touch||y.startsWith("Mouse")&&v===lt.Mouse)&&(v=null)):je[f]===je.Click&&(v=c,c=null);var d=Po(p)?p.changedTouches[0]:p;if(d){var m=t.getId(g),_=d.clientX,w=d.clientY;X(n)(ee({type:je[y],id:m,x:_,y:w},v!==null&&{pointerType:v}))}}}};return Object.keys(je).filter(function(f){return Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&a[f]!==!1}).forEach(function(f){var p=jt(f),g=l(f);if(window.PointerEvent)switch(je[f]){case je.MouseDown:case je.MouseUp:p=p.replace("mouse","pointer");break;case je.TouchStart:case je.TouchEnd:return}u.push(De(p,g,i))}),X(function(){u.forEach(function(f){return f()})})}function cl(e){var n=e.scrollCb,i=e.doc,t=e.mirror,r=e.blockClass,o=e.blockSelector,s=e.sampling,a=X(Yr(X(function(u){var c=rn(u);if(!(!c||Fe(c,r,o,!0))){var l=t.getId(c);if(c===i&&i.defaultView){var f=Xc(i.defaultView);n({id:l,x:f.left,y:f.top})}else n({id:l,x:c.scrollLeft,y:c.scrollTop})}}),s.scroll||100));return De("scroll",a,i)}function $g(e,n){var i=e.viewportResizeCb,t=n.win,r=-1,o=-1,s=X(Yr(X(function(){var a=Zc(),u=Qc();(r!==a||o!==u)&&(i({width:Number(u),height:Number(a)}),r=a,o=u)}),200));return De("resize",s,t)}var Dg=["INPUT","TEXTAREA","SELECT"],za=new WeakMap;function Fg(e){var n=e.inputCb,i=e.doc,t=e.mirror,r=e.blockClass,o=e.blockSelector,s=e.ignoreClass,a=e.ignoreSelector,u=e.maskInputOptions,c=e.maskInputFn,l=e.sampling,f=e.userTriggeredOnInput;function p(C){var x=rn(C),k=C.isTrusted,R=x&&x.tagName;if(x&&R==="OPTION"&&(x=H.parentElement(x)),!(!x||!R||Dg.indexOf(R)<0||Fe(x,r,o,!0))&&!(x.classList.contains(s)||a&&x.matches(a))){var T=x.value,M=!1,B=Bn(x)||"";B==="radio"||B==="checkbox"?M=x.checked:(u[R.toLowerCase()]||u[B])&&(T=Un({element:x,maskInputOptions:u,tagName:R,type:B,value:T,maskInputFn:c})),g(x,f?{text:T,isChecked:M,userTriggered:k}:{text:T,isChecked:M});var N=x.name;B==="radio"&&N&&M&&i.querySelectorAll('input[type="radio"][name="'+N+'"]').forEach(function(j){if(j!==x){var Y=j.value;g(j,f?{text:Y,isChecked:!M,userTriggered:!1}:{text:Y,isChecked:!M})}})}}function g(C,x){var k=za.get(C);if(!k||k.text!==x.text||k.isChecked!==x.isChecked){za.set(C,x);var R=t.getId(C);X(n)(ee({},x,{id:R}))}}var v=l.input==="last"?["change"]:["input","change"],y=v.map(function(C){return De(C,X(p),i)}),d=i.defaultView;if(!d)return function(){y.forEach(function(C){return C()})};var m=d.Object.getOwnPropertyDescriptor(d.HTMLInputElement.prototype,"value"),_=[[d.HTMLInputElement.prototype,"value"],[d.HTMLInputElement.prototype,"checked"],[d.HTMLSelectElement.prototype,"value"],[d.HTMLTextAreaElement.prototype,"value"],[d.HTMLSelectElement.prototype,"selectedIndex"],[d.HTMLOptionElement.prototype,"selected"]];if(m&&m.set){var w;(w=y).push.apply(w,[].concat(_.map(function(C){return Ci(C[0],C[1],{set:function(){X(p)({target:this,isTrusted:!1})}},!1,d)})))}return X(function(){y.forEach(function(C){return C()})})}function Zn(e){var n=[];function i(t,r){if(kn("CSSGroupingRule")&&$(t.parentRule,CSSGroupingRule)||kn("CSSMediaRule")&&$(t.parentRule,CSSMediaRule)||kn("CSSSupportsRule")&&$(t.parentRule,CSSSupportsRule)||kn("CSSConditionRule")&&$(t.parentRule,CSSConditionRule)){var o=Array.from(t.parentRule.cssRules),s=o.indexOf(t);r.unshift(s)}else if(t.parentStyleSheet){var a=Array.from(t.parentStyleSheet.cssRules),u=a.indexOf(t);r.unshift(u)}return r}return i(e,n)}function wt(e,n,i){var t,r;return e?(e.ownerNode?t=n.getId(e.ownerNode):r=i.getId(e),{styleId:r,id:t}):{}}function Ug(e,n){var i=e.styleSheetRuleCb,t=e.mirror,r=e.stylesheetManager,o=n.win;if(!o.CSSStyleSheet||!o.CSSStyleSheet.prototype)return function(){};var s=o.CSSStyleSheet.prototype.insertRule;o.CSSStyleSheet.prototype.insertRule=new Proxy(s,{apply:X(function(p,g,v){var y=v[0],d=v[1],m=wt(g,t,r.styleMirror),_=m.id,w=m.styleId;return(_&&_!==-1||w&&w!==-1)&&i({id:_,styleId:w,adds:[{rule:y,index:d}]}),p.apply(g,v)})}),o.CSSStyleSheet.prototype.addRule=function(p,g,v){v===void 0&&(v=this.cssRules.length);var y=p+" { "+g+" }";return o.CSSStyleSheet.prototype.insertRule.apply(this,[y,v])};var a=o.CSSStyleSheet.prototype.deleteRule;o.CSSStyleSheet.prototype.deleteRule=new Proxy(a,{apply:X(function(p,g,v){var y=v[0],d=wt(g,t,r.styleMirror),m=d.id,_=d.styleId;return(m&&m!==-1||_&&_!==-1)&&i({id:m,styleId:_,removes:[{index:y}]}),p.apply(g,v)})}),o.CSSStyleSheet.prototype.removeRule=function(p){return o.CSSStyleSheet.prototype.deleteRule.apply(this,[p])};var u;o.CSSStyleSheet.prototype.replace&&(u=o.CSSStyleSheet.prototype.replace,o.CSSStyleSheet.prototype.replace=new Proxy(u,{apply:X(function(p,g,v){var y=v[0],d=wt(g,t,r.styleMirror),m=d.id,_=d.styleId;return(m&&m!==-1||_&&_!==-1)&&i({id:m,styleId:_,replace:y}),p.apply(g,v)})}));var c;o.CSSStyleSheet.prototype.replaceSync&&(c=o.CSSStyleSheet.prototype.replaceSync,o.CSSStyleSheet.prototype.replaceSync=new Proxy(c,{apply:X(function(p,g,v){var y=v[0],d=wt(g,t,r.styleMirror),m=d.id,_=d.styleId;return(m&&m!==-1||_&&_!==-1)&&i({id:m,styleId:_,replaceSync:y}),p.apply(g,v)})}));var l={};On("CSSGroupingRule")?l.CSSGroupingRule=o.CSSGroupingRule:(On("CSSMediaRule")&&(l.CSSMediaRule=o.CSSMediaRule),On("CSSConditionRule")&&(l.CSSConditionRule=o.CSSConditionRule),On("CSSSupportsRule")&&(l.CSSSupportsRule=o.CSSSupportsRule));var f={};return Object.entries(l).forEach(function(p){var g=p[0],v=p[1];f[g]={insertRule:v.prototype.insertRule,deleteRule:v.prototype.deleteRule},v.prototype.insertRule=new Proxy(f[g].insertRule,{apply:X(function(y,d,m){var _=m[0],w=m[1],C=wt(d.parentStyleSheet,t,r.styleMirror),x=C.id,k=C.styleId;return(x&&x!==-1||k&&k!==-1)&&i({id:x,styleId:k,adds:[{rule:_,index:[].concat(Zn(d),[w||0])}]}),y.apply(d,m)})}),v.prototype.deleteRule=new Proxy(f[g].deleteRule,{apply:X(function(y,d,m){var _=m[0],w=wt(d.parentStyleSheet,t,r.styleMirror),C=w.id,x=w.styleId;return(C&&C!==-1||x&&x!==-1)&&i({id:C,styleId:x,removes:[{index:[].concat(Zn(d),[_])}]}),y.apply(d,m)})})}),X(function(){o.CSSStyleSheet.prototype.insertRule=s,o.CSSStyleSheet.prototype.deleteRule=a,u&&(o.CSSStyleSheet.prototype.replace=u),c&&(o.CSSStyleSheet.prototype.replaceSync=c),Object.entries(l).forEach(function(p){var g=p[0],v=p[1];v.prototype.insertRule=f[g].insertRule,v.prototype.deleteRule=f[g].deleteRule})})}function ll(e,n){var i=e.mirror,t=e.stylesheetManager,r,o,s,a=null;n.nodeName==="#document"?a=i.getId(n):a=i.getId(H.host(n));var u=n.nodeName==="#document"?(r=n.defaultView)==null?void 0:r.Document:(s=(o=n.ownerDocument)==null?void 0:o.defaultView)==null?void 0:s.ShadowRoot,c=u!=null&&u.prototype?Object.getOwnPropertyDescriptor(u==null?void 0:u.prototype,"adoptedStyleSheets"):void 0;return a===null||a===-1||!u||!c?function(){}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:function(){var f;return(f=c.get)==null?void 0:f.call(this)},set:function(f){var p,g=(p=c.set)==null?void 0:p.call(this,f);if(a!==null&&a!==-1)try{t.adoptStyleSheets(f,a)}catch{}return g}}),X(function(){Object.defineProperty(n,"adoptedStyleSheets",{configurable:c.configurable,enumerable:c.enumerable,get:c.get,set:c.set})}))}function Bg(e,n){var i=e.styleDeclarationCb,t=e.mirror,r=e.ignoreCSSAttributes,o=e.stylesheetManager,s=n.win,a=s.CSSStyleDeclaration.prototype.setProperty;s.CSSStyleDeclaration.prototype.setProperty=new Proxy(a,{apply:X(function(c,l,f){var p,g=f[0],v=f[1],y=f[2];if(r.has(g))return a.apply(l,[g,v,y]);var d=wt((p=l.parentRule)==null?void 0:p.parentStyleSheet,t,o.styleMirror),m=d.id,_=d.styleId;return(m&&m!==-1||_&&_!==-1)&&i({id:m,styleId:_,set:{property:g,value:v,priority:y},index:Zn(l.parentRule)}),c.apply(l,f)})});var u=s.CSSStyleDeclaration.prototype.removeProperty;return s.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:X(function(c,l,f){var p,g=f[0];if(r.has(g))return u.apply(l,[g]);var v=wt((p=l.parentRule)==null?void 0:p.parentStyleSheet,t,o.styleMirror),y=v.id,d=v.styleId;return(y&&y!==-1||d&&d!==-1)&&i({id:y,styleId:d,remove:{property:g},index:Zn(l.parentRule)}),c.apply(l,f)})}),X(function(){s.CSSStyleDeclaration.prototype.setProperty=a,s.CSSStyleDeclaration.prototype.removeProperty=u})}function jg(e){var n=e.mediaInteractionCb,i=e.blockClass,t=e.blockSelector,r=e.mirror,o=e.sampling,s=e.doc,a=X(function(c){return Yr(X(function(l){var f=rn(l);if(!(!f||Fe(f,i,t,!0))){var p=f.currentTime,g=f.volume,v=f.muted,y=f.playbackRate,d=f.loop;n({type:c,id:r.getId(f),currentTime:p,volume:g,muted:v,playbackRate:y,loop:d})}}),o.media||500)}),u=[De("play",a(er.Play),s),De("pause",a(er.Pause),s),De("seeked",a(er.Seeked),s),De("volumechange",a(er.VolumeChange),s),De("ratechange",a(er.RateChange),s)];return X(function(){u.forEach(function(c){return c()})})}function zg(e){var n=e.fontCb,i=e.doc,t=i.defaultView;if(!t)return function(){};var r=[],o=new WeakMap,s=t.FontFace;t.FontFace=function(c,l,f){var p=new s(c,l,f);return o.set(p,{family:c,buffer:typeof l!="string",descriptors:f,fontSource:typeof l=="string"?l:JSON.stringify(Array.from(new Uint8Array(l)))}),p};var a=Gt(i.fonts,"add",function(u){return function(c){return setTimeout(X(function(){var l=o.get(c);l&&(n(l),o.delete(c))}),0),u.apply(this,[c])}});return r.push(function(){t.FontFace=s}),r.push(a),X(function(){r.forEach(function(u){return u()})})}function Wg(e){var n=e.doc,i=e.mirror,t=e.blockClass,r=e.blockSelector,o=e.selectionCb,s=!0,a=X(function(){var u=n.getSelection();if(!(!u||s&&(u!=null&&u.isCollapsed))){s=u.isCollapsed||!1;for(var c=[],l=u.rangeCount||0,f=0;f<l;f++){var p=u.getRangeAt(f),g=p.startContainer,v=p.startOffset,y=p.endContainer,d=p.endOffset,m=Fe(g,t,r,!0)||Fe(y,t,r,!0);m||c.push({start:i.getId(g),startOffset:v,end:i.getId(y),endOffset:d})}o({ranges:c})}});return a(),De("selectionchange",a)}function Vg(e){var n=e.doc,i=e.customElementCb,t=n.defaultView;if(!t||!t.customElements)return function(){};var r=Gt(t.customElements,"define",function(o){return function(s,a,u){try{i({define:{name:s}})}catch{console.warn("Custom element callback failed for "+s)}return o.apply(this,[s,a,u])}});return r}function qg(e,n){var i=e.mutationCb,t=e.mousemoveCb,r=e.mouseInteractionCb,o=e.scrollCb,s=e.viewportResizeCb,a=e.inputCb,u=e.mediaInteractionCb,c=e.styleSheetRuleCb,l=e.styleDeclarationCb,f=e.canvasMutationCb,p=e.fontCb,g=e.selectionCb,v=e.customElementCb;e.mutationCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.mutation){var _;(_=n).mutation.apply(_,[].concat(d))}i.apply(void 0,[].concat(d))},e.mousemoveCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.mousemove){var _;(_=n).mousemove.apply(_,[].concat(d))}t.apply(void 0,[].concat(d))},e.mouseInteractionCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.mouseInteraction){var _;(_=n).mouseInteraction.apply(_,[].concat(d))}r.apply(void 0,[].concat(d))},e.scrollCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.scroll){var _;(_=n).scroll.apply(_,[].concat(d))}o.apply(void 0,[].concat(d))},e.viewportResizeCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.viewportResize){var _;(_=n).viewportResize.apply(_,[].concat(d))}s.apply(void 0,[].concat(d))},e.inputCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.input){var _;(_=n).input.apply(_,[].concat(d))}a.apply(void 0,[].concat(d))},e.mediaInteractionCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.mediaInteaction){var _;(_=n).mediaInteaction.apply(_,[].concat(d))}u.apply(void 0,[].concat(d))},e.styleSheetRuleCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.styleSheetRule){var _;(_=n).styleSheetRule.apply(_,[].concat(d))}c.apply(void 0,[].concat(d))},e.styleDeclarationCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.styleDeclaration){var _;(_=n).styleDeclaration.apply(_,[].concat(d))}l.apply(void 0,[].concat(d))},e.canvasMutationCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.canvasMutation){var _;(_=n).canvasMutation.apply(_,[].concat(d))}f.apply(void 0,[].concat(d))},e.fontCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.font){var _;(_=n).font.apply(_,[].concat(d))}p.apply(void 0,[].concat(d))},e.selectionCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.selection){var _;(_=n).selection.apply(_,[].concat(d))}g.apply(void 0,[].concat(d))},e.customElementCb=function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];if(n.customElement){var _;(_=n).customElement.apply(_,[].concat(d))}v.apply(void 0,[].concat(d))}}function Gg(e,n){n===void 0&&(n={});var i=e.doc.defaultView;if(!i)return function(){};qg(e,n);var t;e.recordDOM&&(t=ul(e,e.doc));var r=Pg(e),o=Lg(e),s=cl(e),a=$g(e,{win:i}),u=Fg(e),c=jg(e),l=function(){},f=function(){},p=function(){},g=function(){};e.recordDOM&&(l=Ug(e,{win:i}),f=ll(e,e.doc),p=Bg(e,{win:i}),e.collectFonts&&(g=zg(e)));for(var v=Wg(e),y=Vg(e),d=[],m=A(e.plugins),_;!(_=m()).done;){var w=_.value;d.push(w.observer(w.callback,i,w.options))}return X(function(){Bt.forEach(function(C){return C.reset()}),t==null||t.disconnect(),r(),o(),s(),a(),u(),c(),l(),f(),p(),g(),v(),y(),d.forEach(function(C){return C()})})}function kn(e){return typeof window[e]<"u"}function On(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}var Wa=function(){function e(i){E(this,"iframeIdToRemoteIdMap",new WeakMap),E(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=i}var n=e.prototype;return n.getId=function(t,r,o,s){var a=o||this.getIdToRemoteIdMap(t),u=s||this.getRemoteIdToIdMap(t),c=a.get(r);return c||(c=this.generateIdFn(),a.set(r,c),u.set(c,r)),c},n.getIds=function(t,r){var o=this,s=this.getIdToRemoteIdMap(t),a=this.getRemoteIdToIdMap(t);return r.map(function(u){return o.getId(t,u,s,a)})},n.getRemoteId=function(t,r,o){var s=o||this.getRemoteIdToIdMap(t);if(typeof r!="number")return r;var a=s.get(r);return a||-1},n.getRemoteIds=function(t,r){var o=this,s=this.getRemoteIdToIdMap(t);return r.map(function(a){return o.getRemoteId(t,a,s)})},n.reset=function(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)},n.getIdToRemoteIdMap=function(t){var r=this.iframeIdToRemoteIdMap.get(t);return r||(r=new Map,this.iframeIdToRemoteIdMap.set(t,r)),r},n.getRemoteIdToIdMap=function(t){var r=this.iframeRemoteIdToIdMap.get(t);return r||(r=new Map,this.iframeRemoteIdToIdMap.set(t,r)),r},e}(),Hg=function(){function e(i){E(this,"iframes",new WeakMap),E(this,"crossOriginIframeMap",new WeakMap),E(this,"crossOriginIframeMirror",new Wa(Nu)),E(this,"crossOriginIframeStyleMirror"),E(this,"crossOriginIframeRootIdMap",new WeakMap),E(this,"mirror"),E(this,"mutationCb"),E(this,"wrappedEmit"),E(this,"loadListener"),E(this,"stylesheetManager"),E(this,"recordCrossOriginIframes"),this.mutationCb=i.mutationCb,this.wrappedEmit=i.wrappedEmit,this.stylesheetManager=i.stylesheetManager,this.recordCrossOriginIframes=i.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Wa(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=i.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}var n=e.prototype;return n.addIframe=function(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)},n.addLoadListener=function(t){this.loadListener=t},n.attachIframe=function(t,r){var o,s;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:r}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((o=t.contentWindow)==null||o.addEventListener("message",this.handleMessage.bind(this))),(s=this.loadListener)==null||s.call(this,t),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))},n.handleMessage=function(t){var r=t;if(!(r.data.type!=="rrweb"||r.origin!==r.data.origin)){var o=t.source;if(o){var s=this.crossOriginIframeMap.get(t.source);if(s){var a=this.transformCrossOriginEvent(s,r.data.event);a&&this.wrappedEmit(a,r.data.isCheckout)}}}},n.transformCrossOriginEvent=function(t,r){var o=this,s;switch(r.type){case K.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(r.data.node,t);var a=r.data.node.id;return this.crossOriginIframeRootIdMap.set(t,a),this.patchRootIdOnNode(r.data.node,a),{timestamp:r.timestamp,type:K.IncrementalSnapshot,data:{source:D.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:r.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case K.Meta:case K.Load:case K.DomContentLoaded:return!1;case K.Plugin:return r;case K.Custom:return this.replaceIds(r.data.payload,t,["id","parentId","previousId","nextId"]),r;case K.IncrementalSnapshot:switch(r.data.source){case D.Mutation:return r.data.adds.forEach(function(u){o.replaceIds(u,t,["parentId","nextId","previousId"]),o.replaceIdOnNode(u.node,t);var c=o.crossOriginIframeRootIdMap.get(t);c&&o.patchRootIdOnNode(u.node,c)}),r.data.removes.forEach(function(u){o.replaceIds(u,t,["parentId","id"])}),r.data.attributes.forEach(function(u){o.replaceIds(u,t,["id"])}),r.data.texts.forEach(function(u){o.replaceIds(u,t,["id"])}),r;case D.Drag:case D.TouchMove:case D.MouseMove:return r.data.positions.forEach(function(u){o.replaceIds(u,t,["id"])}),r;case D.ViewportResize:return!1;case D.MediaInteraction:case D.MouseInteraction:case D.Scroll:case D.CanvasMutation:case D.Input:return this.replaceIds(r.data,t,["id"]),r;case D.StyleSheetRule:case D.StyleDeclaration:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleId"]),r;case D.Font:return r;case D.Selection:return r.data.ranges.forEach(function(u){o.replaceIds(u,t,["start","end"])}),r;case D.AdoptedStyleSheet:return this.replaceIds(r.data,t,["id"]),this.replaceStyleIds(r.data,t,["styleIds"]),(s=r.data.styles)==null||s.forEach(function(u){o.replaceStyleIds(u,t,["styleId"])}),r}}return!1},n.replace=function(t,r,o,s){for(var a=A(s),u;!(u=a()).done;){var c=u.value;!Array.isArray(r[c])&&typeof r[c]!="number"||(Array.isArray(r[c])?r[c]=t.getIds(o,r[c]):r[c]=t.getId(o,r[c]))}return r},n.replaceIds=function(t,r,o){return this.replace(this.crossOriginIframeMirror,t,r,o)},n.replaceStyleIds=function(t,r,o){return this.replace(this.crossOriginIframeStyleMirror,t,r,o)},n.replaceIdOnNode=function(t,r){var o=this;this.replaceIds(t,r,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(function(s){o.replaceIdOnNode(s,r)})},n.patchRootIdOnNode=function(t,r){var o=this;t.type!==sl.Document&&!t.rootId&&(t.rootId=r),"childNodes"in t&&t.childNodes.forEach(function(s){o.patchRootIdOnNode(s,r)})},e}(),Yg=function(){function e(i){E(this,"shadowDoms",new WeakSet),E(this,"mutationCb"),E(this,"scrollCb"),E(this,"bypassOptions"),E(this,"mirror"),E(this,"restoreHandlers",[]),this.mutationCb=i.mutationCb,this.scrollCb=i.scrollCb,this.bypassOptions=i.bypassOptions,this.mirror=i.mirror,this.init()}var n=e.prototype;return n.init=function(){this.reset(),this.patchAttachShadow(Element,document)},n.addShadowRoot=function(t,r){var o=this;if(Rr(t)&&!this.shadowDoms.has(t)){this.shadowDoms.add(t);var s=ul(ee({},this.bypassOptions,{doc:r,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),t);this.restoreHandlers.push(function(){return s.disconnect()}),this.restoreHandlers.push(cl(ee({},this.bypassOptions,{scrollCb:this.scrollCb,doc:t,mirror:this.mirror}))),setTimeout(function(){t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&o.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,o.mirror.getId(H.host(t))),o.restoreHandlers.push(ll({mirror:o.mirror,stylesheetManager:o.bypassOptions.stylesheetManager},t))},0)}},n.observeAttachShadow=function(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)},n.patchAttachShadow=function(t,r){var o=this;this.restoreHandlers.push(Gt(t.prototype,"attachShadow",function(s){return function(a){var u=s.call(this,a),c=H.shadowRoot(this);return c&&ol(this)&&o.addShadowRoot(c,r),u}}))},n.reset=function(){this.restoreHandlers.forEach(function(t){try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet},e}(),nr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var An=0;An<nr.length;An++)Kg[nr.charCodeAt(An)]=An;var Jg=function(n){var i=new Uint8Array(n),t,r=i.length,o="";for(t=0;t<r;t+=3)o+=nr[i[t]>>2],o+=nr[(i[t]&3)<<4|i[t+1]>>4],o+=nr[(i[t+1]&15)<<2|i[t+2]>>6],o+=nr[i[t+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o},Va=new Map;function Xg(e,n){var i=Va.get(e);return i||(i=new Map,Va.set(e,i)),i.has(n)||i.set(n,[]),i.get(n)}var fl=function(e,n,i){if(!(!e||!(pl(e,n)||(typeof e>"u"?"undefined":z(e))==="object"))){var t=e.constructor.name,r=Xg(i,t),o=r.indexOf(e);return o===-1&&(o=r.length,r.push(e)),o}};function $n(e,n,i){if($(e,Array))return e.map(function(v){return $n(v,n,i)});if(e===null)return e;if($(e,Float32Array)||$(e,Float64Array)||$(e,Int32Array)||$(e,Uint32Array)||$(e,Uint8Array)||$(e,Uint16Array)||$(e,Int16Array)||$(e,Int8Array)||$(e,Uint8ClampedArray)){var t=e.constructor.name;return{rr_type:t,args:[Object.values(e)]}}else if($(e,ArrayBuffer)){var r=e.constructor.name,o=Jg(e);return{rr_type:r,base64:o}}else if($(e,DataView)){var s=e.constructor.name;return{rr_type:s,args:[$n(e.buffer,n,i),e.byteOffset,e.byteLength]}}else if($(e,HTMLImageElement)){var a=e.constructor.name,u=e.src;return{rr_type:a,src:u}}else if($(e,HTMLCanvasElement)){var c="HTMLImageElement",l=e.toDataURL();return{rr_type:c,src:l}}else if($(e,ImageData)){var f=e.constructor.name;return{rr_type:f,args:[$n(e.data,n,i),e.width,e.height]}}else if(pl(e,n)||(typeof e>"u"?"undefined":z(e))==="object"){var p=e.constructor.name,g=fl(e,n,i);return{rr_type:p,index:g}}return e}var hl=function(e,n,i){return e.map(function(t){return $n(t,n,i)})},pl=function(e,n){var i=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"],t=i.filter(function(r){return typeof n[r]=="function"});return!!t.find(function(r){return $(e,n[r])})};function Zg(e,n,i,t){for(var r=function(){var c=u.value;try{if(typeof n.CanvasRenderingContext2D.prototype[c]!="function")return"continue";var l=Gt(n.CanvasRenderingContext2D.prototype,c,function(p){return function(){for(var g=this,v=arguments.length,y=new Array(v),d=0;d<v;d++)y[d]=arguments[d];return Fe(this.canvas,i,t,!0)||setTimeout(function(){var m=hl(y,n,g);e(g.canvas,{type:pr["2D"],property:c,args:m})},0),p.apply(this,y)}});o.push(l)}catch{var f=Ci(n.CanvasRenderingContext2D.prototype,c,{set:function(v){e(this.canvas,{type:pr["2D"],property:c,args:[v],setter:!0})}});o.push(f)}},o=[],s=Object.getOwnPropertyNames(n.CanvasRenderingContext2D.prototype),a=A(s),u;!(u=a()).done;)r();return function(){o.forEach(function(c){return c()})}}function Qg(e){return e==="experimental-webgl"?"webgl":e}function qa(e,n,i,t){var r=[];try{var o=Gt(e.HTMLCanvasElement.prototype,"getContext",function(s){return function(a){for(var u=arguments.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=arguments[l];if(!Fe(this,n,i,!0)){var f=Qg(a);if("__context"in this||(this.__context=f),t&&["webgl","webgl2"].includes(f))if(c[0]&&z(c[0])==="object"){var p=c[0];p.preserveDrawingBuffer||(p.preserveDrawingBuffer=!0)}else c.splice(0,1,{preserveDrawingBuffer:!0})}return s.apply(this,[].concat([a],c))}});r.push(o)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){r.forEach(function(s){return s()})}}function Ga(e,n,i,t,r,o){for(var s=function(){var f=l.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(f))return"continue";try{if(typeof e[f]!="function")return"continue";var p=Gt(e,f,function(v){return function(){for(var y=arguments.length,d=new Array(y),m=0;m<y;m++)d[m]=arguments[m];var _=v.apply(this,d);if(fl(_,o,this),"tagName"in this.canvas&&!Fe(this.canvas,t,r,!0)){var w=hl(d,o,this),C={type:n,property:f,args:w};i(this.canvas,C)}return _}});a.push(p)}catch{var g=Ci(e,f,{set:function(d){i(this.canvas,{type:n,property:f,args:[d],setter:!0})}});a.push(g)}},a=[],u=Object.getOwnPropertyNames(e),c=A(u),l;!(l=c()).done;)s();return a}function em(e,n,i,t){var r,o=[];if((r=o).push.apply(r,[].concat(Ga(n.WebGLRenderingContext.prototype,pr.WebGL,e,i,t,n))),typeof n.WebGL2RenderingContext<"u"){var s;(s=o).push.apply(s,[].concat(Ga(n.WebGL2RenderingContext.prototype,pr.WebGL2,e,i,t,n)))}return function(){o.forEach(function(a){return a()})}}var dl="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",tm=function(e){return Uint8Array.from(atob(e),function(n){return n.charCodeAt(0)})},Ha=typeof window<"u"&&window.Blob&&new Blob([tm(dl)],{type:"text/javascript;charset=utf-8"});function rm(e){var n;try{if(n=Ha&&(window.URL||window.webkitURL).createObjectURL(Ha),!n)throw"";var i=new Worker(n,{name:e==null?void 0:e.name});return i.addEventListener("error",function(){(window.URL||window.webkitURL).revokeObjectURL(n)}),i}catch{return new Worker("data:text/javascript;base64,"+dl,{name:e==null?void 0:e.name})}finally{n&&(window.URL||window.webkitURL).revokeObjectURL(n)}}var nm=function(){function e(i){var t=this;E(this,"pendingCanvasMutations",new Map),E(this,"rafStamps",{latestId:0,invokeId:null}),E(this,"mirror"),E(this,"mutationCb"),E(this,"resetObservers"),E(this,"frozen",!1),E(this,"locked",!1),E(this,"processMutation",function(f,p){var g=t.rafStamps.invokeId&&t.rafStamps.latestId!==t.rafStamps.invokeId;(g||!t.rafStamps.invokeId)&&(t.rafStamps.invokeId=t.rafStamps.latestId),t.pendingCanvasMutations.has(f)||t.pendingCanvasMutations.set(f,[]),t.pendingCanvasMutations.get(f).push(p)});var r=i.sampling,o=r===void 0?"all":r,s=i.win,a=i.blockClass,u=i.blockSelector,c=i.recordCanvas,l=i.dataURLOptions;this.mutationCb=i.mutationCb,this.mirror=i.mirror,c&&o==="all"&&this.initCanvasMutationObserver(s,a,u),c&&typeof o=="number"&&this.initCanvasFPSObserver(o,s,a,u,{dataURLOptions:l})}var n=e.prototype;return n.reset=function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()},n.freeze=function(){this.frozen=!0},n.unfreeze=function(){this.frozen=!1},n.lock=function(){this.locked=!0},n.unlock=function(){this.locked=!1},n.initCanvasFPSObserver=function(t,r,o,s,a){var u=this,c=qa(r,o,s,!0),l=new Map,f=new rm;f.onmessage=function(m){var _=m.data.id;if(l.set(_,!1),"base64"in m.data){var w=m.data,C=w.base64,x=w.type,k=w.width,R=w.height;u.mutationCb({id:_,type:pr["2D"],commands:[{property:"clearRect",args:[0,0,k,R]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:C}],type:x}]},0,0]}]})}};var p=1e3/t,g=0,v,y=function(){var m=[];return r.document.querySelectorAll("canvas").forEach(function(_){Fe(_,o,s,!0)||m.push(_)}),m},d=function(m){if(g&&m-g<p){v=requestAnimationFrame(d);return}g=m;var _=u;y().forEach(Xo(function(w){var C,x,k,R;return Fr(this,function(T){switch(T.label){case 0:return x=_.mirror.getId(w),l.get(x)?[2]:w.width===0||w.height===0?[2]:(l.set(x,!0),["webgl","webgl2"].includes(w.__context)&&(k=w.getContext(w.__context),((C=k==null?void 0:k.getContextAttributes())==null?void 0:C.preserveDrawingBuffer)===!1&&k.clear(k.COLOR_BUFFER_BIT)),[4,createImageBitmap(w)]);case 1:return R=T.sent(),f.postMessage({id:x,bitmap:R,width:w.width,height:w.height,dataURLOptions:a.dataURLOptions},[R]),[2]}})})),v=requestAnimationFrame(d)};v=requestAnimationFrame(d),this.resetObservers=function(){c(),cancelAnimationFrame(v)}},n.initCanvasMutationObserver=function(t,r,o){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var s=qa(t,r,o,!1),a=Zg(this.processMutation.bind(this),t,r,o),u=em(this.processMutation.bind(this),t,r,o);this.resetObservers=function(){s(),a(),u()}},n.startPendingCanvasMutationFlusher=function(){var t=this;requestAnimationFrame(function(){return t.flushPendingCanvasMutations()})},n.startRAFTimestamping=function(){var t=this,r=function(o){t.rafStamps.latestId=o,requestAnimationFrame(r)};requestAnimationFrame(r)},n.flushPendingCanvasMutations=function(){var t=this;this.pendingCanvasMutations.forEach(function(r,o){var s=t.mirror.getId(o);t.flushPendingCanvasMutationFor(o,s)}),requestAnimationFrame(function(){return t.flushPendingCanvasMutations()})},n.flushPendingCanvasMutationFor=function(t,r){if(!(this.frozen||this.locked)){var o=this.pendingCanvasMutations.get(t);if(!(!o||r===-1)){var s=o.map(function(u){u.type;var c=$r(u,["type"]);return c}),a=o[0].type;this.mutationCb({id:r,type:a,commands:s}),this.pendingCanvasMutations.delete(t)}}},e}(),im=function(){function e(i){E(this,"trackedLinkElements",new WeakSet),E(this,"mutationCb"),E(this,"adoptedStyleSheetCb"),E(this,"styleMirror",new Ig),this.mutationCb=i.mutationCb,this.adoptedStyleSheetCb=i.adoptedStyleSheetCb}var n=e.prototype;return n.attachLinkElement=function(t,r){"_cssText"in r.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:r.id,attributes:r.attributes}]}),this.trackLinkElement(t)},n.trackLinkElement=function(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))},n.adoptStyleSheets=function(t,r){var o,s=function(){var f=l.value,p=void 0;o.styleMirror.has(f)?p=o.styleMirror.getId(f):(p=o.styleMirror.add(f),u.push({styleId:p,rules:Array.from(f.rules||CSSRule,function(g,v){return{rule:Ru(g,f.href),index:v}})})),a.styleIds.push(p)};if(t.length!==0){for(var a={id:r,styleIds:[]},u=[],c=A(t),l;!(l=c()).done;)o=this,s();u.length>0&&(a.styles=u),this.adoptedStyleSheetCb(a)}},n.reset=function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet},n.trackStylesheetInLinkElement=function(t){},e}(),om=function(){function e(){E(this,"nodeMap",new WeakMap),E(this,"active",!1)}var n=e.prototype;return n.inOtherBuffer=function(t,r){var o=this.nodeMap.get(t);return o&&Array.from(o).some(function(s){return s!==r})},n.add=function(t,r){var o=this;this.active||(this.active=!0,requestAnimationFrame(function(){o.nodeMap=new WeakMap,o.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(r))},n.destroy=function(){},e}(),ge,Dn,Vi,Qn=!1;try{if(Array.from([1],function(e){return e*2})[0]!==2){var qi=document.createElement("iframe");document.body.appendChild(qi),Array.from=((Js=qi.contentWindow)==null?void 0:Js.Array.from)||Array.from,document.body.removeChild(qi)}}catch(e){console.debug("Unable to override Array.from",e)}var Ye=ah();function Tt(e){e===void 0&&(e={});var n=e.emit,i=e.checkoutEveryNms,t=e.checkoutEveryNth,r=e.blockClass,o=r===void 0?"rr-block":r,s=e.blockSelector,a=s===void 0?null:s,u=e.ignoreClass,c=u===void 0?"rr-ignore":u,l=e.ignoreSelector,f=l===void 0?null:l,p=e.maskTextClass,g=p===void 0?"rr-mask":p,v=e.maskTextSelector,y=v===void 0?null:v,d=e.inlineStylesheet,m=d===void 0?!0:d,_=e.maskAllInputs,w=e.maskInputOptions,C=e.slimDOMOptions,x=e.maskInputFn,k=e.maskTextFn,R=e.hooks,T=e.packFn,M=e.sampling,B=M===void 0?{}:M,N=e.dataURLOptions,j=N===void 0?{}:N,Y=e.mousemoveWait,Ce=e.recordDOM,V=Ce===void 0?!0:Ce,xe=e.recordCanvas,Oe=xe===void 0?!1:xe,oe=e.recordCrossOriginIframes,de=oe===void 0?!1:oe,Ae=e.recordAfter,st=Ae===void 0?e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load":Ae,We=e.userTriggeredOnInput,_t=We===void 0?!1:We,Le=e.collectFonts,at=Le===void 0?!1:Le,Z=e.inlineImages,Q=Z===void 0?!1:Z,L=e.plugins,te=e.keepIframeSrcFn,Ie=te===void 0?function(){return!1}:te,$e=e.ignoreCSSAttributes,Re=$e===void 0?new Set([]):$e,Xe=e.errorHandler;Mg(Xe);var bt=de?window.parent===window:!0,Lt=!1;if(!bt)try{window.parent.document&&(Lt=!1)}catch{Lt=!0}if(bt&&!n)throw new Error("emit function is required");if(!bt&&!Lt)return function(){};Y!==void 0&&B.mousemove===void 0&&(B.mousemove=Y),Ye.reset();var Yt=_===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0,hidden:!0}:w!==void 0?w:{password:!0},br=C===!0||C==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:C==="all",headMetaDescKeywords:C==="all",headTitleMutations:C==="all"}:C||{};xg();var Kt,$t=0,ut=function(re){for(var Be=A(L||[]),P;!(P=Be()).done;){var ve=P.value;ve.eventProcessor&&(re=ve.eventProcessor(re))}return T&&!Lt&&(re=T(re)),re};ge=function(re,Be){var P,ve=re;if(ve.timestamp=Xn(),(P=Bt[0])!=null&&P.isFrozen()&&ve.type!==K.FullSnapshot&&!(ve.type===K.IncrementalSnapshot&&ve.data.source===D.Mutation)&&Bt.forEach(function(df){return df.unfreeze()}),bt)n==null||n(ut(ve),Be);else if(Lt){var ff={type:"rrweb",event:ut(ve),origin:window.location.origin,isCheckout:Be};window.parent.postMessage(ff,"*")}if(ve.type===K.FullSnapshot)Kt=ve,$t=0;else if(ve.type===K.IncrementalSnapshot){if(ve.data.source===D.Mutation&&ve.data.isAttachIframe)return;$t++;var hf=t&&$t>=t,pf=i&&ve.timestamp-Kt.timestamp>i;(hf||pf)&&Dn(!0)}};for(var Dt=function(re){ge({type:K.IncrementalSnapshot,data:ee({source:D.Mutation},re)})},js=function(re){return ge({type:K.IncrementalSnapshot,data:ee({source:D.Scroll},re)})},zs=function(re){return ge({type:K.IncrementalSnapshot,data:ee({source:D.CanvasMutation},re)})},cf=function(re){return ge({type:K.IncrementalSnapshot,data:ee({source:D.AdoptedStyleSheet},re)})},Ft=new im({mutationCb:Dt,adoptedStyleSheetCb:cf}),Ut=new Hg({mirror:Ye,mutationCb:Dt,stylesheetManager:Ft,recordCrossOriginIframes:de,wrappedEmit:ge}),lf=A(L||[]),Ws;!(Ws=lf()).done;){var Vs=Ws.value;Vs.getMirror&&Vs.getMirror({nodeMirror:Ye,crossOriginIframeMirror:Ut.crossOriginIframeMirror,crossOriginIframeStyleMirror:Ut.crossOriginIframeStyleMirror})}var Ai=new om;Vi=new nm({recordCanvas:Oe,mutationCb:zs,win:window,blockClass:o,blockSelector:a,mirror:Ye,sampling:B.canvas,dataURLOptions:j});var on=new Yg({mutationCb:Dt,scrollCb:js,bypassOptions:{blockClass:o,blockSelector:a,maskTextClass:g,maskTextSelector:y,inlineStylesheet:m,maskInputOptions:Yt,dataURLOptions:j,maskTextFn:k,maskInputFn:x,recordCanvas:Oe,inlineImages:Q,sampling:B,slimDOMOptions:br,iframeManager:Ut,stylesheetManager:Ft,canvasManager:Vi,keepIframeSrcFn:Ie,processedNodeManager:Ai},mirror:Ye});Dn=function(re){if(re===void 0&&(re=!1),!!V){ge({type:K.Meta,data:{href:window.location.href,width:Qc(),height:Zc()}},re),Ft.reset(),on.init(),Bt.forEach(function(P){return P.lock()});var Be=Th(document,{mirror:Ye,blockClass:o,blockSelector:a,maskTextClass:g,maskTextSelector:y,inlineStylesheet:m,maskAllInputs:Yt,maskTextFn:k,maskInputFn:x,slimDOM:br,dataURLOptions:j,recordCanvas:Oe,inlineImages:Q,onSerialize:function(P){rl(P,Ye)&&Ut.addIframe(P),nl(P,Ye)&&Ft.trackLinkElement(P),Lo(P)&&on.addShadowRoot(H.shadowRoot(P),document)},onIframeLoad:function(P,ve){Ut.attachIframe(P,ve),on.observeAttachShadow(P)},onStylesheetLoad:function(P,ve){Ft.attachLinkElement(P,ve)},keepIframeSrcFn:Ie});if(!Be)return console.warn("Failed to snapshot the document");ge({type:K.FullSnapshot,data:{node:Be,initialOffset:Xc(window)}},re),Bt.forEach(function(P){return P.unlock()}),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ft.adoptStyleSheets(document.adoptedStyleSheets,Ye.getId(document))}};try{var wr=[],qs=function(re){var Be;return X(Gg)({mutationCb:Dt,mousemoveCb:function(P,ve){return ge({type:K.IncrementalSnapshot,data:{source:ve,positions:P}})},mouseInteractionCb:function(P){return ge({type:K.IncrementalSnapshot,data:ee({source:D.MouseInteraction},P)})},scrollCb:js,viewportResizeCb:function(P){return ge({type:K.IncrementalSnapshot,data:ee({source:D.ViewportResize},P)})},inputCb:function(P){return ge({type:K.IncrementalSnapshot,data:ee({source:D.Input},P)})},mediaInteractionCb:function(P){return ge({type:K.IncrementalSnapshot,data:ee({source:D.MediaInteraction},P)})},styleSheetRuleCb:function(P){return ge({type:K.IncrementalSnapshot,data:ee({source:D.StyleSheetRule},P)})},styleDeclarationCb:function(P){return ge({type:K.IncrementalSnapshot,data:ee({source:D.StyleDeclaration},P)})},canvasMutationCb:zs,fontCb:function(P){return ge({type:K.IncrementalSnapshot,data:ee({source:D.Font},P)})},selectionCb:function(P){ge({type:K.IncrementalSnapshot,data:ee({source:D.Selection},P)})},customElementCb:function(P){ge({type:K.IncrementalSnapshot,data:ee({source:D.CustomElement},P)})},blockClass:o,ignoreClass:c,ignoreSelector:f,maskTextClass:g,maskTextSelector:y,maskInputOptions:Yt,inlineStylesheet:m,sampling:B,recordDOM:V,recordCanvas:Oe,inlineImages:Q,userTriggeredOnInput:_t,collectFonts:at,doc:re,maskInputFn:x,maskTextFn:k,keepIframeSrcFn:Ie,blockSelector:a,slimDOMOptions:br,dataURLOptions:j,mirror:Ye,iframeManager:Ut,stylesheetManager:Ft,shadowDomManager:on,processedNodeManager:Ai,canvasManager:Vi,ignoreCSSAttributes:Re,plugins:((Be=L==null?void 0:L.filter(function(P){return P.observer}))==null?void 0:Be.map(function(P){return{observer:P.observer,options:P.options,callback:function(ve){return ge({type:K.Plugin,data:{plugin:P.name,payload:ve}})}}}))||[]},R)};Ut.addLoadListener(function(re){try{wr.push(qs(re.contentDocument))}catch(Be){console.warn(Be)}});var Ri=function(){Dn(),wr.push(qs(document)),Qn=!0};return document.readyState==="interactive"||document.readyState==="complete"?Ri():(wr.push(De("DOMContentLoaded",function(){ge({type:K.DomContentLoaded,data:{}}),st==="DOMContentLoaded"&&Ri()})),wr.push(De("load",function(){ge({type:K.Load,data:{}}),st==="load"&&Ri()},window))),function(){wr.forEach(function(re){try{re()}catch(P){var Be=String(P).toLowerCase();Be.includes("cross-origin")||console.warn(P)}}),Ai.destroy(),Qn=!1,Ng()}}catch(re){console.warn(re)}}Tt.addCustomEvent=function(e,n){if(!Qn)throw new Error("please add custom event after start recording");ge({type:K.Custom,data:{tag:e,payload:n}})};Tt.freezePage=function(){Bt.forEach(function(e){return e.freeze()})};Tt.takeFullSnapshot=function(e){if(!Qn)throw new Error("please take full snapshot after start recording");Dn(e)};Tt.mirror=Ye;var Ya;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Ya||(Ya={}));Tt.addCustomEvent;Tt.freezePage;Tt.takeFullSnapshot;var sm=Object.defineProperty,am=function(e,n,i){return n in e?sm(e,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[n]=i},Rn=function(e,n,i){return am(e,(typeof n>"u"?"undefined":z(n))!=="symbol"?n+"":n,i)};function um(e,n,i){try{if(!(n in e))return function(){};var t=e[n],r=i(t);return typeof r=="function"&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:t}})),e[n]=r,function(){e[n]=t}}catch{return function(){}}}var Xt=function(){function e(i){Rn(this,"fileName"),Rn(this,"functionName"),Rn(this,"lineNumber"),Rn(this,"columnNumber"),this.fileName=i.fileName||"",this.functionName=i.functionName||"",this.lineNumber=i.lineNumber,this.columnNumber=i.columnNumber}var n=e.prototype;return n.toString=function(){var t=this.lineNumber||"",r=this.columnNumber||"";return this.functionName?this.functionName+" ("+this.fileName+":"+t+":"+r+")":this.fileName+":"+t+":"+r},e}(),cm=/(^|@)\S+:\d+/,Ka=/^\s*at .*(\S+:\d+|\(native\))/m,lm=/^(eval@)?(\[native code])?$/,Gi={parse:function(n){return n?typeof n.stacktrace<"u"||typeof n["opera#sourceloc"]<"u"?this.parseOpera(n):n.stack&&n.stack.match(Ka)?this.parseV8OrIE(n):n.stack?this.parseFFOrSafari(n):(console.warn("[console-record-plugin]: Failed to parse error object:",n),[]):[]},extractLocation:function(n){if(n.indexOf(":")===-1)return[n];var i=/(.+?)(?::(\d+))?(?::(\d+))?$/,t=i.exec(n.replace(/[()]/g,""));if(!t)throw new Error("Cannot parse given url: "+n);return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(n){var i=n.stack.split(`
`).filter(function(t){return!!t.match(Ka)},this);return i.map(function(t){t.indexOf("(eval ")>-1&&(t=t.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var r=t.replace(/^\s+/,"").replace(/\(eval code/g,"("),o=r.match(/ (\((.+):(\d+):(\d+)\)$)/);r=o?r.replace(o[0],""):r;var s=r.split(/\s+/).slice(1),a=this.extractLocation(o?o[1]:s.pop()),u=s.join(" ")||void 0,c=["eval","<anonymous>"].indexOf(a[0])>-1?void 0:a[0];return new Xt({functionName:u,fileName:c,lineNumber:a[1],columnNumber:a[2]})},this)},parseFFOrSafari:function(n){var i=n.stack.split(`
`).filter(function(t){return!t.match(lm)},this);return i.map(function(t){if(t.indexOf(" > eval")>-1&&(t=t.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),t.indexOf("@")===-1&&t.indexOf(":")===-1)return new Xt({functionName:t});var r=/((.*".+"[^@]*)?[^@]*)(?:@)/,o=t.match(r),s=o&&o[1]?o[1]:void 0,a=this.extractLocation(t.replace(r,""));return new Xt({functionName:s,fileName:a[0],lineNumber:a[1],columnNumber:a[2]})},this)},parseOpera:function(n){return!n.stacktrace||n.message.indexOf(`
`)>-1&&n.message.split(`
`).length>n.stacktrace.split(`
`).length?this.parseOpera9(n):n.stack?this.parseOpera11(n):this.parseOpera10(n)},parseOpera9:function(n){for(var i=/Line (\d+).*script (?:in )?(\S+)/i,t=n.message.split(`
`),r=[],o=2,s=t.length;o<s;o+=2){var a=i.exec(t[o]);a&&r.push(new Xt({fileName:a[2],lineNumber:parseFloat(a[1])}))}return r},parseOpera10:function(n){for(var i=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,t=n.stacktrace.split(`
`),r=[],o=0,s=t.length;o<s;o+=2){var a=i.exec(t[o]);a&&r.push(new Xt({functionName:a[3]||void 0,fileName:a[2],lineNumber:parseFloat(a[1])}))}return r},parseOpera11:function(n){var i=n.stack.split(`
`).filter(function(t){return!!t.match(cm)&&!t.match(/^Error created at/)},this);return i.map(function(t){var r=t.split("@"),o=this.extractLocation(r.pop()),s=r.shift()||"",a=s.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new Xt({functionName:a,fileName:o[0],lineNumber:o[1],columnNumber:o[2]})},this)}};function fm(e){if(!e||!e.outerHTML)return"";for(var n="";e.parentElement;){var i=e.localName;if(!i)break;i=i.toLowerCase();var t=e.parentElement,r=[];if(t.children&&t.children.length>0)for(var o=0;o<t.children.length;o++){var s=t.children[o];s.localName&&s.localName.toLowerCase&&s.localName.toLowerCase()===i&&r.push(s)}r.length>1&&(i+=":eq("+r.indexOf(e)+")"),n=i+(n?">"+n:""),e=t}return n}function Do(e){return Object.prototype.toString.call(e)==="[object Object]"}function vl(e,n){if(n===0)return!0;for(var i=Object.keys(e),t=A(i),r;!(r=t()).done;){var o=r.value;if(Do(e[o])&&vl(e[o],n-1))return!0}return!1}function Zt(e,n){var i={numOfKeysLimit:50,depthOfLimit:4};Object.assign(i,n);var t=[],r=[];return JSON.stringify(e,function(a,u){if(t.length>0){var c=t.indexOf(this);~c?t.splice(c+1):t.push(this),~c?r.splice(c,1/0,a):r.push(a),~t.indexOf(u)&&(t[0]===u?u="[Circular ~]":u="[Circular ~."+r.slice(0,t.indexOf(u)).join(".")+"]")}else t.push(u);if(u===null)return u;if(u===void 0)return"undefined";if(o(u))return s(u);if((typeof u>"u"?"undefined":z(u))==="bigint")return u.toString()+"n";if($(u,Event)){var l={};for(var f in u){var p=u[f];Array.isArray(p)?l[f]=fm(p.length?p[0]:null):l[f]=p}return l}else{if($(u,Node))return $(u,HTMLElement)?u?u.outerHTML:"":u.nodeName;if($(u,Error))return u.stack?u.stack+`
End of stack for Error object`:u.name+": "+u.message}return u});function o(a){return!!(Do(a)&&Object.keys(a).length>i.numOfKeysLimit||typeof a=="function"||Do(a)&&vl(a,i.depthOfLimit))}function s(a){var u=a.toString();return i.stringLengthLimit&&u.length>i.stringLengthLimit&&(u=""+u.slice(0,i.stringLengthLimit)+"..."),u}}var Ja={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};function hm(e,n,i){var t=i?Object.assign({},Ja,i):Ja,r=t.logger;if(!r)return function(){};var o;typeof r=="string"?o=n[r]:o=r;var s=0,a=!1,u=[];if(t.level.includes("error")){var c=function(y){var d=y.message,m=y.error,_=Gi.parse(m).map(function(C){return C.toString()}),w=[Zt(d,t.stringifyOptions)];e({level:"error",trace:_,payload:w})};n.addEventListener("error",c),u.push(function(){n.removeEventListener("error",c)});var l=function(y){var d,m;$(y.reason,Error)?(d=y.reason,m=[Zt("Uncaught (in promise) "+d.name+": "+d.message,t.stringifyOptions)]):(d=new Error,m=[Zt("Uncaught (in promise)",t.stringifyOptions),Zt(y.reason,t.stringifyOptions)]);var _=Gi.parse(d).map(function(w){return w.toString()});e({level:"error",trace:_,payload:m})};n.addEventListener("unhandledrejection",l),u.push(function(){n.removeEventListener("unhandledrejection",l)})}for(var f=A(t.level),p;!(p=f()).done;){var g=p.value;u.push(v(o,g))}return function(){u.forEach(function(y){return y()})};function v(y,d){var m=this;return y[d]?um(y,d,function(_){var w=m;return function(){for(var C=arguments.length,x=new Array(C),k=0;k<C;k++)x[k]=arguments[k];if(_.apply(w,x),!(d==="assert"&&x[0])&&!a){a=!0;try{var R=Gi.parse(new Error).map(function(B){return B.toString()}).splice(1),T=d==="assert"?x.slice(1):x,M=T.map(function(B){return Zt(B,t.stringifyOptions)});s++,s<t.lengthThreshold?e({level:d,trace:R,payload:M}):s===t.lengthThreshold&&e({level:"warn",trace:[],payload:[Zt("The number of log records reached the threshold.")]})}catch(B){_.apply(void 0,[].concat(["rrweb logger error:",B],x))}finally{a=!1}}}}):function(){}}}var pm="rrweb/console@1",dm=function(e){return{name:pm,observer:hm,options:e}},Xa=I.setImmediate,It,Fo,Uo,gl=Object.prototype.toString,vm=typeof Xa<"u"?function(n){return Xa(n)}:setTimeout;try{Object.defineProperty({},"x",{}),It=function(n,i,t,r){return Object.defineProperty(n,i,{value:t,writable:!0,configurable:r!==!1})}}catch{It=function(i,t,r){return i[t]=r,i}}Uo=function(){var n,i,t;function r(o,s){this.fn=o,this.self=s,this.next=void 0}return{add:function(s,a){t=new r(s,a),i?i.next=t:n=t,i=t,t=void 0},drain:function(){var s=n;for(n=i=Fo=void 0;s;)s.fn.call(s.self),s=s.next}}}();function ei(e,n){Uo.add(e,n),Fo||(Fo=vm(Uo.drain))}function ml(e){var n,i=typeof e;return e!==null&&(i==="object"||i==="function")&&(n=e.then),typeof n=="function"?n:!1}function ws(){for(var e=0;e<this.chain.length;e++)gm(this,this.state===1?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function gm(e,n,i){var t,r;try{n===!1?i.reject(e.msg):(n===!0?t=e.msg:t=n.call(void 0,e.msg),t===i.promise?i.reject(TypeError("Promise-chain cycle")):(r=ml(t))?r.call(t,i.resolve,i.reject):i.resolve(t))}catch(o){i.reject(o)}}function yl(e){var n,i=this;if(!i.triggered){i.triggered=!0,i.def&&(i=i.def);try{(n=ml(e))?ei(function(){var t=new Za(i);try{n.call(e,function(){yl.apply(t,arguments)},function(){Mr.apply(t,arguments)})}catch(r){Mr.call(t,r)}}):(i.msg=e,i.state=1,i.chain.length>0&&ei(ws,i))}catch(t){Mr.call(new Za(i),t)}}}function Mr(e){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=e,n.state=2,n.chain.length>0&&ei(ws,n))}function _l(e,n,i,t){for(var r=0;r<n.length;r++)(function(s){e.resolve(n[s]).then(function(u){i(s,u)},t)})(r)}function Za(e){this.def=e,this.triggered=!1}function mm(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function Mt(e){if(typeof e!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var n=new mm(this);this.then=function(t,r){var o={success:typeof t=="function"?t:!0,failure:typeof r=="function"?r:!1};return o.promise=new this.constructor(function(a,u){if(typeof a!="function"||typeof u!="function")throw TypeError("Not a function");o.resolve=a,o.reject=u}),n.chain.push(o),n.state!==0&&ei(ws,n),o.promise},this.catch=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){yl.call(n,t)},function(t){Mr.call(n,t)})}catch(i){Mr.call(n,i)}}var bl=It({},"constructor",Mt,!1);Mt.prototype=bl;It(bl,"__NPO__",0,!1);It(Mt,"resolve",function(n){var i=this;return n&&typeof n=="object"&&n.__NPO__===1?n:new i(function(r,o){if(typeof r!="function"||typeof o!="function")throw TypeError("Not a function");r(n)})});It(Mt,"reject",function(n){return new this(function(t,r){if(typeof t!="function"||typeof r!="function")throw TypeError("Not a function");r(n)})});It(Mt,"all",function(n){var i=this;return gl.call(n)!=="[object Array]"?i.reject(TypeError("Not an array")):n.length===0?i.resolve([]):new i(function(r,o){if(typeof r!="function"||typeof o!="function")throw TypeError("Not a function");var s=n.length,a=Array(s),u=0;_l(i,n,function(l,f){a[l]=f,++u===s&&r(a)},o)})});It(Mt,"race",function(n){var i=this;return gl.call(n)!=="[object Array]"?i.reject(TypeError("Not an array")):new i(function(r,o){if(typeof r!="function"||typeof o!="function")throw TypeError("Not a function");_l(i,n,function(a,u){r(u)},o)})});var J;typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1?J=Promise:J=Mt;var Ge={DEBUG:!1,LIB_VERSION:"2.73.0"},Nr=24*60*60*1e3,Hi=8*1e3,xi=Array.prototype,ym=Function.prototype,wl=Object.prototype,St=xi.slice,nn=wl.toString,Ii=wl.hasOwnProperty,we=I.console,ft=I.navigator,F=I.document,kr=I.opera,Qa=I.screen,tt=ft.userAgent,Yi=ym.bind,eu=xi.forEach,tu=xi.indexOf,ru=xi.map,_m=Array.isArray,Bo={},h={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},q={log:function(){if(Ge.DEBUG&&!h.isUndefined(we)&&we)try{we.log.apply(we,arguments)}catch{h.each(arguments,function(n){we.log(n)})}},warn:function(){if(Ge.DEBUG&&!h.isUndefined(we)&&we){var e=["Mixpanel warning:"].concat(h.toArray(arguments));try{we.warn.apply(we,e)}catch{h.each(e,function(i){we.warn(i)})}}},error:function(){if(Ge.DEBUG&&!h.isUndefined(we)&&we){var e=["Mixpanel error:"].concat(h.toArray(arguments));try{we.error.apply(we,e)}catch{h.each(e,function(i){we.error(i)})}}},critical:function(){if(!h.isUndefined(we)&&we){var e=["Mixpanel error:"].concat(h.toArray(arguments));try{we.error.apply(we,e)}catch{h.each(e,function(i){we.error(i)})}}}},Ki=function(e,n){return function(){return arguments[0]="["+n+"] "+arguments[0],e.apply(q,arguments)}},Ht=function(e){return{log:Ki(q.log,e),error:Ki(q.error,e),critical:Ki(q.critical,e)}},Kr=function(e){return function(){try{return e.apply(this,arguments)}catch(n){q.critical("Implementation error. Please turn on debug and contact support@mixpanel.com."),Ge.DEBUG&&q.critical(n)}}},Sl=function(e){var n=e.prototype;for(var i in n)typeof n[i]=="function"&&(n[i]=Kr(n[i]))};h.bind=function(e,n){var i,t;if(Yi&&e.bind===Yi)return Yi.apply(e,St.call(arguments,1));if(!h.isFunction(e))throw new TypeError;return i=St.call(arguments,2),t=function(){if(!(this instanceof t))return e.apply(n,i.concat(St.call(arguments)));var r={};r.prototype=e.prototype;var o=new r;r.prototype=null;var s=e.apply(o,i.concat(St.call(arguments)));return Object(s)===s?s:o},t};h.each=function(e,n,i){if(e!=null){if(eu&&e.forEach===eu)e.forEach(n,i);else if(e.length===+e.length){for(var t=0,r=e.length;t<r;t++)if(t in e&&n.call(i,e[t],t,e)===Bo)return}else for(var o in e)if(Ii.call(e,o)&&n.call(i,e[o],o,e)===Bo)return}};h.extend=function(e){return h.each(St.call(arguments,1),function(n){for(var i in n)n[i]!==void 0&&(e[i]=n[i])}),e};h.isArray=_m||function(e){return nn.call(e)==="[object Array]"};h.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};h.isArguments=function(e){return!!(e&&Ii.call(e,"callee"))};h.toArray=function(e){return e?e.toArray?e.toArray():h.isArray(e)||h.isArguments(e)?St.call(e):h.values(e):[]};h.map=function(e,n,i){if(ru&&e.map===ru)return e.map(n,i);var t=[];return h.each(e,function(r){t.push(n.call(i,r))}),t};h.keys=function(e){var n=[];return e===null||h.each(e,function(i,t){n[n.length]=t}),n};h.values=function(e){var n=[];return e===null||h.each(e,function(i){n[n.length]=i}),n};h.include=function(e,n){var i=!1;return e===null?i:tu&&e.indexOf===tu?e.indexOf(n)!=-1:(h.each(e,function(t){if(i||(i=t===n))return Bo}),i)};h.includes=function(e,n){return e.indexOf(n)!==-1};h.inherit=function(e,n){return e.prototype=new n,e.prototype.constructor=e,e.superclass=n.prototype,e};h.isObject=function(e){return e===Object(e)&&!h.isArray(e)};h.isEmptyObject=function(e){if(h.isObject(e)){for(var n in e)if(Ii.call(e,n))return!1;return!0}return!1};h.isUndefined=function(e){return e===void 0};h.isString=function(e){return nn.call(e)=="[object String]"};h.isDate=function(e){return nn.call(e)=="[object Date]"};h.isNumber=function(e){return nn.call(e)=="[object Number]"};h.isElement=function(e){return!!(e&&e.nodeType===1)};h.encodeDates=function(e){return h.each(e,function(n,i){h.isDate(n)?e[i]=h.formatDate(n):h.isObject(n)&&(e[i]=h.encodeDates(n))}),e};h.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};h.formatDate=function(e){function n(i){return i<10?"0"+i:i}return e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())};h.strip_empty_properties=function(e){var n={};return h.each(e,function(i,t){h.isString(i)&&i.length>0&&(n[t]=i)}),n};h.truncate=function(e,n){var i;return typeof e=="string"?i=e.slice(0,n):h.isArray(e)?(i=[],h.each(e,function(t){i.push(h.truncate(t,n))})):h.isObject(e)?(i={},h.each(e,function(t,r){i[r]=h.truncate(t,n)})):i=e,i};h.JSONEncode=function(){return function(e){var n=e,i=function(r){var o=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return o.lastIndex=0,o.test(r)?'"'+r.replace(o,function(a){var u=s[a];return typeof u=="string"?u:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+r+'"'},t=function(r,o){var s="",a="    ",u=0,c="",l="",f=0,p=s,g=[],v=o[r];switch(v&&typeof v=="object"&&typeof v.toJSON=="function"&&(v=v.toJSON(r)),typeof v){case"string":return i(v);case"number":return isFinite(v)?String(v):"null";case"boolean":case"null":return String(v);case"object":if(!v)return"null";if(s+=a,g=[],nn.apply(v)==="[object Array]"){for(f=v.length,u=0;u<f;u+=1)g[u]=t(u,v)||"null";return l=g.length===0?"[]":s?`[
`+s+g.join(`,
`+s)+`
`+p+"]":"["+g.join(",")+"]",s=p,l}for(c in v)Ii.call(v,c)&&(l=t(c,v),l&&g.push(i(c)+(s?": ":":")+l));return l=g.length===0?"{}":s?"{"+g.join(",")+p+"}":"{"+g.join(",")+"}",s=p,l}};return t("",{"":n})}}();h.JSONDecode=function(){var e,n,i={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},t,r=function(g){var v=new SyntaxError(g);throw v.at=e,v.text=t,v},o=function(g){return g&&g!==n&&r("Expected '"+g+"' instead of '"+n+"'"),n=t.charAt(e),e+=1,n},s=function(){var g,v="";for(n==="-"&&(v="-",o("-"));n>="0"&&n<="9";)v+=n,o();if(n===".")for(v+=".";o()&&n>="0"&&n<="9";)v+=n;if(n==="e"||n==="E")for(v+=n,o(),(n==="-"||n==="+")&&(v+=n,o());n>="0"&&n<="9";)v+=n,o();if(g=+v,!isFinite(g))r("Bad number");else return g},a=function(){var g,v,y="",d;if(n==='"')for(;o();){if(n==='"')return o(),y;if(n==="\\")if(o(),n==="u"){for(d=0,v=0;v<4&&(g=parseInt(o(),16),!!isFinite(g));v+=1)d=d*16+g;y+=String.fromCharCode(d)}else if(typeof i[n]=="string")y+=i[n];else break;else y+=n}r("Bad string")},u=function(){for(;n&&n<=" ";)o()},c=function(){switch(n){case"t":return o("t"),o("r"),o("u"),o("e"),!0;case"f":return o("f"),o("a"),o("l"),o("s"),o("e"),!1;case"n":return o("n"),o("u"),o("l"),o("l"),null}r('Unexpected "'+n+'"')},l,f=function(){var g=[];if(n==="["){if(o("["),u(),n==="]")return o("]"),g;for(;n;){if(g.push(l()),u(),n==="]")return o("]"),g;o(","),u()}}r("Bad array")},p=function(){var g,v={};if(n==="{"){if(o("{"),u(),n==="}")return o("}"),v;for(;n;){if(g=a(),u(),o(":"),Object.hasOwnProperty.call(v,g)&&r('Duplicate key "'+g+'"'),v[g]=l(),u(),n==="}")return o("}"),v;o(","),u()}}r("Bad object")};return l=function(){switch(u(),n){case"{":return p();case"[":return f();case'"':return a();case"-":return s();default:return n>="0"&&n<="9"?s():c()}},function(g){var v;return t=g,e=0,n=" ",v=l(),u(),n&&r("Syntax error"),v}}();h.base64Encode=function(e){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i,t,r,o,s,a,u,c,l=0,f=0,p="",g=[];if(!e)return e;e=h.utf8Encode(e);do i=e.charCodeAt(l++),t=e.charCodeAt(l++),r=e.charCodeAt(l++),c=i<<16|t<<8|r,o=c>>18&63,s=c>>12&63,a=c>>6&63,u=c&63,g[f++]=n.charAt(o)+n.charAt(s)+n.charAt(a)+n.charAt(u);while(l<e.length);switch(p=g.join(""),e.length%3){case 1:p=p.slice(0,-2)+"==";break;case 2:p=p.slice(0,-1)+"=";break}return p};h.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var n="",i,t,r=0,o;for(i=t=0,r=e.length,o=0;o<r;o++){var s=e.charCodeAt(o),a=null;s<128?t++:s>127&&s<2048?a=String.fromCharCode(s>>6|192,s&63|128):a=String.fromCharCode(s>>12|224,s>>6&63|128,s&63|128),a!==null&&(t>i&&(n+=e.substring(i,t)),n+=a,i=t=o+1)}return t>i&&(n+=e.substring(i,e.length)),n};h.UUID=function(){try{return I.crypto.randomUUID()}catch{for(var e=new Array(36),n=0;n<36;n++)e[n]=Math.floor(Math.random()*16);return e[14]=4,e[19]=e[19]&=-5,e[19]=e[19]|=8,e[8]=e[13]=e[18]=e[23]="-",h.map(e,function(t){return t.toString(16)}).join("")}};var nu=["ahrefsbot","ahrefssiteaudit","amazonbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandex","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];h.isBlockedUA=function(e){var n;for(e=e.toLowerCase(),n=0;n<nu.length;n++)if(e.indexOf(nu[n])!==-1)return!0;return!1};h.HTTPBuildQuery=function(e,n){var i,t,r=[];return h.isUndefined(n)&&(n="&"),h.each(e,function(o,s){i=encodeURIComponent(o.toString()),t=encodeURIComponent(s),r[r.length]=t+"="+i}),r.join(n)};h.getQueryParam=function(e,n){n=n.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");var i="[\\?&]"+n+"=([^&#]*)",t=new RegExp(i),r=t.exec(e);if(r===null||r&&typeof r[1]!="string"&&r[1].length)return"";var o=r[1];try{o=decodeURIComponent(o)}catch{q.error("Skipping decoding for malformed query param: "+o)}return o.replace(/\+/g," ")};h.cookie={get:function(e){for(var n=e+"=",i=F.cookie.split(";"),t=0;t<i.length;t++){for(var r=i[t];r.charAt(0)==" ";)r=r.substring(1,r.length);if(r.indexOf(n)===0)return decodeURIComponent(r.substring(n.length,r.length))}return null},parse:function(e){var n;try{n=h.JSONDecode(h.cookie.get(e))||{}}catch{}return n},set_seconds:function(e,n,i,t,r,o,s){var a="",u="",c="";if(s)a="; domain="+s;else if(t){var l=iu(F.location.hostname);a=l?"; domain=."+l:""}if(i){var f=new Date;f.setTime(f.getTime()+i*1e3),u="; expires="+f.toGMTString()}o&&(r=!0,c="; SameSite=None"),r&&(c+="; secure"),F.cookie=e+"="+encodeURIComponent(n)+u+"; path=/"+a+c},set:function(e,n,i,t,r,o,s){var a="",u="",c="";if(s)a="; domain="+s;else if(t){var l=iu(F.location.hostname);a=l?"; domain=."+l:""}if(i){var f=new Date;f.setTime(f.getTime()+i*24*60*60*1e3),u="; expires="+f.toGMTString()}o&&(r=!0,c="; SameSite=None"),r&&(c+="; secure");var p=e+"="+encodeURIComponent(n)+u+"; path=/"+a+c;return F.cookie=p,p},remove:function(e,n,i){h.cookie.set(e,"",-1,n,!1,!1,i)}};var Cl=function(e){var n=!0;try{var i="__mplss_"+Ss(8),t="xyz";e.setItem(i,t),e.getItem(i)!==t&&(n=!1),e.removeItem(i)}catch{n=!1}return n},Ji=null,Jr=function(e,n){return Ji!==null&&!n?Ji:Ji=Cl(e||I.localStorage)},Xi=null,bm=function(e,n){return Xi!==null&&!n?Xi:Xi=Cl(e||I.sessionStorage)};function xl(e,n,i){var t=function(r){q.error(n+" error: "+r)};return{is_supported:function(r){var o=i(e,r);return o||q.error(n+" unsupported"),o},error:t,get:function(r){try{return e.getItem(r)}catch(o){t(o)}return null},parse:function(r){try{return h.JSONDecode(e.getItem(r))||{}}catch{}return null},set:function(r,o){try{e.setItem(r,o)}catch(s){t(s)}},remove:function(r){try{e.removeItem(r)}catch(o){t(o)}}}}h.localStorage=xl(I.localStorage,"localStorage",Jr);h.sessionStorage=xl(I.sessionStorage,"sessionStorage",bm);h.register_event=function(){var e=function(t,r,o,s,a){if(!t){q.error("No valid element provided to register_event");return}if(t.addEventListener&&!s)t.addEventListener(r,o,!!a);else{var u="on"+r,c=t[u];t[u]=n(t,o,c)}};function n(t,r,o){var s=function(a){if(a=a||i(I.event),!!a){var u=!0,c,l;return h.isFunction(o)&&(c=o(a)),l=r.call(t,a),(c===!1||l===!1)&&(u=!1),u}};return s}function i(t){return t&&(t.preventDefault=i.preventDefault,t.stopPropagation=i.stopPropagation),t}return i.preventDefault=function(){this.returnValue=!1},i.stopPropagation=function(){this.cancelBubble=!0},e}();var wm=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');h.dom_query=function(){function e(r){return r.all?r.all:r.getElementsByTagName("*")}var n=/[\t\r\n]/g;function i(r,o){var s=" "+o+" ";return(" "+r.className+" ").replace(n," ").indexOf(s)>=0}function t(r){if(!F.getElementsByTagName)return[];var o=r.split(" "),s,a,u,c,l,f,p,g,v,y,d=[F];for(f=0;f<o.length;f++){if(s=o[f].replace(/^\s+/,"").replace(/\s+$/,""),s.indexOf("#")>-1){a=s.split("#"),u=a[0];var m=a[1],_=F.getElementById(m);if(!_||u&&_.nodeName.toLowerCase()!=u)return[];d=[_];continue}if(s.indexOf(".")>-1){a=s.split("."),u=a[0];var w=a[1];for(u||(u="*"),c=[],l=0,p=0;p<d.length;p++)for(u=="*"?v=e(d[p]):v=d[p].getElementsByTagName(u),g=0;g<v.length;g++)c[l++]=v[g];for(d=[],y=0,p=0;p<c.length;p++)c[p].className&&h.isString(c[p].className)&&i(c[p],w)&&(d[y++]=c[p]);continue}var C=s.match(wm);if(C){u=C[1];var x=C[2],k=C[3],R=C[4];for(u||(u="*"),c=[],l=0,p=0;p<d.length;p++)for(u=="*"?v=e(d[p]):v=d[p].getElementsByTagName(u),g=0;g<v.length;g++)c[l++]=v[g];d=[],y=0;var T;switch(k){case"=":T=function(M){return M.getAttribute(x)==R};break;case"~":T=function(M){return M.getAttribute(x).match(new RegExp("\\b"+R+"\\b"))};break;case"|":T=function(M){return M.getAttribute(x).match(new RegExp("^"+R+"-?"))};break;case"^":T=function(M){return M.getAttribute(x).indexOf(R)===0};break;case"$":T=function(M){return M.getAttribute(x).lastIndexOf(R)==M.getAttribute(x).length-R.length};break;case"*":T=function(M){return M.getAttribute(x).indexOf(R)>-1};break;default:T=function(M){return M.getAttribute(x)}}for(d=[],y=0,p=0;p<c.length;p++)T(c[p])&&(d[y++]=c[p]);continue}for(u=s,c=[],l=0,p=0;p<d.length;p++)for(v=d[p].getElementsByTagName(u),g=0;g<v.length;g++)c[l++]=v[g];d=c}return d}return function(r){return h.isElement(r)?[r]:h.isObject(r)&&!h.isUndefined(r.length)?r:t.call(this,r)}}();var Sm=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],Cm=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];h.info={campaignParams:function(e){var n="",i={};return h.each(Sm,function(t){n=h.getQueryParam(F.URL,t),n.length?i[t]=n:e!==void 0&&(i[t]=e)}),i},clickParams:function(){var e="",n={};return h.each(Cm,function(i){e=h.getQueryParam(F.URL,i),e.length&&(n[i]=e)}),n},marketingParams:function(){return h.extend(h.info.campaignParams(),h.info.clickParams())},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var n=h.info.searchEngine(e),i=n!="yahoo"?"q":"p",t={};if(n!==null){t.$search_engine=n;var r=h.getQueryParam(e,i);r.length&&(t.mp_keyword=r)}return t},browser:function(e,n,i){return n=n||"",i||h.includes(e," OPR/")?h.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":h.includes(e,"IEMobile")||h.includes(e,"WPDesktop")?"Internet Explorer Mobile":h.includes(e,"SamsungBrowser/")?"Samsung Internet":h.includes(e,"Edge")||h.includes(e,"Edg/")?"Microsoft Edge":h.includes(e,"FBIOS")?"Facebook Mobile":h.includes(e,"Whale/")?"Whale Browser":h.includes(e,"Chrome")?"Chrome":h.includes(e,"CriOS")?"Chrome iOS":h.includes(e,"UCWEB")||h.includes(e,"UCBrowser")?"UC Browser":h.includes(e,"FxiOS")?"Firefox iOS":h.includes(n,"Apple")?h.includes(e,"Mobile")?"Mobile Safari":"Safari":h.includes(e,"Android")?"Android Mobile":h.includes(e,"Konqueror")?"Konqueror":h.includes(e,"Firefox")?"Firefox":h.includes(e,"MSIE")||h.includes(e,"Trident/")?"Internet Explorer":h.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,n,i){var t=h.info.browser(e,n,i),r={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/,"Whale Browser":/Whale\/(\d+(\.\d+)?)/},o=r[t];if(o===void 0)return null;var s=e.match(o);return s?parseFloat(s[s.length-2]):null},os:function(){var e=tt;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var n=e.split("/");return n.length>=3?n[2]:""},currentUrl:function(){return I.location.href},properties:function(e){return typeof e!="object"&&(e={}),h.extend(h.strip_empty_properties({$os:h.info.os(),$browser:h.info.browser(tt,ft.vendor,kr),$referrer:F.referrer,$referring_domain:h.info.referringDomain(F.referrer),$device:h.info.device(tt)}),{$current_url:h.info.currentUrl(),$browser_version:h.info.browserVersion(tt,ft.vendor,kr),$screen_height:Qa.height,$screen_width:Qa.width,mp_lib:"web",$lib_version:Ge.LIB_VERSION,$insert_id:Ss(),time:h.timestamp()/1e3},h.strip_empty_properties(e))},people_properties:function(){return h.extend(h.strip_empty_properties({$os:h.info.os(),$browser:h.info.browser(tt,ft.vendor,kr)}),{$browser_version:h.info.browserVersion(tt,ft.vendor,kr)})},mpPageViewProperties:function(){return h.strip_empty_properties({current_page_title:F.title,current_domain:I.location.hostname,current_url_path:I.location.pathname,current_url_protocol:I.location.protocol,current_url_search:I.location.search})}};var xm=function(e,n){var i=null,t=[];return function(r){var o=this;return t.push(r),i||(i=new J(function(s){setTimeout(function(){var a=e.apply(o,[t]);i=null,t=[],s(a)},n)})),i}},Ss=function(e){var n=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?n.substring(0,e):n},Im=function(){var e=h.UUID().replace(/-/g,""),n=h.UUID().replace(/-/g,"").substring(0,16),i="01";return"00-"+e+"-"+n+"-"+i},Em=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,km=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,iu=function(e){var n=km,i=e.split("."),t=i[i.length-1];(t.length>4||t==="com"||t==="org")&&(n=Em);var r=e.match(n);return r?r[0]:""},Om=function(){var e=I.navigator.onLine;return h.isUndefined(e)||e},xt=function(){},dr=null,ti=null;typeof JSON<"u"&&(dr=JSON.stringify,ti=JSON.parse);dr=dr||h.JSONEncode;ti=ti||h.JSONDecode;var Am=function(e,n,i){if(!I.CompressionStream)return!1;var t=h.info.browser(e,n,i),r=h.info.browserVersion(e,n,i);return!((t==="Safari"||t==="Mobile Safari")&&r>=16.4&&r<16.6)};h.info=h.info;h.info.browser=h.info.browser;h.info.browserVersion=h.info.browserVersion;h.info.device=h.info.device;h.info.properties=h.info.properties;h.isBlockedUA=h.isBlockedUA;h.isEmptyObject=h.isEmptyObject;h.isObject=h.isObject;h.JSONDecode=h.JSONDecode;h.JSONEncode=h.JSONEncode;h.toArray=h.toArray;h.NPO=Mt;var Rm="mixpanelBrowserDb",Il="mixpanelRecordingEvents",Cs="mixpanelRecordingRegistry",Tm=1,Mm=[Il,Cs],Je=function(e){this.dbPromise=null,this.storeName=e};Je.prototype._openDb=function(){return new J(function(e,n){var i=I.indexedDB.open(Rm,Tm);i.onerror=function(){n(i.error)},i.onsuccess=function(){e(i.result)},i.onupgradeneeded=function(t){var r=t.target.result;Mm.forEach(function(o){r.createObjectStore(o)})}})};Je.prototype.init=function(){return I.indexedDB?(this.dbPromise||(this.dbPromise=this._openDb()),this.dbPromise.then(function(e){return e instanceof I.IDBDatabase?J.resolve():J.reject(e)})):J.reject("indexedDB is not supported in this browser")};Je.prototype.isInitialized=function(){return!!this.dbPromise};Je.prototype.makeTransaction=function(e,n){var i=this.storeName,t=function(r){return new J(function(o,s){var a=r.transaction(i,e);a.oncomplete=function(){o(a)},a.onabort=a.onerror=function(){s(a.error)},n(a.objectStore(i))})};return this.dbPromise.then(t).catch((function(r){return r&&r.name==="InvalidStateError"?(this.dbPromise=this._openDb(),this.dbPromise.then(t)):J.reject(r)}).bind(this))};Je.prototype.setItem=function(e,n){return this.makeTransaction("readwrite",function(i){i.put(n,e)})};Je.prototype.getItem=function(e){var n;return this.makeTransaction("readonly",function(i){n=i.get(e)}).then(function(){return n.result})};Je.prototype.removeItem=function(e){return this.makeTransaction("readwrite",function(n){n.delete(e)})};Je.prototype.getAll=function(){var e;return this.makeTransaction("readonly",function(n){e=n.getAll()}).then(function(){return e.result})};var Nm="__mp_opt_in_out_";function Pm(e,n){Ol(!0,e,n)}function Lm(e,n){Ol(!1,e,n)}function $m(e,n){return kl(e,n)==="1"}function El(e,n){if(Fm(n))return q.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var i=kl(e,n)==="0";return i&&q.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),i}function Nt(e){return Es(e,function(n){return this.get_config(n)})}function Pt(e){return Es(e,function(n){return this._get_config(n)})}function mr(e){return Es(e,function(n){return this._get_config(n)})}function Dm(e,n){n=n||{},xs(n).remove(Is(e,n),!!n.crossSubdomainCookie,n.cookieDomain)}function xs(e){return e=e||{},e.persistenceType==="localStorage"?h.localStorage:h.cookie}function Is(e,n){return n=n||{},(n.persistencePrefix||Nm)+e}function kl(e,n){return xs(n).get(Is(e,n))}function Fm(e){if(e&&e.ignoreDnt)return!1;var n=e&&e.window||I,i=n.navigator||{},t=!1;return h.each([i.doNotTrack,i.msDoNotTrack,n.doNotTrack],function(r){h.includes([!0,1,"1","yes"],r)&&(t=!0)}),t}function Ol(e,n,i){if(!h.isString(n)||!n.length){q.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}i=i||{},xs(i).set(Is(n,i),e?1:0,h.isNumber(i.cookieExpiration)?i.cookieExpiration:null,!!i.crossSubdomainCookie,!!i.secureCookie,!!i.crossSiteCookie,i.cookieDomain),i.track&&e&&i.track(i.trackEventName||"$opt_in",i.trackProperties,{send_immediately:!0})}function Es(e,n){return function(){var i=!1;try{var t=n.call(this,"token"),r=n.call(this,"ignore_dnt"),o=n.call(this,"opt_out_tracking_persistence_type"),s=n.call(this,"opt_out_tracking_cookie_prefix"),a=n.call(this,"window");t&&(i=El(t,{ignoreDnt:r,persistenceType:o,persistencePrefix:s,window:a}))}catch(c){q.error("Unexpected error when checking tracking opt-out status: "+c)}if(!i)return e.apply(this,arguments);var u=arguments[arguments.length-1];typeof u=="function"&&u(0)}}var Um=Ht("lock"),Al=function(e,n){n=n||{},this.storageKey=e,this.storage=n.storage||I.localStorage,this.pollIntervalMS=n.pollIntervalMS||100,this.timeoutMS=n.timeoutMS||2e3,this.promiseImpl=n.promiseImpl||J};Al.prototype.withLock=function(e,n){var i=this.promiseImpl;return new i(h.bind(function(t,r){var o=n||new Date().getTime()+"|"+Math.random(),s=new Date().getTime(),a=this.storageKey,u=this.pollIntervalMS,c=this.timeoutMS,l=this.storage,f=a+":X",p=a+":Y",g=a+":Z",v=function(w){if(new Date().getTime()-s>c){Um.error("Timeout waiting for mutex on "+a+"; clearing lock. ["+o+"]"),l.removeItem(g),l.removeItem(p),m();return}setTimeout(function(){try{w()}catch(C){r(C)}},u*(Math.random()+.1))},y=function(w,C){w()?C():v(function(){y(w,C)})},d=function(){var w=l.getItem(p);return w&&w!==o?!1:(l.setItem(p,o),l.getItem(p)===o?!0:(Jr(l,!0)||r(new Error("localStorage support dropped while acquiring lock")),!1))},m=function(){l.setItem(f,o),y(d,function(){if(l.getItem(f)===o){_();return}v(function(){if(l.getItem(p)!==o){m();return}y(function(){return!l.getItem(g)},_)})})},_=function(){l.setItem(g,"1");var w=function(){l.removeItem(g),l.getItem(p)===o&&l.removeItem(p),l.getItem(f)===o&&l.removeItem(f)};e().then(function(C){w(),t(C)}).catch(function(C){w(),r(C)})};try{if(Jr(l,!0))m();else throw new Error("localStorage support check failed")}catch(w){r(w)}},this))};var yr=function(e){this.storage=e||I.localStorage};yr.prototype.init=function(){return J.resolve()};yr.prototype.isInitialized=function(){return!0};yr.prototype.setItem=function(e,n){return new J(h.bind(function(i,t){try{this.storage.setItem(e,dr(n))}catch(r){t(r)}i()},this))};yr.prototype.getItem=function(e){return new J(h.bind(function(n,i){var t;try{t=ti(this.storage.getItem(e))}catch(r){i(r)}n(t)},this))};yr.prototype.removeItem=function(e){return new J(h.bind(function(n,i){try{this.storage.removeItem(e)}catch(t){i(t)}n()},this))};var ou=Ht("batch"),it=function(e,n){n=n||{},this.storageKey=e,this.usePersistence=n.usePersistence,this.usePersistence&&(this.queueStorage=n.queueStorage||new yr,this.lock=new Al(e,{storage:n.sharedLockStorage||I.localStorage,timeoutMS:n.sharedLockTimeoutMS})),this.reportError=n.errorReporter||h.bind(ou.error,ou),this.pid=n.pid||null,this.memQueue=[],this.initialized=!1,n.enqueueThrottleMs?this.enqueuePersisted=xm(h.bind(this._enqueuePersisted,this),n.enqueueThrottleMs):this.enqueuePersisted=h.bind(function(i){return this._enqueuePersisted([i])},this)};it.prototype.ensureInit=function(){return this.initialized||!this.usePersistence?J.resolve():this.queueStorage.init().then(h.bind(function(){this.initialized=!0},this)).catch(h.bind(function(e){this.reportError("Error initializing queue persistence. Disabling persistence",e),this.initialized=!0,this.usePersistence=!1},this))};it.prototype.enqueue=function(e,n){var i={id:Ss(),flushAfter:new Date().getTime()+n*2,payload:e};return this.usePersistence?this.enqueuePersisted(i):(this.memQueue.push(i),J.resolve(!0))};it.prototype._enqueuePersisted=function(e){var n=h.bind(function(){return this.ensureInit().then(h.bind(function(){return this.readFromStorage()},this)).then(h.bind(function(i){return this.saveToStorage(i.concat(e))},this)).then(h.bind(function(i){return i&&(this.memQueue=this.memQueue.concat(e)),i},this)).catch(h.bind(function(i){return this.reportError("Error enqueueing items",i,e),!1},this))},this);return this.lock.withLock(n,this.pid).catch(h.bind(function(i){return this.reportError("Error acquiring storage lock",i),!1},this))};it.prototype.fillBatch=function(e){var n=this.memQueue.slice(0,e);return this.usePersistence&&n.length<e?this.ensureInit().then(h.bind(function(){return this.readFromStorage()},this)).then(h.bind(function(i){if(i.length){var t={};h.each(n,function(s){t[s.id]=!0});for(var r=0;r<i.length;r++){var o=i[r];if(new Date().getTime()>o.flushAfter&&!t[o.id]&&(o.orphaned=!0,n.push(o),n.length>=e))break}}return n},this)):J.resolve(n)};var su=function(e,n){var i=[];return h.each(e,function(t){t.id&&!n[t.id]&&i.push(t)}),i};it.prototype.removeItemsByID=function(e){var n={};if(h.each(e,function(t){n[t]=!0}),this.memQueue=su(this.memQueue,n),this.usePersistence){var i=h.bind(function(){return this.ensureInit().then(h.bind(function(){return this.readFromStorage()},this)).then(h.bind(function(t){return t=su(t,n),this.saveToStorage(t)},this)).then(h.bind(function(){return this.readFromStorage()},this)).then(h.bind(function(t){for(var r=0;r<t.length;r++){var o=t[r];if(o.id&&n[o.id])throw new Error("Item not removed from storage")}return!0},this)).catch(h.bind(function(t){return this.reportError("Error removing items",t,e),!1},this))},this);return this.lock.withLock(i,this.pid).catch(h.bind(function(t){return this.reportError("Error acquiring storage lock",t),Jr(this.lock.storage,!0)?!1:i().then(h.bind(function(r){return r||this.queueStorage.removeItem(this.storageKey).then(function(){return r})},this)).catch(h.bind(function(r){return this.reportError("Error clearing queue",r),!1},this))},this))}else return J.resolve(!0)};var au=function(e,n){var i=[];return h.each(e,function(t){var r=t.id;if(r in n){var o=n[r];o!==null&&(t.payload=o,i.push(t))}else i.push(t)}),i};it.prototype.updatePayloads=function(e){return this.memQueue=au(this.memQueue,e),this.usePersistence?this.lock.withLock(h.bind(function(){return this.ensureInit().then(h.bind(function(){return this.readFromStorage()},this)).then(h.bind(function(i){return i=au(i,e),this.saveToStorage(i)},this)).catch(h.bind(function(i){return this.reportError("Error updating items",e,i),!1},this))},this),this.pid).catch(h.bind(function(n){return this.reportError("Error acquiring storage lock",n),!1},this)):J.resolve(!0)};it.prototype.readFromStorage=function(){return this.ensureInit().then(h.bind(function(){return this.queueStorage.getItem(this.storageKey)},this)).then(h.bind(function(e){return e&&(h.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null)),e||[]},this)).catch(h.bind(function(e){return this.reportError("Error retrieving queue",e),[]},this))};it.prototype.saveToStorage=function(e){return this.ensureInit().then(h.bind(function(){return this.queueStorage.setItem(this.storageKey,e)},this)).then(function(){return!0}).catch(h.bind(function(n){return this.reportError("Error saving queue",n),!1},this))};it.prototype.clear=function(){return this.memQueue=[],this.usePersistence?this.ensureInit().then(h.bind(function(){return this.queueStorage.removeItem(this.storageKey)},this)):J.resolve()};var Bm=10*60*1e3,Pr=Ht("batch"),He=function(e,n){this.errorReporter=n.errorReporter,this.queue=new it(e,{errorReporter:h.bind(this.reportError,this),queueStorage:n.queueStorage,sharedLockStorage:n.sharedLockStorage,sharedLockTimeoutMS:n.sharedLockTimeoutMS,usePersistence:n.usePersistence,enqueueThrottleMs:n.enqueueThrottleMs}),this.libConfig=n.libConfig,this.sendRequest=n.sendRequestFunc,this.beforeSendHook=n.beforeSendHook,this.stopAllBatching=n.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=n.flushOnlyOnInterval||!1,this._flushPromise=null};He.prototype.enqueue=function(e){return this.queue.enqueue(e,this.flushInterval)};He.prototype.start=function(){return this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};He.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};He.prototype.clear=function(){return this.queue.clear()};He.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};He.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};He.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(h.bind(function(){this.stopped||(this._flushPromise=this.flush())},this),this.flushInterval))};He.prototype.sendRequestPromise=function(e,n){return new J(h.bind(function(i){this.sendRequest(e,n,i)},this))};He.prototype.flush=function(e){if(this.requestInProgress)return Pr.log("Flush: Request already in progress"),J.resolve();this.requestInProgress=!0,e=e||{};var n=this.libConfig.batch_request_timeout_ms,i=new Date().getTime(),t=this.batchSize;return this.queue.fillBatch(t).then(h.bind(function(r){var o=r.length===t,s=[],a={};if(h.each(r,function(f){var p=f.payload;if(this.beforeSendHook&&!f.orphaned&&(p=this.beforeSendHook(p)),p){p.event&&p.properties&&(p.properties=h.extend({},p.properties,{mp_sent_by_lib_version:Ge.LIB_VERSION}));var g=!0,v=f.id;v?(this.itemIdsSentSuccessfully[v]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:f,batchSize:r.length,timesSent:this.itemIdsSentSuccessfully[v]}),g=!1):this.reportError("[dupe] found item with no ID",{item:f}),g&&s.push(p)}a[f.id]=p},this),s.length<1)return this.requestInProgress=!1,this.resetFlush(),J.resolve();var u=h.bind(function(){return this.queue.removeItemsByID(h.map(r,function(f){return f.id})).then(h.bind(function(f){return h.each(r,h.bind(function(p){var g=p.id;g?(this.itemIdsSentSuccessfully[g]=this.itemIdsSentSuccessfully[g]||0,this.itemIdsSentSuccessfully[g]++,this.itemIdsSentSuccessfully[g]>5&&this.reportError("[dupe] item ID sent too many times",{item:p,batchSize:r.length,timesSent:this.itemIdsSentSuccessfully[g]})):this.reportError("[dupe] found item with no ID while removing",{item:p})},this)),f?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!o?(this.resetFlush(),J.resolve()):this.flush()):(++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush(),J.resolve())},this))},this),c=h.bind(function(f){this.requestInProgress=!1;try{if(e.unloading)return this.queue.updatePayloads(a);if(h.isObject(f)&&f.error==="timeout"&&new Date().getTime()-i>=n)return this.reportError("Network timeout; retrying"),this.flush();if(h.isObject(f)&&(f.httpStatusCode>=500||f.httpStatusCode===429||f.httpStatusCode<=0&&!Om()||f.error==="timeout")){var p=this.flushInterval*2;return f.retryAfter&&(p=parseInt(f.retryAfter,10)*1e3||p),p=Math.min(Bm,p),this.reportError("Error; retry in "+p+" ms"),this.scheduleFlush(p),J.resolve()}else if(h.isObject(f)&&f.httpStatusCode===413)if(r.length>1){var g=Math.max(1,Math.floor(t/2));return this.batchSize=Math.min(this.batchSize,g,r.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush(),J.resolve()}else return this.reportError("Single-event request too large; dropping",r),this.resetBatchSize(),u();else return u()}catch(v){this.reportError("Error handling API response",v),this.resetFlush()}},this),l={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:n};return e.unloading&&(l.transport="sendBeacon"),Pr.log("MIXPANEL REQUEST:",s),this.sendRequestPromise(s,l).then(c)},this)).catch(h.bind(function(r){this.reportError("Error flushing request queue",r),this.resetFlush()},this))};He.prototype.reportError=function(e,n){if(Pr.error.apply(Pr.error,arguments),this.errorReporter)try{n instanceof Error||(n=new Error(e)),this.errorReporter(e,n)}catch(i){Pr.error(i)}};var ks=function(e){var n=Date.now();return!e||n>e.maxExpires||n>e.idleExpires},jm=250,or=Ht("recorder"),zm=I.CompressionStream,Wm={batch_size:1e3,batch_flush_interval_ms:10*1e3,batch_request_timeout_ms:90*1e3,batch_autostart:!0},Vm=new Set([D.MouseMove,D.MouseInteraction,D.Scroll,D.ViewportResize,D.Input,D.TouchMove,D.MediaInteraction,D.Drag,D.Selection]);function qm(e){return e.type===K.IncrementalSnapshot&&Vm.has(e.data.source)}var ke=function(e){this._mixpanel=e.mixpanelInstance,this._onIdleTimeout=e.onIdleTimeout||xt,this._onMaxLengthReached=e.onMaxLengthReached||xt,this._onBatchSent=e.onBatchSent||xt,this._rrwebRecord=e.rrwebRecord||null,this._stopRecording=null,this.replayId=e.replayId,this.batchStartUrl=e.batchStartUrl||null,this.replayStartUrl=e.replayStartUrl||null,this.idleExpires=e.idleExpires||null,this.maxExpires=e.maxExpires||null,this.replayStartTime=e.replayStartTime||null,this.lastEventTimestamp=e.lastEventTimestamp||null,this.seqNo=e.seqNo||0,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=Nr,this.recordMinMs=0;var n=Jr(e.sharedLockStorage,!0)&&!this.getConfig("disable_persistence");this.batcherKey="__mprec_"+this.getConfig("name")+"_"+this.getConfig("token")+"_"+this.replayId,this.queueStorage=new Je(Il),this.batcher=new He(this.batcherKey,{errorReporter:this.reportError.bind(this),flushOnlyOnInterval:!0,libConfig:Wm,sendRequestFunc:this.flushEventsWithOptOut.bind(this),queueStorage:this.queueStorage,sharedLockStorage:e.sharedLockStorage,usePersistence:n,stopAllBatchingFunc:this.stopRecording.bind(this),enqueueThrottleMs:jm,sharedLockTimeoutMS:10*1e3})};ke.prototype.getUserIdInfo=function(){if(this.finalFlushUserIdInfo)return this.finalFlushUserIdInfo;var e={distinct_id:String(this._mixpanel.get_distinct_id())},n=this._mixpanel.get_property("$device_id");n&&(e.$device_id=n);var i=this._mixpanel.get_property("$user_id");return i&&(e.$user_id=i),e};ke.prototype.unloadPersistedData=function(){return this.batcher.stop(),this.queueStorage.init().catch((function(){this.reportError("Error initializing IndexedDB storage for unloading persisted data.")}).bind(this)).then((function(){return this.getDurationMs()<this._getRecordMinMs()?this.queueStorage.removeItem(this.batcherKey):this.batcher.flush().then((function(){return this.queueStorage.removeItem(this.batcherKey)}).bind(this))}).bind(this))};ke.prototype.getConfig=function(e){return this._mixpanel.get_config(e)};ke.prototype.get_config=function(e){return this.getConfig(e)};ke.prototype.startRecording=function(e){if(this._rrwebRecord===null){this.reportError("rrweb record function not provided. ");return}if(this._stopRecording!==null){or.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.getConfig("record_max_ms"),this.recordMaxMs>Nr&&(this.recordMaxMs=Nr,or.critical("record_max_ms cannot be greater than "+Nr+"ms. Capping value.")),this.maxExpires||(this.maxExpires=new Date().getTime()+this.recordMaxMs),this.recordMinMs=this._getRecordMinMs(),this.replayStartTime||(this.replayStartTime=new Date().getTime(),this.batchStartUrl=h.info.currentUrl(),this.replayStartUrl=h.info.currentUrl()),e||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var n=(function(){clearTimeout(this.idleTimeoutId);var r=this.getConfig("record_idle_timeout_ms");this.idleTimeoutId=setTimeout(this._onIdleTimeout,r),this.idleExpires=new Date().getTime()+r}).bind(this);n();var i=this.getConfig("record_block_selector");(i===""||i===null)&&(i=void 0);try{this._stopRecording=this._rrwebRecord({emit:(function(r){if(this.idleExpires&&this.idleExpires<r.timestamp){this._onIdleTimeout();return}qm(r)&&(this.batcher.stopped&&new Date().getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),n()),this.__enqueuePromise=this.batcher.enqueue(r),(this.lastEventTimestamp===null||r.timestamp>this.lastEventTimestamp)&&(this.lastEventTimestamp=r.timestamp)}).bind(this),blockClass:this.getConfig("record_block_class"),blockSelector:i,collectFonts:this.getConfig("record_collect_fonts"),dataURLOptions:{type:"image/webp",quality:.6},maskAllInputs:!0,maskTextClass:this.getConfig("record_mask_text_class"),maskTextSelector:this.getConfig("record_mask_text_selector"),recordCanvas:this.getConfig("record_canvas"),sampling:{canvas:15},plugins:this.getConfig("record_console")?[dm({stringifyOptions:{stringLengthLimit:1e3,numOfKeysLimit:50,depthOfLimit:2}})]:[]})}catch(r){this.reportError("Unexpected error when starting rrweb recording.",r)}if(typeof this._stopRecording!="function"){this.reportError("rrweb failed to start, skipping this recording."),this._stopRecording=null,this.stopRecording();return}var t=this.maxExpires-new Date().getTime();this.maxTimeoutId=setTimeout(this._onMaxLengthReached.bind(this),t)};ke.prototype.stopRecording=function(e){if(this.finalFlushUserIdInfo=this.getUserIdInfo(),!this.isRrwebStopped()){try{this._stopRecording()}catch(i){this.reportError("Error with rrweb stopRecording",i)}this._stopRecording=null}var n;return this.batcher.stopped?n=this.batcher.clear():e||(n=this.batcher.flush()),this.batcher.stop(),clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId),n};ke.prototype.isRrwebStopped=function(){return this._stopRecording===null};ke.prototype.flushEventsWithOptOut=function(e,n,i){var t=(function(r){r===0&&(this.stopRecording(),i({error:"Tracking has been opted out, stopping recording."}))}).bind(this);this._flushEvents(e,n,i,t)};ke.prototype.serialize=function(){var e;try{e=this._mixpanel.get_tab_id()}catch(n){this.reportError("Error getting tab ID for serialization ",n),e=null}return{replayId:this.replayId,seqNo:this.seqNo,replayStartTime:this.replayStartTime,batchStartUrl:this.batchStartUrl,replayStartUrl:this.replayStartUrl,lastEventTimestamp:this.lastEventTimestamp,idleExpires:this.idleExpires,maxExpires:this.maxExpires,tabId:e}};ke.deserialize=function(e,n){var i=new ke(h.extend({},n,{replayId:e.replayId,batchStartUrl:e.batchStartUrl,replayStartUrl:e.replayStartUrl,idleExpires:e.idleExpires,maxExpires:e.maxExpires,replayStartTime:e.replayStartTime,lastEventTimestamp:e.lastEventTimestamp,seqNo:e.seqNo,sharedLockStorage:n.sharedLockStorage}));return i};ke.prototype._sendRequest=function(e,n,i,t){var r=(function(s,a){s.status===200&&this.replayId===e&&(this.seqNo++,this.batchStartUrl=h.info.currentUrl()),this._onBatchSent(),t({status:0,httpStatusCode:s.status,responseBody:a,retryAfter:s.headers.get("Retry-After")})}).bind(this),o=this._mixpanel.get_api_host&&this._mixpanel.get_api_host("record")||this.getConfig("api_host");I.fetch(o+"/"+this.getConfig("api_routes").record+"?"+new URLSearchParams(n),{method:"POST",headers:{Authorization:"Basic "+btoa(this.getConfig("token")+":"),"Content-Type":"application/octet-stream"},body:i}).then(function(s){s.json().then(function(a){r(s,a)}).catch(function(a){t({error:a})})}).catch(function(s){t({error:s,httpStatusCode:0})})};ke.prototype._flushEvents=Nt(function(e,n,i){var t=e.length;if(t>0){for(var r=this.replayId,o=1/0,s=-1/0,a=!1,u=0;u<t;u++)o=Math.min(o,e[u].timestamp),s=Math.max(s,e[u].timestamp),e[u].type===K.FullSnapshot&&(a=!0);if(this.seqNo===0){if(!a){i({error:"First batch does not contain a full snapshot. Aborting recording."}),this.stopRecording(!0);return}this.replayStartTime=o}else this.replayStartTime||(this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=o);var c=s-this.replayStartTime,l={$current_url:this.batchStartUrl,$lib_version:Ge.LIB_VERSION,batch_start_time:o/1e3,mp_lib:"web",replay_id:r,replay_length_ms:c,replay_start_time:this.replayStartTime/1e3,replay_start_url:this.replayStartUrl,seq:this.seqNo},f=JSON.stringify(e);if(Object.assign(l,this.getUserIdInfo()),Am(tt,ft.vendor,kr)){var p=new Blob([f],{type:"application/json"}).stream(),g=p.pipeThrough(new zm("gzip"));new Response(g).blob().then((function(v){l.format="gzip",this._sendRequest(r,l,v,i)}).bind(this))}else l.format="body",this._sendRequest(r,l,f,i)}});ke.prototype.reportError=function(e,n){or.error.apply(or.error,arguments);try{!n&&!(e instanceof Error)&&(e=new Error(e)),this.getConfig("error_reporter")(e,n)}catch(i){or.error(i)}};ke.prototype.getDurationMs=function(){return this.replayStartTime===null?0:this.lastEventTimestamp===null?new Date().getTime()-this.replayStartTime:this.lastEventTimestamp-this.replayStartTime};ke.prototype._getRecordMinMs=function(){var e=this.getConfig("record_min_ms");return e>Hi?(or.critical("record_min_ms cannot be greater than "+Hi+"ms. Capping value."),Hi):e};var gt=function(e){this.idb=new Je(Cs),this.errorReporter=e.errorReporter,this.mixpanelInstance=e.mixpanelInstance,this.sharedLockStorage=e.sharedLockStorage};gt.prototype.isPersistenceEnabled=function(){return!this.mixpanelInstance.get_config("disable_persistence")};gt.prototype.handleError=function(e){this.errorReporter("IndexedDB error: ",e)};gt.prototype.setActiveRecording=function(e){if(!this.isPersistenceEnabled())return J.resolve();var n=e.tabId;return n?this.idb.init().then((function(){return this.idb.setItem(n,e)}).bind(this)).catch(this.handleError.bind(this)):(console.warn("No tab ID is set, cannot persist recording metadata."),J.resolve())};gt.prototype.getActiveRecording=function(){return this.isPersistenceEnabled()?this.idb.init().then((function(){return this.idb.getItem(this.mixpanelInstance.get_tab_id())}).bind(this)).then((function(e){return ks(e)?null:e}).bind(this)).catch(this.handleError.bind(this)):J.resolve(null)};gt.prototype.clearActiveRecording=function(){return this.isPersistenceEnabled()?this.markActiveRecordingExpired():this.deleteActiveRecording()};gt.prototype.markActiveRecordingExpired=function(){return this.getActiveRecording().then((function(e){if(e)return e.maxExpires=0,this.setActiveRecording(e)}).bind(this)).catch(this.handleError.bind(this))};gt.prototype.deleteActiveRecording=function(){return this.idb.isInitialized()?this.idb.removeItem(this.mixpanelInstance.get_tab_id()).catch(this.handleError.bind(this)):J.resolve()};gt.prototype.flushInactiveRecordings=function(){return this.isPersistenceEnabled()?this.idb.init().then((function(){return this.idb.getAll()}).bind(this)).then((function(e){var n=e.filter(function(i){return ks(i)}).map((function(i){var t=ke.deserialize(i,{mixpanelInstance:this.mixpanelInstance,sharedLockStorage:this.sharedLockStorage});return t.unloadPersistedData().then((function(){return this.idb.removeItem(i.tabId)}).bind(this)).catch(this.handleError.bind(this))}).bind(this));return J.all(n)}).bind(this)).catch(this.handleError.bind(this)):J.resolve([])};var Lr=Ht("recorder"),mt=function(e,n,i){this.mixpanelInstance=e,this.rrwebRecord=n||Tt,this.sharedLockStorage=i,this.recordingRegistry=new gt({mixpanelInstance:this.mixpanelInstance,errorReporter:Lr.error,sharedLockStorage:i}),this._flushInactivePromise=this.recordingRegistry.flushInactiveRecordings(),this.activeRecording=null,this.stopRecordingInProgress=!1};mt.prototype.startRecording=function(e){if(e=e||{},this.activeRecording&&!this.activeRecording.isRrwebStopped()){Lr.log("Recording already in progress, skipping startRecording.");return}var n=(function(){Lr.log("Idle timeout reached, restarting recording."),this.resetRecording()}).bind(this),i=(function(){Lr.log("Max recording length reached, stopping recording."),this.resetRecording()}).bind(this),t=(function(){this.recordingRegistry.setActiveRecording(this.activeRecording.serialize()),this.__flushPromise=this.activeRecording.batcher._flushPromise}).bind(this),r={mixpanelInstance:this.mixpanelInstance,onBatchSent:t,onIdleTimeout:n,onMaxLengthReached:i,replayId:h.UUID(),rrwebRecord:this.rrwebRecord,sharedLockStorage:this.sharedLockStorage};return e.activeSerializedRecording?this.activeRecording=ke.deserialize(e.activeSerializedRecording,r):this.activeRecording=new ke(r),this.activeRecording.startRecording(e.shouldStopBatcher),this.recordingRegistry.setActiveRecording(this.activeRecording.serialize())};mt.prototype.stopRecording=function(){return this.stopRecordingInProgress=!0,this._stopCurrentRecording(!1,!0).then((function(){return this.recordingRegistry.clearActiveRecording()}).bind(this)).then((function(){this.stopRecordingInProgress=!1}).bind(this))};mt.prototype.pauseRecording=function(){return this._stopCurrentRecording(!1)};mt.prototype._stopCurrentRecording=function(e,n){if(this.activeRecording){var i=this.activeRecording.stopRecording(e);return n&&(this.activeRecording=null),i}return J.resolve()};mt.prototype.resumeRecording=function(e){return this.activeRecording&&this.activeRecording.isRrwebStopped()?(this.activeRecording.startRecording(!1),J.resolve(null)):this.recordingRegistry.getActiveRecording().then((function(n){return n&&!this.stopRecordingInProgress?this.startRecording({activeSerializedRecording:n}):e?this.startRecording({shouldStopBatcher:!1}):(Lr.log("No resumable recording found."),null)}).bind(this))};mt.prototype.resetRecording=function(){this.stopRecording(),this.startRecording({shouldStopBatcher:!0})};mt.prototype.getActiveReplayId=function(){return this.activeRecording&&!this.activeRecording.isRrwebStopped()?this.activeRecording.replayId:null};Object.defineProperty(mt.prototype,"replayId",{get:function(){return this.getActiveReplayId()}});I.__mp_recorder=mt;var Xr="change",vt="click",jo="hashchange",Gm="input",uu="load",Ct="mp_locationchange",cu="popstate",Ei="scrollend",Os="scroll",Hm="select",ri="submit",Ym="toggle",lu="visibilitychange",Km=["clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","x","y"],fu=["mp-include"],zo=["mp-no-track"],hu=zo.concat(["mp-sensitive"]),Jm=["aria-label","aria-labelledby","aria-describedby","href","name","role","title","type"],Xm={button:!0,checkbox:!0,combobox:!0,grid:!0,link:!0,listbox:!0,menu:!0,menubar:!0,menuitem:!0,menuitemcheckbox:!0,menuitemradio:!0,navigation:!0,option:!0,radio:!0,radiogroup:!0,searchbox:!0,slider:!0,spinbutton:!0,switch:!0,tab:!0,tablist:!0,textbox:!0,tree:!0,treegrid:!0,treeitem:!0},Zm={base:!0,head:!0,html:!0,link:!0,meta:!0,script:!0,style:!0,title:!0,br:!0,hr:!0,wbr:!0,noscript:!0,picture:!0,source:!0,template:!0,track:!0},Qm={article:!0,div:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,p:!0,section:!0,span:!0},pu=["onclick","onmousedown","onmouseup","onpointerdown","onpointerup","ontouchend","ontouchstart"],ey=5,ue=Ht("autocapture");function Wo(e){for(var n={},i=Rl(e).split(" "),t=0;t<i.length;t++){var r=i[t];r&&(n[r]=!0)}return n}function Rl(e){switch(typeof e.className){case"string":return e.className;case"object":return e.className.baseVal||e.getAttribute("class")||"";default:return""}}function ty(e){if(e.previousElementSibling)return e.previousElementSibling;do e=e.previousSibling;while(e&&!Tl(e));return e}function du(e,n,i,t,r,o){var s={$classes:Rl(e).split(" "),$tag_name:e.tagName.toLowerCase()},a=e.id;a&&(s.$id=a),As(e,n,r,o)&&h.each(Jm.concat(t),function(f){if(e.hasAttribute(f)&&!i[f]){var p=e.getAttribute(f);ni(p)&&(s["$attr-"+f]=p)}});for(var u=1,c=1,l=e;l=ty(l);)u++,l.tagName===e.tagName&&c++;return s.$nth_child=u,s.$nth_of_type=c,s}function ry(e,n){var i=n.allowElementCallback,t=n.allowSelectors||[],r=n.blockAttrs||[],o=n.blockElementCallback,s=n.blockSelectors||[],a=n.captureTextContent||!1,u=n.captureExtraAttrs||[],c=n.capturedForHeatMap||!1,l={};h.each(r,function(x){l[x]=!0});var f=null,p=typeof e.target>"u"?e.srcElement:e.target;if(Ml(p)&&(p=p.parentNode),sy(p,e)&&Vo(p,e,i,t)&&!Zi(p,e,o,s)){for(var g=[p],v=p;v.parentNode&&!rt(v,"body");)g.push(v.parentNode),v=v.parentNode;var y=[],d,m=!1;if(h.each(g,function(x){var k=As(x,e,i,t);!l.href&&x.tagName.toLowerCase()==="a"&&(d=x.getAttribute("href"),d=k&&ni(d)&&d),Zi(x,e,o,s)&&(m=!0),y.push(du(x,e,l,u,i,t))},this),!m){var _=F.documentElement;if(f={$event_type:e.type,$host:I.location.host,$pathname:I.location.pathname,$elements:y,$el_attr__href:d,$viewportHeight:Math.max(_.clientHeight,I.innerHeight||0),$viewportWidth:Math.max(_.clientWidth,I.innerWidth||0),$pageHeight:F.body.offsetHeight||0,$pageWidth:F.body.offsetWidth||0},h.each(u,function(x){if(!l[x]&&p.hasAttribute(x)){var k=p.getAttribute(x);ni(k)&&(f["$el_attr__"+x]=k)}}),a&&(w=vu(p,e,i,t),w&&w.length&&(f.$el_text=w)),e.type===vt&&(h.each(Km,function(x){x in e&&(f["$"+x]=e[x])}),c&&(f.$captured_for_heatmap=!0),p=ny(e)),a){var w=vu(p,e,i,t);w&&w.length&&(f.$el_text=w)}if(p){if(!Vo(p,e,i,t)||Zi(p,e,o,s))return null;var C=du(p,e,l,u,i,t);f.$target=C,f.$el_classes=C.$classes,h.extend(f,h.strip_empty_properties({$el_id:C.$id,$el_tag_name:C.$tag_name}))}}}return f}function vu(e,n,i,t){var r="";return As(e,n,i,t)&&e.childNodes&&e.childNodes.length&&h.each(e.childNodes,function(o){Ml(o)&&o.textContent&&(r+=h.trim(o.textContent).split(/(\s+)/).filter(ni).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),h.trim(r)}function ny(e){for(var n=e.target,i=e.composedPath(),t=0;t<i.length;t++){var r=i[t];if(rt(r,"a")||rt(r,"button")||rt(r,"input")||rt(r,"select")||r.getAttribute&&r.getAttribute("role")==="button"){n=r;break}if(r===n)break}return n}function Vo(e,n,i,t){if(i)try{if(!i(e,n))return!1}catch(s){return ue.critical("Error while checking element in allowElementCallback",s),!1}if(!t.length)return!0;for(var r=0;r<t.length;r++){var o=t[r];try{if(e.matches(o))return!0}catch(s){ue.critical("Error while checking selector: "+o,s)}}return!1}function Zi(e,n,i,t){var r;if(i)try{if(i(e,n))return!0}catch(a){return ue.critical("Error while checking element in blockElementCallback",a),!0}if(t&&t.length)for(r=0;r<t.length;r++){var o=t[r];try{if(e.matches(o))return!0}catch(a){ue.critical("Error while checking selector: "+o,a)}}var s=Wo(e);for(r=0;r<zo.length;r++)if(s[zo[r]])return!0;return!1}function Tl(e){return e&&e.nodeType===1}function rt(e,n){return e&&e.tagName&&e.tagName.toLowerCase()===n.toLowerCase()}function Ml(e){return e&&e.nodeType===3}function iy(){try{var e=F.createElement("div");return!!e.matches}catch{return!1}}function oy(){return typeof WeakSet<"u"}function sy(e,n){if(!e||rt(e,"html")||!Tl(e))return!1;var i=e.tagName.toLowerCase();switch(i){case"form":return n.type===ri;case"input":return["button","submit"].indexOf(e.getAttribute("type"))===-1?n.type===Xr:n.type===vt;case"select":case"textarea":return n.type===Xr;default:return n.type===vt}}function As(e,n,i,t){var r;if(!Vo(e,n,i,t))return!1;for(var o=e;o.parentNode&&!rt(o,"body");o=o.parentNode){var s=Wo(o);for(r=0;r<hu.length;r++)if(s[hu[r]])return!1}var a=Wo(e);for(r=0;r<fu.length;r++)if(a[fu[r]])return!0;if(rt(e,"input")||rt(e,"select")||rt(e,"textarea")||e.getAttribute("contenteditable")==="true")return!1;var u=e.type||"";if(typeof u=="string")switch(u.toLowerCase()){case"hidden":return!1;case"password":return!1}var c=e.name||e.id||"";if(typeof c=="string"){var l=/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i;if(l.test(c.replace(/[^a-zA-Z0-9]/g,"")))return!1}return!0}function ni(e){if(e===null||h.isUndefined(e))return!1;if(typeof e=="string"){e=h.trim(e);var n=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(n.test((e||"").replace(/[- ]/g,"")))return!1;var i=/(^\d{3}-?\d{2}-?\d{4}$)/;if(i.test(e))return!1}return!0}function Nl(e){var n="onscrollend"in I,i=Kr(e),t=Ei;if(!n){var r=null,o=100;i=Kr(function(){clearTimeout(r),r=setTimeout(e,o)}),t=Os}return{listener:i,eventType:t}}function ay(e){for(var n=0;n<pu.length;n++)if(e.hasAttribute(pu[n]))return!0;return!1}function uy(e){var n=e.getAttribute("role");if(!n)return!1;var i=n.trim().split(/\s+/)[0].toLowerCase();return Xm[i]}function Qi(e){var n=e.tagName.toLowerCase();return!!(n==="button"||n==="input"||n==="select"||n==="textarea"||n==="details"||n==="dialog"||e.isContentEditable||e.onclick||e.onmousedown||e.onmouseup||e.ontouchstart||e.ontouchend||ay(e)||uy(e)||n==="a"&&e.hasAttribute("href")||e.hasAttribute("tabindex"))}function Pl(e){if(!e||!e.tagName)return!0;var n=e.tagName.toLowerCase();if(Zm[n])return!0;if(Qi(e))return!1;for(var i=e.parentElement,t=0;i&&t<ey;){if(Qi(i))return!1;if(i.getRootNode&&i.getRootNode()!==F){var r=i.getRootNode();if(r.host&&Qi(r.host))return!1}i=i.parentElement,t++}return!!Qm[n]}function Ll(e){return"composedPath"in e?e.composedPath():[]}function $l(e){var n=Ll(e);return n&&n.length>0?n[0]:e.target||e.srcElement}var cy=30,ly=1e3,fy=4,hy=!1;function Dl(){this.clicks=[]}Dl.prototype.isRageClick=function(e,n){n=n||{};var i=n.threshold_px||cy,t=n.timeout_ms||ly,r=n.click_count||fy,o=n.interactive_elements_only||hy;if(o){var s=$l(e);if(!s||Pl(s))return!1}var a=Date.now(),u=e.pageX,c=e.pageY,l=this.clicks[this.clicks.length-1];if(l&&a-l.timestamp<t&&Math.sqrt(Math.pow(u-l.x,2)+Math.pow(c-l.y,2))<i){if(this.clicks.push({x:u,y:c,timestamp:a}),this.clicks.length>=r)return this.clicks=[],!0}else this.clicks=[{x:u,y:c,timestamp:a}];return!1};function _r(e,n){this.changeCallback=e||function(){},this.observerConfig=n,this.observedShadowRoots=null,this.shadowObservers=[]}_r.prototype.getEventTarget=function(e){if(this.observedShadowRoots)return $l(e)};_r.prototype.observeFromEvent=function(e){if(this.observedShadowRoots)for(var n=Ll(e),i=0;i<n.length;i++){var t=n[i];t&&t.shadowRoot&&this.observeShadowRoot(t.shadowRoot)}};_r.prototype.observeShadowRoot=function(e){if(!(!this.observedShadowRoots||this.observedShadowRoots.has(e))){var n=this;try{this.observedShadowRoots.add(e);var i=new window.MutationObserver(function(){n.changeCallback()});i.observe(e,this.observerConfig),this.shadowObservers.push(i)}catch(t){ue.critical("Error while observing shadow root",t)}}};_r.prototype.start=function(){if(!this.observedShadowRoots){if(!oy()){ue.critical("Shadow DOM observation unavailable: WeakSet not supported");return}this.observedShadowRoots=new WeakSet}};_r.prototype.stop=function(){if(this.observedShadowRoots){for(var e=0;e<this.shadowObservers.length;e++)try{this.shadowObservers[e].disconnect()}catch(n){ue.critical("Error while disconnecting shadow DOM observer",n)}this.shadowObservers=[],this.observedShadowRoots=null}};var py=500,dy=[Xr,Gm,ri,Hm,Ym],vy=[Ei],gy=[jo],gu={characterData:!0,childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class","hidden","checked","selected","value","display","visibility"]};function ot(e){this.eventListeners=[],this.mutationObserver=null,this.shadowDOMObserver=null,this.isTracking=!1,this.lastChangeEventTimestamp=0,this.pendingClicks=[],this.onDeadClickCallback=e,this.processingActive=!1,this.processingTimeout=null}ot.prototype.addClick=function(e){var n=this.shadowDOMObserver&&this.shadowDOMObserver.getEventTarget(e);return n||(n=e.target||e.srcElement),!n||Pl(n)?!1:(this.shadowDOMObserver&&this.shadowDOMObserver.observeFromEvent(e),this.pendingClicks.push({element:n,event:e,timestamp:Date.now()}),!0)};ot.prototype.trackClick=function(e,n){if(!this.isTracking)return!1;var i=this.addClick(e);return i&&this.triggerProcessing(n),i};ot.prototype.getDeadClicks=function(e){if(this.pendingClicks.length===0)return[];var n=e.timeout_ms,i=Date.now(),t=this.pendingClicks.slice();this.pendingClicks=[];for(var r=[],o=0;o<t.length;o++){var s=t[o];i-s.timestamp>=n?this.hasChangesAfter(s.timestamp)||r.push(s):this.pendingClicks.push(s)}return r};ot.prototype.hasChangesAfter=function(e){return this.lastChangeEventTimestamp>=e-100};ot.prototype.recordChangeEvent=function(){this.lastChangeEventTimestamp=Date.now()};ot.prototype.triggerProcessing=function(e){this.processingActive||(this.processingActive=!0,this.processRecursively(e))};ot.prototype.processRecursively=function(e){if(!this.isTracking||!this.onDeadClickCallback){this.processingActive=!1;return}var n=e.timeout_ms,i=this;this.processingTimeout=setTimeout(function(){if(i.processingActive){for(var t=i.getDeadClicks(e),r=0;r<t.length;r++)i.onDeadClickCallback(t[r].event);i.pendingClicks.length>0?i.processRecursively(e):i.processingActive=!1}},n)};ot.prototype.startTracking=function(){if(!this.isTracking){this.isTracking=!0;var e=this;dy.forEach(function(i){var t=function(){e.recordChangeEvent()};document.addEventListener(i,t,{capture:!0,passive:!0}),e.eventListeners.push({target:document,event:i,handler:t,options:{capture:!0,passive:!0}})}),gy.forEach(function(i){var t=function(){e.recordChangeEvent()};window.addEventListener(i,t),e.eventListeners.push({target:window,event:i,handler:t})}),vy.forEach(function(i){var t=function(){e.recordChangeEvent()};window.addEventListener(i,t,{passive:!0}),e.eventListeners.push({target:window,event:i,handler:t,options:{passive:!0}})});var n=function(){e.recordChangeEvent()};if(document.addEventListener("selectionchange",n),e.eventListeners.push({target:document,event:"selectionchange",handler:n}),window.MutationObserver)try{this.mutationObserver=new window.MutationObserver(function(){e.recordChangeEvent()}),this.mutationObserver.observe(document.body||document.documentElement,gu)}catch(i){ue.critical("Error while setting up mutation observer",i)}if(window.customElements)try{this.shadowDOMObserver=new _r(function(){e.recordChangeEvent()},gu),this.shadowDOMObserver.start()}catch(i){ue.critical("Error while setting up shadow DOM observer",i),this.shadowDOMObserver=null}}};ot.prototype.stopTracking=function(){if(this.isTracking){this.isTracking=!1,this.pendingClicks=[],this.lastChangeEventTimestamp=0,this.processingActive=!1,this.processingTimeout&&(clearTimeout(this.processingTimeout),this.processingTimeout=null);for(var e=0;e<this.eventListeners.length;e++){var n=this.eventListeners[e];try{n.target.removeEventListener(n.event,n.handler,n.options)}catch(i){ue.critical("Error while removing event listener",i)}}if(this.eventListeners=[],this.mutationObserver){try{this.mutationObserver.disconnect()}catch(i){ue.critical("Error while disconnecting mutation observer",i)}this.mutationObserver=null}if(this.shadowDOMObserver){try{this.shadowDOMObserver.stop()}catch(i){ue.critical("Error while stopping shadow DOM observer",i)}this.shadowDOMObserver=null}}};var Fl="autocapture",my="track_pageview",Ul="full-url",yy="url-with-path-and-query-string",_y="url-with-path",by="allow_element_callback",Bl="allow_selectors",jl="allow_url_regexes",zl="block_attrs",Wl="block_element_callback",Vl="block_selectors",ql="block_url_regexes",Gl="capture_extra_attrs",Hl="capture_text_content",Yl="scroll_capture_all",Kl="scroll_depth_percent_checkpoints",ii="click",oi="dead_click",qo="input",Jl="pageview",si="rage_click",Go="scroll",ki="page_leave",Ho="submit",Se={};Se[Bl]=[];Se[jl]=[];Se[zl]=[];Se[Wl]=null;Se[Vl]=[];Se[ql]=[];Se[Gl]=[];Se[Hl]=!1;Se[Yl]=!1;Se[Kl]=[25,50,75,100];Se[ii]=!0;Se[oi]=!0;Se[qo]=!0;Se[Jl]=Ul;Se[si]=!0;Se[Go]=!0;Se[ki]=!1;Se[Ho]=!0;var Zr={$mp_autocapture:!0},Xl="$mp_click",Zl="$mp_dead_click",wy="$mp_input_change",Ql="$mp_rage_click",Sy="$mp_scroll",Cy="$mp_submit",xy="$mp_page_leave",be=function(e){this.mp=e,this.maxScrollViewDepth=0,this.hasTrackedScrollSession=!1,this.previousScrollHeight=0};be.prototype.init=function(){if(!iy()){ue.critical("Autocapture unavailable: missing required DOM APIs");return}this.initPageListeners(),this.initPageviewTracking(),this.initClickTracking(),this.initDeadClickTracking(),this.initInputTracking(),this.initScrollTracking(),this.initSubmitTracking(),this.initRageClickTracking(),this.initPageLeaveTracking()};be.prototype.getFullConfig=function(){var e=this.mp.get_config(Fl);return e?h.isObject(e)?h.extend({},Se,e):Se:{}};be.prototype.getConfig=function(e){return this.getFullConfig()[e]};be.prototype.currentUrlBlocked=function(){var e,n=h.info.currentUrl(),i=this.getConfig(jl)||[];if(i.length){var t=!1;for(e=0;e<i.length;e++){var r=i[e];try{if(n.match(r)){t=!0;break}}catch(s){return ue.critical("Error while checking block URL regex: "+r,s),!0}}if(!t)return!0}var o=this.getConfig(ql)||[];if(!o||!o.length)return!1;for(e=0;e<o.length;e++)try{if(n.match(o[e]))return!0}catch(s){return ue.critical("Error while checking block URL regex: "+o[e],s),!0}return!1};be.prototype.pageviewTrackingConfig=function(){return this.mp.get_config(Fl)?this.getConfig(Jl):this.mp.get_config(my)};be.prototype.trackDomEvent=function(e,n){if(!this.currentUrlBlocked()){var i=this.mp.is_recording_heatmap_data()&&(n===Xl&&!this.getConfig(ii)||n===Ql&&!this._getClickTrackingConfig(si)||n===Zl&&!this._getClickTrackingConfig(oi)),t=ry(e,{allowElementCallback:this.getConfig(by),allowSelectors:this.getConfig(Bl),blockAttrs:this.getConfig(zl),blockElementCallback:this.getConfig(Wl),blockSelectors:this.getConfig(Vl),captureExtraAttrs:this.getConfig(Gl),captureTextContent:this.getConfig(Hl),capturedForHeatMap:i});t&&(h.extend(t,Zr),this.mp.track(n,t))}};be.prototype.initPageListeners=function(){if(I.removeEventListener(cu,this.listenerPopstate),I.removeEventListener(jo,this.listenerHashchange),!(!this.pageviewTrackingConfig()&&!this.getConfig(ki)&&!this.mp.get_config("record_heatmap_data"))){this.listenerPopstate=function(){I.dispatchEvent(new Event(Ct))},this.listenerHashchange=function(){I.dispatchEvent(new Event(Ct))},I.addEventListener(cu,this.listenerPopstate),I.addEventListener(jo,this.listenerHashchange);var e=I.history.pushState;typeof e=="function"&&(I.history.pushState=function(i,t,r){e.call(I.history,i,t,r),I.dispatchEvent(new Event(Ct))});var n=I.history.replaceState;typeof n=="function"&&(I.history.replaceState=function(i,t,r){n.call(I.history,i,t,r),I.dispatchEvent(new Event(Ct))})}};be.prototype._getClickTrackingConfig=function(e){var n=this.getConfig(e);return n?n===!0?{}:typeof n=="object"?n:{}:null};be.prototype._trackPageLeave=function(e,n,i){if(!this.hasTrackedScrollSession&&!(!this.getConfig(ki)&&!this.mp.is_recording_heatmap_data())){this.hasTrackedScrollSession=!0;var t=Math.max(F.documentElement.clientHeight,I.innerHeight||0),r=Math.round(Math.max(this.maxScrollViewDepth-t,0)/(i-t)*100),o=Math.round(t/i*100);i<=t&&(r=100,o=100);var s=h.extend({$max_scroll_view_depth:this.maxScrollViewDepth,$max_scroll_percentage:r,$fold_line_percentage:o,$scroll_height:i,$event_type:e.type,$current_url:n||h.info.currentUrl(),$viewportHeight:t,$viewportWidth:Math.max(F.documentElement.clientWidth,I.innerWidth||0),$captured_for_heatmap:this.mp.is_recording_heatmap_data()},Zr);this.mp.track(xy,s,{transport:"sendBeacon"})}};be.prototype._initScrollDepthTracking=function(){if(I.removeEventListener(Os,this.listenerScrollDepth),I.removeEventListener(Ei,this.listenerScrollDepth),!!this.mp.get_config("record_heatmap_data")){ue.log("Initializing scroll depth tracking"),this.maxScrollViewDepth=Math.max(F.documentElement.clientHeight,I.innerHeight||0);var e=(function(){if(!this.currentUrlBlocked()){var i=Math.max(F.documentElement.clientHeight,I.innerHeight||0)+I.scrollY;i>this.maxScrollViewDepth&&(this.maxScrollViewDepth=i),this.previousScrollHeight=F.body.scrollHeight}}).bind(this),n=Nl(e);this.listenerScrollDepth=n.listener,I.addEventListener(n.eventType,this.listenerScrollDepth)}};be.prototype.initClickTracking=function(){I.removeEventListener(vt,this.listenerClick),!(!this.getConfig(ii)&&!this.mp.get_config("record_heatmap_data"))&&(ue.log("Initializing click tracking"),this.listenerClick=(function(e){!this.getConfig(ii)&&!this.mp.is_recording_heatmap_data()||this.trackDomEvent(e,Xl)}).bind(this),I.addEventListener(vt,this.listenerClick))};be.prototype.initDeadClickTracking=function(){var e=this._getClickTrackingConfig(oi);if(!e&&!this.mp.get_config("record_heatmap_data")){this.stopDeadClickTracking();return}ue.log("Initializing dead click tracking"),this._deadClickTracker||(this._deadClickTracker=new ot((function(n){this.trackDomEvent(n,Zl)}).bind(this)),this._deadClickTracker.startTracking()),this.listenerDeadClick||(this.listenerDeadClick=(function(n){var i=this._getClickTrackingConfig(oi);if(!(!i&&!this.mp.is_recording_heatmap_data())&&!this.currentUrlBlocked()){var t=i||{};t.timeout_ms||(t.timeout_ms=py),this._deadClickTracker.trackClick(n,t)}}).bind(this),I.addEventListener(vt,this.listenerDeadClick))};be.prototype.initInputTracking=function(){I.removeEventListener(Xr,this.listenerChange),this.getConfig(qo)&&(ue.log("Initializing input tracking"),this.listenerChange=(function(e){this.getConfig(qo)&&this.trackDomEvent(e,wy)}).bind(this),I.addEventListener(Xr,this.listenerChange))};be.prototype.initPageviewTracking=function(){if(I.removeEventListener(Ct,this.listenerLocationchange),!!this.pageviewTrackingConfig()){ue.log("Initializing pageview tracking");var e="",n=!1;this.currentUrlBlocked()||(n=this.mp.track_pageview(Zr)),n&&(e=h.info.currentUrl()),this.listenerLocationchange=Kr((function(){if(!this.currentUrlBlocked()){var i=h.info.currentUrl(),t=!1,r=i.split("#")[0].split("?")[0]!==e.split("#")[0].split("?")[0],o=this.pageviewTrackingConfig();if(o===Ul?t=i!==e:o===yy?t=i.split("#")[0]!==e.split("#")[0]:o===_y&&(t=r),t){var s=this.mp.track_pageview(Zr);s&&(e=i),r&&(this.lastScrollCheckpoint=0,ue.log("Path change: re-initializing scroll depth checkpoints"))}}}).bind(this)),I.addEventListener(Ct,this.listenerLocationchange)}};be.prototype.initRageClickTracking=function(){I.removeEventListener(vt,this.listenerRageClick);var e=this._getClickTrackingConfig(si);!e&&!this.mp.get_config("record_heatmap_data")||(ue.log("Initializing rage click tracking"),this._rageClickTracker||(this._rageClickTracker=new Dl),this.listenerRageClick=(function(n){var i=this._getClickTrackingConfig(si);!i&&!this.mp.is_recording_heatmap_data()||this.currentUrlBlocked()||this._rageClickTracker.isRageClick(n,i)&&this.trackDomEvent(n,Ql)}).bind(this),I.addEventListener(vt,this.listenerRageClick))};be.prototype.initScrollTracking=function(){if(I.removeEventListener(Ei,this.listenerScroll),I.removeEventListener(Os,this.listenerScroll),!!this.getConfig(Go)){ue.log("Initializing scroll tracking"),this.lastScrollCheckpoint=0;var e=(function(){if(this.getConfig(Go)&&!this.currentUrlBlocked()){var i=this.getConfig(Yl),t=(this.getConfig(Kl)||[]).slice().sort(function(l,f){return l-f}),r=I.scrollY,o=h.extend({$scroll_top:r},Zr);try{var s=F.body.scrollHeight,a=Math.round(r/(s-I.innerHeight)*100);if(o.$scroll_height=s,o.$scroll_percentage=a,a>this.lastScrollCheckpoint)for(var u=0;u<t.length;u++){var c=t[u];a>=c&&this.lastScrollCheckpoint<c&&(o.$scroll_checkpoint=c,this.lastScrollCheckpoint=c,i=!0)}}catch(l){ue.critical("Error while calculating scroll percentage",l)}i&&this.mp.track(Sy,o)}}).bind(this),n=Nl(e);this.listenerScroll=n.listener,I.addEventListener(n.eventType,this.listenerScroll)}};be.prototype.initSubmitTracking=function(){I.removeEventListener(ri,this.listenerSubmit),this.getConfig(Ho)&&(ue.log("Initializing submit tracking"),this.listenerSubmit=(function(e){this.getConfig(Ho)&&this.trackDomEvent(e,Cy)}).bind(this),I.addEventListener(ri,this.listenerSubmit))};be.prototype.initPageLeaveTracking=function(){if(F.removeEventListener(lu,this.listenerPageLeaveVisibilitychange),I.removeEventListener(Ct,this.listenerPageLeaveLocationchange),I.removeEventListener(uu,this.listenerPageLoad),!(!this.getConfig(ki)&&!this.mp.get_config("record_heatmap_data"))){ue.log("Initializing page visibility tracking."),this._initScrollDepthTracking();var e=h.info.currentUrl();this.listenerPageLoad=(function(){this.previousScrollHeight=F.body.scrollHeight}).bind(this),I.addEventListener(uu,this.listenerPageLoad),this.listenerPageLeaveLocationchange=Kr((function(n){if(!this.currentUrlBlocked()){var i=h.info.currentUrl(),t=i!==e;t&&(this._trackPageLeave(n,e,this.previousScrollHeight),e=i,this.maxScrollViewDepth=Math.max(F.documentElement.clientHeight,I.innerHeight||0),this.previousScrollHeight=F.body.scrollHeight,this.hasTrackedScrollSession=!1)}}).bind(this)),I.addEventListener(Ct,this.listenerPageLeaveLocationchange),this.listenerPageLeaveVisibilitychange=(function(n){F.hidden&&this._trackPageLeave(n,e,this.previousScrollHeight)}).bind(this),F.addEventListener(lu,this.listenerPageLeaveVisibilitychange)}};be.prototype.stopDeadClickTracking=function(){this.listenerDeadClick&&(I.removeEventListener(vt,this.listenerDeadClick),this.listenerDeadClick=null),this._deadClickTracker&&(this._deadClickTracker.stopTracking(),this._deadClickTracker=null)};Sl(be);var Ue=Ht("flags"),ai="flags",ui="context",Yo={};Yo[ui]={};var G=function(e){this.fetch=I.fetch,this.getFullApiRoute=e.getFullApiRoute,this.getMpConfig=e.getConfigFunc,this.setMpConfig=e.setConfigFunc,this.getMpProperty=e.getPropertyFunc,this.track=e.trackingFunc};G.prototype.init=function(){if(!this.minApisSupported()){Ue.critical("Feature Flags unavailable: missing minimum required APIs");return}this.flags=null,this.fetchFlags(),this.trackedFeatures=new Set};G.prototype.getFullConfig=function(){var e=this.getMpConfig(ai);return e?h.isObject(e)?h.extend({},Yo,e):Yo:{}};G.prototype.getConfig=function(e){return this.getFullConfig()[e]};G.prototype.isSystemEnabled=function(){return!!this.getMpConfig(ai)};G.prototype.updateContext=function(e,n){if(!this.isSystemEnabled())return Ue.critical("Feature Flags not enabled, cannot update context"),Promise.resolve();var i=this.getMpConfig(ai);h.isObject(i)||(i={});var t=n&&n.replace?{}:this.getConfig(ui);return i[ui]=h.extend({},t,e),this.setMpConfig(ai,i),this.fetchFlags()};G.prototype.areFlagsReady=function(){return this.isSystemEnabled()||Ue.error("Feature Flags not enabled"),!!this.flags};G.prototype.fetchFlags=function(){if(!this.isSystemEnabled())return Promise.resolve();var e=this.getMpProperty("distinct_id"),n=this.getMpProperty("$device_id"),i=Im();Ue.log("Fetching flags for distinct ID: "+e);var t=h.extend({distinct_id:e,device_id:n},this.getConfig(ui)),r=new URLSearchParams;r.set("context",JSON.stringify(t)),r.set("token",this.getMpConfig("token")),r.set("mp_lib","web"),r.set("$lib_version",Ge.LIB_VERSION);var o=this.getFullApiRoute()+"?"+r.toString();return this._fetchInProgressStartTime=Date.now(),this.fetchPromise=this.fetch.call(I,o,{method:"GET",headers:{Authorization:"Basic "+btoa(this.getMpConfig("token")+":"),traceparent:i}}).then((function(s){return this.markFetchComplete(),s.json().then((function(a){var u=a.flags;if(!u)throw new Error("No flags in API response");var c=new Map;h.each(u,function(l,f){c.set(f,{key:l.variant_key,value:l.variant_value,experiment_id:l.experiment_id,is_experiment_active:l.is_experiment_active,is_qa_tester:l.is_qa_tester})}),this.flags=c,this._traceparent=i}).bind(this)).catch((function(a){this.markFetchComplete(),Ue.error(a)}).bind(this))}).bind(this)).catch((function(s){this.markFetchComplete(),Ue.error(s)}).bind(this)),this.fetchPromise};G.prototype.markFetchComplete=function(){if(!this._fetchInProgressStartTime){Ue.error("Fetch in progress started time not set, cannot mark fetch complete");return}this._fetchStartTime=this._fetchInProgressStartTime,this._fetchCompleteTime=Date.now(),this._fetchLatency=this._fetchCompleteTime-this._fetchStartTime,this._fetchInProgressStartTime=null};G.prototype.getVariant=function(e,n){return this.fetchPromise?this.fetchPromise.then((function(){return this.getVariantSync(e,n)}).bind(this)).catch(function(i){return Ue.error(i),n}):new Promise(function(i){Ue.critical("Feature Flags not initialized"),i(n)})};G.prototype.getVariantSync=function(e,n){if(!this.areFlagsReady())return Ue.log("Flags not loaded yet"),n;var i=this.flags.get(e);return i?(this.trackFeatureCheck(e,i),i):(Ue.log('No flag found: "'+e+'"'),n)};G.prototype.getVariantValue=function(e,n){return this.getVariant(e,{value:n}).then(function(i){return i.value}).catch(function(i){return Ue.error(i),n})};G.prototype.getFeatureData=function(e,n){return Ue.critical("mixpanel.flags.get_feature_data() is deprecated and will be removed in a future release. Use mixpanel.flags.get_variant_value() instead."),this.getVariantValue(e,n)};G.prototype.getVariantValueSync=function(e,n){return this.getVariantSync(e,{value:n}).value};G.prototype.isEnabled=function(e,n){return this.getVariantValue(e).then((function(){return this.isEnabledSync(e,n)}).bind(this)).catch(function(i){return Ue.error(i),n})};G.prototype.isEnabledSync=function(e,n){n=n||!1;var i=this.getVariantValueSync(e,n);return i!==!0&&i!==!1&&(Ue.error('Feature flag "'+e+'" value: '+i+" is not a boolean; returning fallback value: "+n),i=n),i};G.prototype.trackFeatureCheck=function(e,n){if(!this.trackedFeatures.has(e)){this.trackedFeatures.add(e);var i={"Experiment name":e,"Variant name":n.key,$experiment_type:"feature_flag","Variant fetch start time":new Date(this._fetchStartTime).toISOString(),"Variant fetch complete time":new Date(this._fetchCompleteTime).toISOString(),"Variant fetch latency (ms)":this._fetchLatency,"Variant fetch traceparent":this._traceparent};n.experiment_id!=="undefined"&&(i.$experiment_id=n.experiment_id),n.is_experiment_active!=="undefined"&&(i.$is_experiment_active=n.is_experiment_active),n.is_qa_tester!=="undefined"&&(i.$is_qa_tester=n.is_qa_tester),this.track("$experiment_started",i)}};G.prototype.minApisSupported=function(){return!!this.fetch&&typeof Promise<"u"&&typeof Map<"u"&&typeof Set<"u"};Sl(G);G.prototype.are_flags_ready=G.prototype.areFlagsReady;G.prototype.get_variant=G.prototype.getVariant;G.prototype.get_variant_sync=G.prototype.getVariantSync;G.prototype.get_variant_value=G.prototype.getVariantValue;G.prototype.get_variant_value_sync=G.prototype.getVariantValueSync;G.prototype.is_enabled=G.prototype.isEnabled;G.prototype.is_enabled_sync=G.prototype.isEnabledSync;G.prototype.update_context=G.prototype.updateContext;G.prototype.get_feature_data=G.prototype.getFeatureData;var yt=function(){};yt.prototype.create_properties=function(){};yt.prototype.event_handler=function(){};yt.prototype.after_track_handler=function(){};yt.prototype.init=function(e){return this.mp=e,this};yt.prototype.track=function(e,n,i,t){var r=this,o=h.dom_query(e);if(o.length===0){q.error("The DOM query ("+e+") returned 0 elements");return}return h.each(o,function(s){h.register_event(s,this.override_event,function(a){var u={},c=r.create_properties(i,this),l=r.mp.get_config("track_links_timeout");r.event_handler(a,this,u),window.setTimeout(r.track_callback(t,c,u,!0),l),r.mp.track(n,c,r.track_callback(t,c,u))})},this),!0};yt.prototype.track_callback=function(e,n,i,t){t=t||!1;var r=this;return function(){i.callback_fired||(i.callback_fired=!0,!(e&&e(t,n)===!1)&&r.after_track_handler(n,i,t))}};yt.prototype.create_properties=function(e,n){var i;return typeof e=="function"?i=e(n):i=h.extend({},e),i};var vr=function(){this.override_event="click"};h.inherit(vr,yt);vr.prototype.create_properties=function(e,n){var i=vr.superclass.create_properties.apply(this,arguments);return n.href&&(i.url=n.href),i};vr.prototype.event_handler=function(e,n,i){i.new_tab=e.which===2||e.metaKey||e.ctrlKey||n.target==="_blank",i.href=n.href,i.new_tab||e.preventDefault()};vr.prototype.after_track_handler=function(e,n){n.new_tab||setTimeout(function(){window.location=n.href},0)};var Oi=function(){this.override_event="submit"};h.inherit(Oi,yt);Oi.prototype.event_handler=function(e,n,i){i.element=n,e.preventDefault()};Oi.prototype.after_track_handler=function(e,n){setTimeout(function(){n.element.submit()},0)};var Et="$set",gr="$set_once",Ke="$unset",zt="$add",nt="$append",Wt="$union",ht="$remove",Iy="$delete",ef={set_action:function(e,n){var i={},t={};return h.isObject(e)?h.each(e,function(r,o){this._is_reserved_property(o)||(t[o]=r)},this):t[e]=n,i[Et]=t,i},unset_action:function(e){var n={},i=[];return h.isArray(e)||(e=[e]),h.each(e,function(t){this._is_reserved_property(t)||i.push(t)},this),n[Ke]=i,n},set_once_action:function(e,n){var i={},t={};return h.isObject(e)?h.each(e,function(r,o){this._is_reserved_property(o)||(t[o]=r)},this):t[e]=n,i[gr]=t,i},union_action:function(e,n){var i={},t={};return h.isObject(e)?h.each(e,function(r,o){this._is_reserved_property(o)||(t[o]=h.isArray(r)?r:[r])},this):t[e]=h.isArray(n)?n:[n],i[Wt]=t,i},append_action:function(e,n){var i={},t={};return h.isObject(e)?h.each(e,function(r,o){this._is_reserved_property(o)||(t[o]=r)},this):t[e]=n,i[nt]=t,i},remove_action:function(e,n){var i={},t={};return h.isObject(e)?h.each(e,function(r,o){this._is_reserved_property(o)||(t[o]=r)},this):t[e]=n,i[ht]=t,i},delete_action:function(){var e={};return e[Iy]="",e}},fe=function(){};h.extend(fe.prototype,ef);fe.prototype._init=function(e,n,i){this._mixpanel=e,this._group_key=n,this._group_id=i};fe.prototype.set=mr(function(e,n,i){var t=this.set_action(e,n);return h.isObject(e)&&(i=n),this._send_request(t,i)});fe.prototype.set_once=mr(function(e,n,i){var t=this.set_once_action(e,n);return h.isObject(e)&&(i=n),this._send_request(t,i)});fe.prototype.unset=mr(function(e,n){var i=this.unset_action(e);return this._send_request(i,n)});fe.prototype.union=mr(function(e,n,i){h.isObject(e)&&(i=n);var t=this.union_action(e,n);return this._send_request(t,i)});fe.prototype.delete=mr(function(e){var n=this.delete_action();return this._send_request(n,e)});fe.prototype.remove=mr(function(e,n,i){var t=this.remove_action(e,n);return this._send_request(t,i)});fe.prototype._send_request=function(e,n){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var i=h.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:i,endpoint:this._mixpanel.get_api_host("groups")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},n)};fe.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};fe.prototype._get_config=function(e){return this._mixpanel.get_config(e)};fe.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};fe.prototype.remove=fe.prototype.remove;fe.prototype.set=fe.prototype.set;fe.prototype.set_once=fe.prototype.set_once;fe.prototype.union=fe.prototype.union;fe.prototype.unset=fe.prototype.unset;fe.prototype.toString=fe.prototype.toString;var U=function(){};h.extend(U.prototype,ef);U.prototype._init=function(e){this._mixpanel=e};U.prototype.set=Pt(function(e,n,i){var t=this.set_action(e,n);return h.isObject(e)&&(i=n),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),t[Et]=h.extend({},h.info.people_properties(),t[Et]),this._send_request(t,i)});U.prototype.set_once=Pt(function(e,n,i){var t=this.set_once_action(e,n);return h.isObject(e)&&(i=n),this._send_request(t,i)});U.prototype.unset=Pt(function(e,n){var i=this.unset_action(e);return this._send_request(i,n)});U.prototype.increment=Pt(function(e,n,i){var t={},r={};return h.isObject(e)?(h.each(e,function(o,s){if(!this._is_reserved_property(s))if(isNaN(parseFloat(o))){q.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else r[s]=o},this),i=n):(h.isUndefined(n)&&(n=1),r[e]=n),t[zt]=r,this._send_request(t,i)});U.prototype.append=Pt(function(e,n,i){h.isObject(e)&&(i=n);var t=this.append_action(e,n);return this._send_request(t,i)});U.prototype.remove=Pt(function(e,n,i){h.isObject(e)&&(i=n);var t=this.remove_action(e,n);return this._send_request(t,i)});U.prototype.union=Pt(function(e,n,i){h.isObject(e)&&(i=n);var t=this.union_action(e,n);return this._send_request(t,i)});U.prototype.track_charge=Pt(function(){q.error("mixpanel.people.track_charge() is deprecated and no longer has any effect.")});U.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};U.prototype.delete_user=function(){if(!this._identify_called()){q.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};U.prototype.toString=function(){return this._mixpanel.toString()+".people"};U.prototype._send_request=function(e,n){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var i=this._mixpanel.get_property("$device_id"),t=this._mixpanel.get_property("$user_id"),r=this._mixpanel.get_property("$had_persisted_distinct_id");i&&(e.$device_id=i),t&&(e.$user_id=t),r&&(e.$had_persisted_distinct_id=r);var o=h.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:o,endpoint:this._mixpanel.get_api_host("people")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},n):(this._enqueue(e),h.isUndefined(n)||(this._get_config("verbose")?n({status:-1,error:null}):n(-1)),h.truncate(o,255))};U.prototype._get_config=function(e){return this._mixpanel.get_config(e)};U.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};U.prototype._enqueue=function(e){Et in e?this._mixpanel.persistence._add_to_people_queue(Et,e):gr in e?this._mixpanel.persistence._add_to_people_queue(gr,e):Ke in e?this._mixpanel.persistence._add_to_people_queue(Ke,e):zt in e?this._mixpanel.persistence._add_to_people_queue(zt,e):nt in e?this._mixpanel.persistence._add_to_people_queue(nt,e):ht in e?this._mixpanel.persistence._add_to_people_queue(ht,e):Wt in e?this._mixpanel.persistence._add_to_people_queue(Wt,e):q.error("Invalid call to _enqueue():",e)};U.prototype._flush_one_queue=function(e,n,i,t){var r=this,o=h.extend({},this._mixpanel.persistence.load_queue(e)),s=o;!h.isUndefined(o)&&h.isObject(o)&&!h.isEmptyObject(o)&&(r._mixpanel.persistence._pop_from_people_queue(e,o),r._mixpanel.persistence.save(),t&&(s=t(o)),n.call(r,s,function(a,u){a===0&&r._mixpanel.persistence._add_to_people_queue(e,o),h.isUndefined(i)||i(a,u)}))};U.prototype._flush=function(e,n,i,t,r,o,s){var a=this;this._flush_one_queue(Et,this.set,e),this._flush_one_queue(gr,this.set_once,t),this._flush_one_queue(Ke,this.unset,o,function(d){return h.keys(d)}),this._flush_one_queue(zt,this.increment,n),this._flush_one_queue(Wt,this.union,r);var u=this._mixpanel.persistence.load_queue(nt);if(!h.isUndefined(u)&&h.isArray(u)&&u.length)for(var c,l=function(d,m){d===0&&a._mixpanel.persistence._add_to_people_queue(nt,c),h.isUndefined(i)||i(d,m)},f=u.length-1;f>=0;f--)u=this._mixpanel.persistence.load_queue(nt),c=u.pop(),a._mixpanel.persistence.save(),h.isEmptyObject(c)||a.append(c,l);var p=this._mixpanel.persistence.load_queue(ht);if(!h.isUndefined(p)&&h.isArray(p)&&p.length)for(var g,v=function(d,m){d===0&&a._mixpanel.persistence._add_to_people_queue(ht,g),h.isUndefined(s)||s(d,m)},y=p.length-1;y>=0;y--)p=this._mixpanel.persistence.load_queue(ht),g=p.pop(),a._mixpanel.persistence.save(),h.isEmptyObject(g)||a.remove(g,v)};U.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};U.prototype.set=U.prototype.set;U.prototype.set_once=U.prototype.set_once;U.prototype.unset=U.prototype.unset;U.prototype.increment=U.prototype.increment;U.prototype.append=U.prototype.append;U.prototype.remove=U.prototype.remove;U.prototype.union=U.prototype.union;U.prototype.track_charge=U.prototype.track_charge;U.prototype.clear_charges=U.prototype.clear_charges;U.prototype.delete_user=U.prototype.delete_user;U.prototype.toString=U.prototype.toString;var Rs="__mps",Ts="__mpso",Ms="__mpus",Ns="__mpa",Ps="__mpap",Ls="__mpr",$s="__mpu",tf="$people_distinct_id",ci="__alias",Qr="__timers",Ey=[Rs,Ts,Ms,Ns,Ps,Ls,$s,tf,ci,Qr],W=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var n=e.persistence;n!=="cookie"&&n!=="localStorage"&&(q.critical("Unknown persistence type "+n+"; falling back to cookie"),n=e.persistence="cookie"),n==="localStorage"&&h.localStorage.is_supported()?this.storage=h.localStorage:this.storage=h.cookie,this.load(),this.update_config(e),this.upgrade(),this.save()};W.prototype.properties=function(){var e={};return this.load(),h.each(this.props,function(n,i){h.include(Ey,i)||(e[i]=n)}),e};W.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=h.extend({},e))}};W.prototype.upgrade=function(){var e,n;this.storage===h.localStorage?(e=h.cookie.parse(this.name),h.cookie.remove(this.name),h.cookie.remove(this.name,!0),e&&this.register_once(e)):this.storage===h.cookie&&(n=h.localStorage.parse(this.name),h.localStorage.remove(this.name),n&&this.register_once(n))};W.prototype.save=function(){this.disabled||this.storage.set(this.name,dr(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};W.prototype.load_prop=function(e){return this.load(),this.props[e]};W.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};W.prototype.clear=function(){this.remove(),this.props={}};W.prototype.register_once=function(e,n,i){return h.isObject(e)?(typeof n>"u"&&(n="None"),this.expire_days=typeof i>"u"?this.default_expiry:i,this.load(),h.each(e,function(t,r){(!this.props.hasOwnProperty(r)||this.props[r]===n)&&(this.props[r]=t)},this),this.save(),!0):!1};W.prototype.register=function(e,n){return h.isObject(e)?(this.expire_days=typeof n>"u"?this.default_expiry:n,this.load(),h.extend(this.props,e),this.save(),!0):!1};W.prototype.unregister=function(e){this.load(),e in this.props&&(delete this.props[e],this.save())};W.prototype.update_search_keyword=function(e){this.register(h.info.searchInfo(e))};W.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:h.info.referringDomain(e)||"$direct"},"")};W.prototype.get_referrer_info=function(){return h.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};W.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};W.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};W.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};W.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};W.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};W.prototype.get_cross_subdomain=function(){return this.cross_subdomain};W.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};W.prototype._add_to_people_queue=function(e,n){var i=this._get_queue_key(e),t=n[e],r=this._get_or_create_queue(Et),o=this._get_or_create_queue(gr),s=this._get_or_create_queue(Ke),a=this._get_or_create_queue(zt),u=this._get_or_create_queue(Wt),c=this._get_or_create_queue(ht,[]),l=this._get_or_create_queue(nt,[]);i===Rs?(h.extend(r,t),this._pop_from_people_queue(zt,t),this._pop_from_people_queue(Wt,t),this._pop_from_people_queue(Ke,t)):i===Ts?(h.each(t,function(f,p){p in o||(o[p]=f)}),this._pop_from_people_queue(Ke,t)):i===Ms?h.each(t,function(f){h.each([r,o,a,u],function(p){f in p&&delete p[f]}),h.each(l,function(p){f in p&&delete p[f]}),s[f]=!0}):i===Ns?(h.each(t,function(f,p){p in r?r[p]+=f:(p in a||(a[p]=0),a[p]+=f)},this),this._pop_from_people_queue(Ke,t)):i===$s?(h.each(t,function(f,p){h.isArray(f)&&(p in u||(u[p]=[]),h.each(f,function(g){h.include(u[p],g)||u[p].push(g)}))}),this._pop_from_people_queue(Ke,t)):i===Ls?(c.push(t),this._pop_from_people_queue(nt,t)):i===Ps&&(l.push(t),this._pop_from_people_queue(Ke,t)),q.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),q.log(n),this.save()};W.prototype._pop_from_people_queue=function(e,n){var i=this.props[this._get_queue_key(e)];h.isUndefined(i)||h.each(n,function(t,r){e===nt||e===ht?h.each(i,function(o){o[r]===t&&delete o[r]}):delete i[r]},this)};W.prototype.load_queue=function(e){return this.load_prop(this._get_queue_key(e))};W.prototype._get_queue_key=function(e){if(e===Et)return Rs;if(e===gr)return Ts;if(e===Ke)return Ms;if(e===zt)return Ns;if(e===nt)return Ps;if(e===ht)return Ls;if(e===Wt)return $s;q.error("Invalid queue:",e)};W.prototype._get_or_create_queue=function(e,n){var i=this._get_queue_key(e);return n=h.isUndefined(n)?{}:n,this.props[i]||(this.props[i]=n)};W.prototype.set_event_timer=function(e,n){var i=this.load_prop(Qr)||{};i[e]=n,this.props[Qr]=i,this.save()};W.prototype.remove_event_timer=function(e){var n=this.load_prop(Qr)||{},i=n[e];return h.isUndefined(i)||(delete this.props[Qr][e],this.save()),i};var li,rf=function(e,n){throw new Error(e+" not available in this build.")},Me,Ko=0,ky=1,qe="mixpanel",nf="base64",Oy="json",Ds="$device:",sr=I.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,of=!sr&&tt.indexOf("MSIE")===-1&&tt.indexOf("Mozilla")===-1,fi=null;ft.sendBeacon&&(fi=function(){return ft.sendBeacon.apply(ft,arguments)});var sf={track:"track/",engage:"engage/",groups:"groups/",record:"record/",flags:"flags/"},mu={api_host:"https://api-js.mixpanel.com",api_hosts:{},api_routes:sf,api_extra_query_params:{},api_method:"POST",api_transport:"XHR",api_payload_format:nf,app_host:"https://mixpanel.com",autocapture:!1,cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:xt,flags:!1,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:xt,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video, audio",record_canvas:!1,record_collect_fonts:!1,record_console:!0,record_heatmap_data:!1,record_idle_timeout_ms:30*60*1e3,record_mask_text_class:new RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:Nr,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},af=!1,S=function(){},Jo=function(e,n,i){var t,r=i===qe?Me:Me[i];if(r&&li===Ko)t=r;else{if(r&&!h.isArray(r)){q.error("You have already initialized "+i);return}t=new S}if(t._cached_groups={},t._init(e,n,i),t.people=new U,t.people._init(t),!t.get_config("skip_first_touch_marketing")){var o=h.info.campaignParams(null),s={},a=!1;h.each(o,function(c,l){s["initial_"+l]=c,c&&(a=!0)}),a&&t.people.set_once(s)}Ge.DEBUG=Ge.DEBUG||t.get_config("debug");var u=li===Ko?"module":"snippet";return I.dispatchEvent(new I.CustomEvent("$mp_sdk_to_extension_event",{detail:{instance:t,source:u,token:e,name:i,info:h.info}})),!h.isUndefined(r)&&h.isArray(r)&&(t._execute_array.call(t.people,r.people),t._execute_array(r)),t};S.prototype.init=function(e,n,i){if(h.isUndefined(i)){this.report_error("You must name your new library: init(token, config, name)");return}if(i===qe){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var t=Jo(e,n,i);return Me[i]=t,t._loaded(),t};S.prototype._init=function(e,n,i){n=n||{},this.__loaded=!0,this.config={};var t={};if(!("api_payload_format"in n)){var r=n.api_host||mu.api_host;r.match(/\.mixpanel\.com/)&&(t.api_payload_format=Oy)}if(this.hooks={},this.set_config(h.extend({},mu,t,n,{name:i,token:e,callback_fn:(i===qe?i:qe+"."+i)+"._jsc"})),this._jsc=xt,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!h.localStorage.is_supported(!0)||!sr)this._batch_requests=!1,q.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),h.each(this.get_batcher_configs(),function(a){q.log("Clearing batch queue "+a.queue_key),h.localStorage.remove(a.queue_key)});else if(this.init_batchers(),fi&&I.addEventListener){var o=h.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);I.addEventListener("pagehide",function(a){a.persisted&&o()}),I.addEventListener("visibilitychange",function(){F.visibilityState==="hidden"&&o()})}}this.persistence=this.cookie=new W(this.config),this.unpersisted_superprops={},this._gdpr_init();var s=h.UUID();this.get_distinct_id()||this.register_once({distinct_id:Ds+s,$device_id:s},""),this.flags=new G({getFullApiRoute:h.bind(function(){return this.get_api_host("flags")+"/"+this.get_config("api_routes").flags},this),getConfigFunc:h.bind(this.get_config,this),setConfigFunc:h.bind(this.set_config,this),getPropertyFunc:h.bind(this.get_property,this),trackingFunc:h.bind(this.track,this)}),this.flags.init(),this.flags=this.flags,this.autocapture=new be(this),this.autocapture.init(),this._init_tab_id(),this._check_and_start_session_recording()};S.prototype._init_tab_id=function(){if(this.get_config("disable_persistence"))q.log("Tab ID initialization skipped due to disable_persistence config");else if(h.sessionStorage.is_supported())try{var e=this.get_config("name")+"_"+this.get_config("token"),n="mp_tab_id_"+e,i="mp_gen_new_tab_id_"+e;(h.sessionStorage.get(i)||!h.sessionStorage.get(n))&&h.sessionStorage.set(n,"$tab-"+h.UUID()),h.sessionStorage.set(i,"1"),this.tab_id=h.sessionStorage.get(n),I.addEventListener("beforeunload",function(){h.sessionStorage.remove(i)})}catch(t){this.report_error("Error initializing tab id",t)}else this.report_error("Session storage is not supported, cannot keep track of unique tab ID.")};S.prototype.get_tab_id=function(){return this.tab_id||null};S.prototype._should_load_recorder=function(){if(this.get_config("disable_persistence"))return q.log("Load recorder check skipped due to disable_persistence config"),Promise.resolve(!1);var e=new Je(Cs),n=this.get_tab_id();return e.init().then(function(){return e.getAll()}).then(function(i){for(var t=0;t<i.length;t++)if(ks(i[t])||i[t].tabId===n)return!0;return!1}).catch(h.bind(function(i){this.report_error("Error checking recording registry",i)},this))};S.prototype._check_and_start_session_recording=Nt(function(e){if(!I.MutationObserver){q.critical("Browser does not support MutationObserver; skipping session recording");return}var n=h.bind(function(t){var r=h.bind(function(){this._recorder=this._recorder||new I.__mp_recorder(this),this._recorder.resumeRecording(t)},this);h.isUndefined(I.__mp_recorder)?rf(this.get_config("recorder_src"),r):r()},this),i=this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent");e||i?n(!0):this._should_load_recorder().then(function(t){t&&n(!1)})});S.prototype.start_session_recording=function(){this._check_and_start_session_recording(!0)};S.prototype.stop_session_recording=function(){return this._recorder?this._recorder.stopRecording():Promise.resolve()};S.prototype.pause_session_recording=function(){return this._recorder?this._recorder.pauseRecording():Promise.resolve()};S.prototype.resume_session_recording=function(){return this._recorder?this._recorder.resumeRecording():Promise.resolve()};S.prototype.is_recording_heatmap_data=function(){return this._get_session_replay_id()&&this.get_config("record_heatmap_data")};S.prototype.get_session_recording_properties=function(){var e={},n=this._get_session_replay_id();return n&&(e.$mp_replay_id=n),e};S.prototype.get_session_replay_url=function(){var e=null,n=this._get_session_replay_id();if(n){var i=h.HTTPBuildQuery({replay_id:n,distinct_id:this.get_distinct_id(),token:this.get_config("token")});e="https://mixpanel.com/projects/replay-redirect?"+i}return e};S.prototype._get_session_replay_id=function(){var e=null;return this._recorder&&(e=this._recorder.replayId),e||null};S.prototype.__get_recorder=function(){return this._recorder};S.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var e=h.info.campaignParams(null);h.each(e,(function(n,i){this.unregister(i)}).bind(this))}};S.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(F.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(h.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(F.referrer)};S.prototype._dom_loaded=function(){h.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||h.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};S.prototype._track_dom=function(e,n){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!af)return this.__dom_loaded_queue.push([e,n]),!1;var i=new e().init(this);return i.track.apply(i,n)};S.prototype._prepare_callback=function(e,n){if(h.isUndefined(e))return null;if(sr){var i=function(s){e(s,n)};return i}else{var t=this._jsc,r=""+Math.floor(Math.random()*1e8),o=this.get_config("callback_fn")+"["+r+"]";return t[r]=function(s){delete t[r],e(s,n)},o}};S.prototype._send_request=function(e,n,i,t){var r=!0;if(of)return this.__request_queue.push(arguments),r;var o={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},s=null;!t&&(h.isFunction(i)||typeof i=="string")&&(t=i,i=null),i=h.extend(o,i||{}),sr||(i.method="GET");var a=i.method==="POST",u=fi&&a&&i.transport.toLowerCase()==="sendbeacon",c=i.verbose;n.verbose&&(c=!0),this.get_config("test")&&(n.test=1),c&&(n.verbose=1),this.get_config("img")&&(n.img=1),sr||(t?n.callback=t:(c||this.get_config("test"))&&(n.callback="(function(){})")),n.ip=this.get_config("ip")?1:0,n._=new Date().getTime().toString(),a&&(s="data="+encodeURIComponent(n.data),delete n.data),h.extend(n,this.get_config("api_extra_query_params")),e+="?"+h.HTTPBuildQuery(n);var l=this;if("img"in n){var f=F.createElement("img");f.src=e,F.body.appendChild(f)}else if(u){try{r=fi(e,s)}catch(m){l.report_error(m),r=!1}try{t&&t(r?1:0)}catch(m){l.report_error(m)}}else if(sr)try{var p=new XMLHttpRequest;p.open(i.method,e,!0);var g=this.get_config("xhr_headers");if(a&&(g["Content-Type"]="application/x-www-form-urlencoded"),h.each(g,function(m,_){p.setRequestHeader(_,m)}),i.timeout_ms&&typeof p.timeout<"u"){p.timeout=i.timeout_ms;var v=new Date().getTime()}p.withCredentials=!0,p.onreadystatechange=function(){if(p.readyState===4)if(p.status===200){if(t)if(c){var m;try{m=h.JSONDecode(p.responseText)}catch(C){if(l.report_error(C),i.ignore_json_errors)m=p.responseText;else return}t(m)}else t(Number(p.responseText))}else{var _;if(p.timeout&&!p.status&&new Date().getTime()-v>=p.timeout?_="timeout":_="Bad HTTP status: "+p.status+" "+p.statusText,l.report_error(_),t)if(c){var w=p.responseHeaders||{};t({status:0,httpStatusCode:p.status,error:_,retryAfter:w["Retry-After"]})}else t(0)}},p.send(s)}catch(m){l.report_error(m),r=!1}else{var y=F.createElement("script");y.type="text/javascript",y.async=!0,y.defer=!0,y.src=e;var d=F.getElementsByTagName("script")[0];d.parentNode.insertBefore(y,d)}return r};S.prototype._execute_array=function(e){var n,i=[],t=[],r=[];h.each(e,function(s){s&&(n=s[0],h.isArray(n)?r.push(s):typeof s=="function"?s.call(this):h.isArray(s)&&n==="alias"?i.push(s):h.isArray(s)&&n.indexOf("track")!==-1&&typeof this[n]=="function"?r.push(s):t.push(s))},this);var o=function(s,a){h.each(s,function(u){if(h.isArray(u[0])){var c=a;h.each(u,function(l){c=c[l[0]].apply(c,l.slice(1))})}else this[u[0]].apply(this,u.slice(1))},a)};o(i,this),o(t,this),o(r,this)};S.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};S.prototype.get_batcher_configs=function(){var e="__mpq_"+this.get_config("token");return this._batcher_configs=this._batcher_configs||{events:{type:"events",api_name:"track",queue_key:e+"_ev"},people:{type:"people",api_name:"engage",queue_key:e+"_pp"},groups:{type:"groups",api_name:"groups",queue_key:e+"_gr"}},this._batcher_configs};S.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var e=h.bind(function(i){return new He(i.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:h.bind(function(t,r,o){var s=this.get_config("api_routes");this._send_request(this.get_api_host(i.api_name)+"/"+s[i.api_name],this._encode_data_for_request(t),r,this._prepare_callback(o,t))},this),beforeSendHook:h.bind(function(t){var r=this._run_hook("before_send_"+i.type,t);return r?r[0]:null},this),stopAllBatchingFunc:h.bind(this.stop_batch_senders,this),usePersistence:!0})},this),n=this.get_batcher_configs();this.request_batchers={events:e(n.events),people:e(n.people),groups:e(n.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()};S.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,h.each(this.request_batchers,function(e){e.start()}))};S.prototype.stop_batch_senders=function(){this._batch_requests=!1,h.each(this.request_batchers,function(e){e.stop(),e.clear()})};S.prototype.push=function(e){this._execute_array([e])};S.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};S.prototype._encode_data_for_request=function(e){var n=dr(e);return this.get_config("api_payload_format")===nf&&(n=h.base64Encode(n)),{data:n}};S.prototype._track_or_batch=function(e,n){var i=h.truncate(e.data,255),t=e.endpoint,r=e.batcher,o=e.should_send_immediately,s=e.send_request_options||{};n=n||xt;var a=!0,u=h.bind(function(){return s.skip_hooks||(i=this._run_hook("before_send_"+e.type,i),i&&(i=i[0])),i?(q.log("MIXPANEL REQUEST:"),q.log(i),this._send_request(t,this._encode_data_for_request(i),s,this._prepare_callback(n,i))):null},this);return this._batch_requests&&!o?r.enqueue(i).then(function(c){c?n(1,i):u()}):a=u(),a&&i};S.prototype.track=Nt(function(e,n,i,t){var r;if(!(i&&i.skip_hooks)){if(r=this._run_hook("before_track",e,n),r===null)return;e=r[0],n=r[1]}!t&&typeof i=="function"&&(t=i,i=null),i=i||{};var o=i.transport;o&&(i.transport=o);var s=i.send_immediately;if(typeof t!="function"&&(t=xt),h.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){t(0);return}n=h.extend({},n),n.token=this.get_config("token");var a=this.persistence.remove_event_timer(e);if(!h.isUndefined(a)){var u=new Date().getTime()-a;n.$duration=parseFloat((u/1e3).toFixed(3))}this._set_default_superprops();var c=this.get_config("track_marketing")?h.info.marketingParams():{};n=h.extend({},h.info.properties({mp_loader:this.get_config("mp_loader")}),c,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),n);var l=this.get_config("property_blacklist");h.isArray(l)?h.each(l,function(p){delete n[p]}):this.report_error("Invalid value for property_blacklist config: "+l);var f={event:e,properties:n};return r=this._track_or_batch({type:"events",data:f,endpoint:this.get_api_host("events")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:s,send_request_options:i},t),r});S.prototype.set_group=Nt(function(e,n,i){h.isArray(n)||(n=[n]);var t={};return t[e]=n,this.register(t),this.people.set(e,n,i)});S.prototype.add_group=Nt(function(e,n,i){var t=this.get_property(e),r={};return t===void 0?(r[e]=[n],this.register(r)):t.indexOf(n)===-1&&(t.push(n),r[e]=t,this.register(r)),this.people.union(e,n,i)});S.prototype.remove_group=Nt(function(e,n,i){var t=this.get_property(e);if(t!==void 0){var r=t.indexOf(n);r>-1&&(t.splice(r,1),this.register({group_key:t})),t.length===0&&this.unregister(e)}return this.people.remove(e,n,i)});S.prototype.track_with_groups=Nt(function(e,n,i,t){var r=h.extend({},n||{});return h.each(i,function(o,s){o!=null&&(r[s]=o)}),this.track(e,r,t)});S.prototype._create_map_key=function(e,n){return e+"_"+JSON.stringify(n)};S.prototype._remove_group_from_cache=function(e,n){delete this._cached_groups[this._create_map_key(e,n)]};S.prototype.get_group=function(e,n){var i=this._create_map_key(e,n),t=this._cached_groups[i];return(t===void 0||t._group_key!==e||t._group_id!==n)&&(t=new fe,t._init(this,e,n),this._cached_groups[i]=t),t};S.prototype.track_pageview=Nt(function(e,n){typeof e!="object"&&(e={}),n=n||{};var i=n.event_name||"$mp_web_page_view",t=h.extend(h.info.mpPageViewProperties(),h.info.campaignParams(),h.info.clickParams()),r=h.extend({},t,e);return this.track(i,r)});S.prototype.track_links=function(){return this._track_dom.call(this,vr,arguments)};S.prototype.track_forms=function(){return this._track_dom.call(this,Oi,arguments)};S.prototype.time_event=function(e){if(h.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var Ay={persistent:!0},Fs=function(e){var n;return h.isObject(e)?n=e:h.isUndefined(e)?n={}:n={days:e},h.extend({},Ay,n)};S.prototype.register=function(e,n){var i=this._run_hook("before_register",e,n);if(i!==null){e=i[0],n=i[1];var t=Fs(n);t.persistent?this.persistence.register(e,t.days):h.extend(this.unpersisted_superprops,e)}};S.prototype.register_once=function(e,n,i){var t=this._run_hook("before_register_once",e,n,i);if(t!==null){e=t[0],n=t[1],i=t[2];var r=Fs(i);r.persistent?this.persistence.register_once(e,n,r.days):(typeof n>"u"&&(n="None"),h.each(e,function(o,s){(!this.unpersisted_superprops.hasOwnProperty(s)||this.unpersisted_superprops[s]===n)&&(this.unpersisted_superprops[s]=o)},this))}};S.prototype.unregister=function(e,n){var i=this._run_hook("before_unregister",e,n);i!==null&&(e=i[0],n=i[1],n=Fs(n),n.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e])};S.prototype._register_single=function(e,n){var i={};i[e]=n,this.register(i)};S.prototype.identify=function(e,n,i,t,r,o,s,a){var u=this._run_hook("before_identify",e);if(u===null)return-1;e=u[0];var c=this.get_distinct_id();if(e&&c!==e){if(typeof e=="string"&&e.indexOf(Ds)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var l=c;this.register_once({$had_persisted_distinct_id:!0,$device_id:l},"")}e!==c&&e!==this.get_property(ci)&&(this.unregister(ci),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(n,i,t,r,o,s,a),e!==c&&this.track("$identify",{distinct_id:e,$anon_distinct_id:c},{skip_hooks:!0}),e!==c&&this.flags.fetchFlags()};S.prototype.reset=function(){this.stop_session_recording(),this.persistence.clear(),this._flags.identify_called=!1;var e=h.UUID();this.register_once({distinct_id:Ds+e,$device_id:e},""),this._check_and_start_session_recording()};S.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};S.prototype.alias=function(e,n){if(e===this.get_property(tf))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var i=this;return h.isUndefined(n)&&(n=this.get_distinct_id()),e!==n?(this._register_single(ci,e),this.track("$create_alias",{alias:e,distinct_id:n},{skip_hooks:!0},function(){i.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};S.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};S.prototype.set_config=function(e){if(h.isObject(e)){h.extend(this.config,e);var n=e.batch_size;n&&h.each(this.request_batchers,function(i){i.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Ge.DEBUG=Ge.DEBUG||this.get_config("debug"),("autocapture"in e||"record_heatmap_data"in e)&&this.autocapture&&this.autocapture.init(),h.isObject(e.hooks)&&(this.hooks={},h.each(e.hooks,function(i,t){if(h.isFunction(i))this.hooks[t]=[i];else if(h.isArray(i)){this.hooks[t]=[];for(var r=0;r<i.length;r++)h.isFunction(i[r])||q.critical("Invalid hook added. Hook is not a function"),this.hooks[t].push(i[r])}else q.critical("Invalid hooks added. Ensure that the hook values passed into config.hooks are functions or arrays of functions.")},this))}};S.prototype.get_config=function(e){return this.config[e]};S.prototype._run_hook=function(e){var n=St.call(arguments,1);return h.each(this.hooks[e],function(i){if(n===null)return null;var t=i.apply(this,n);typeof t>"u"?(this.report_error(e+" hook did not return a valid value"),n=null):(h.isArray(t)||(t=[t]),n.splice.apply(n,[0,t.length].concat(t)))},this),n};S.prototype.get_property=function(e){return this.persistence.load_prop([e])};S.prototype.get_api_host=function(e){return this.get_config("api_hosts")[e]||this.get_config("api_host")};S.prototype.toString=function(){var e=this.get_config("name");return e!==qe&&(e=qe+"."+e),e};S.prototype._event_is_disabled=function(e){return h.isBlockedUA(tt)||this._flags.disable_all_events||h.include(this.__disabled_events,e)};S.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&h.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||h.cookie.get("mp_optout"))&&(h.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};S.prototype._gdpr_update_persistence=function(e){var n;if(e&&e.clear_persistence)n=!0;else if(e&&e.enable_persistence)n=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==n&&this.persistence.set_disabled(n),n?(this.stop_batch_senders(),this.stop_session_recording()):this._batchers_were_started&&this.start_batch_senders()};S.prototype._gdpr_call_func=function(e,n){return n=h.extend({track:h.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},n),h.localStorage.is_supported()||(n.persistence_type="cookie"),e(this.get_config("token"),{track:n.track,trackEventName:n.track_event_name,trackProperties:n.track_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieDomain:n.cookie_domain,cookieExpiration:n.cookie_expiration,crossSiteCookie:n.cross_site_cookie,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie,ignoreDnt:n.ignore_dnt})};S.prototype.opt_in_tracking=function(e){e=h.extend({enable_persistence:!0},e),this._gdpr_call_func(Pm,e),this._gdpr_update_persistence(e)};S.prototype.opt_out_tracking=function(e){e=h.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(Lm,e),this._gdpr_update_persistence(e)};S.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func($m,e)};S.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(El,e)};S.prototype.clear_opt_in_out_tracking=function(e){e=h.extend({enable_persistence:!0},e),this._gdpr_call_func(Dm,e),this._gdpr_update_persistence(e)};S.prototype.report_error=function(e,n){q.error.apply(q.error,arguments);try{!n&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,n)}catch(i){q.error(i)}};S.prototype.add_hook=function(e,n){this.hooks[e]||(this.hooks[e]=[]),this.hooks[e].push(n)};S.prototype.remove_hook=function(e,n){var i;this.hooks[e]&&(i=this.hooks[e].indexOf(n),i!==-1?this.hooks[e].splice(i,1):q.log("remove_hook failed. Matching hook was not found"))};S.prototype.init=S.prototype.init;S.prototype.reset=S.prototype.reset;S.prototype.disable=S.prototype.disable;S.prototype.time_event=S.prototype.time_event;S.prototype.track=S.prototype.track;S.prototype.track_links=S.prototype.track_links;S.prototype.track_forms=S.prototype.track_forms;S.prototype.track_pageview=S.prototype.track_pageview;S.prototype.register=S.prototype.register;S.prototype.register_once=S.prototype.register_once;S.prototype.unregister=S.prototype.unregister;S.prototype.identify=S.prototype.identify;S.prototype.alias=S.prototype.alias;S.prototype.name_tag=S.prototype.name_tag;S.prototype.set_config=S.prototype.set_config;S.prototype.get_config=S.prototype.get_config;S.prototype.get_api_host=S.prototype.get_api_host;S.prototype.get_property=S.prototype.get_property;S.prototype.get_distinct_id=S.prototype.get_distinct_id;S.prototype.toString=S.prototype.toString;S.prototype.opt_out_tracking=S.prototype.opt_out_tracking;S.prototype.opt_in_tracking=S.prototype.opt_in_tracking;S.prototype.has_opted_out_tracking=S.prototype.has_opted_out_tracking;S.prototype.has_opted_in_tracking=S.prototype.has_opted_in_tracking;S.prototype.clear_opt_in_out_tracking=S.prototype.clear_opt_in_out_tracking;S.prototype.get_group=S.prototype.get_group;S.prototype.set_group=S.prototype.set_group;S.prototype.add_group=S.prototype.add_group;S.prototype.remove_group=S.prototype.remove_group;S.prototype.add_hook=S.prototype.add_hook;S.prototype.remove_hook=S.prototype.remove_hook;S.prototype.track_with_groups=S.prototype.track_with_groups;S.prototype.start_batch_senders=S.prototype.start_batch_senders;S.prototype.stop_batch_senders=S.prototype.stop_batch_senders;S.prototype.start_session_recording=S.prototype.start_session_recording;S.prototype.stop_session_recording=S.prototype.stop_session_recording;S.prototype.pause_session_recording=S.prototype.pause_session_recording;S.prototype.resume_session_recording=S.prototype.resume_session_recording;S.prototype.get_session_recording_properties=S.prototype.get_session_recording_properties;S.prototype.get_session_replay_url=S.prototype.get_session_replay_url;S.prototype.get_tab_id=S.prototype.get_tab_id;S.prototype.DEFAULT_API_ROUTES=sf;S.prototype.__get_recorder=S.prototype.__get_recorder;W.prototype.properties=W.prototype.properties;W.prototype.update_search_keyword=W.prototype.update_search_keyword;W.prototype.update_referrer_info=W.prototype.update_referrer_info;W.prototype.get_cross_subdomain=W.prototype.get_cross_subdomain;W.prototype.clear=W.prototype.clear;var ir={},Ry=function(){h.each(ir,function(e,n){n!==qe&&(Me[n]=e)}),Me._=h},Ty=function(){Me.init=function(e,n,i){if(i)return Me[i]||(Me[i]=ir[i]=Jo(e,n,i),Me[i]._loaded()),Me[i];var t=Me;ir[qe]?t=ir[qe]:e&&(t=Jo(e,n,qe),t._loaded(),ir[qe]=t),Me=t,li===ky&&(I[qe]=Me),Ry()}},My=function(){function e(){e.done||(e.done=!0,af=!0,of=!1,h.each(ir,function(t){t._dom_loaded()}))}function n(){try{F.documentElement.doScroll("left")}catch{setTimeout(n,1);return}e()}if(F.addEventListener)F.readyState==="complete"?e():F.addEventListener("DOMContentLoaded",e,!1);else if(F.attachEvent){F.attachEvent("onreadystatechange",e);var i=!1;try{i=I.frameElement===null}catch{}F.documentElement.doScroll&&i&&n()}h.register_event(I,"load",e,!0)};function Ny(e){return rf=e,li=Ko,Me=new S,Ty(),Me.init(),My(),Me}function Py(e,n){n()}var Us=Ny(Py);const Ly="a06ca4558d5dd51da839151eee6a3453";Us.init(Ly,{debug:!1,track_pageview:!1,persistence:"localStorage"});let et=null;const $y=e=>{et=e,e!=null&&e.user_id&&Dy(e.user_id)},Er=(e,n)=>{try{const i={...n};et&&(!i.userId&&et.user_id&&(i.userId=et.user_id),!i.email&&et.email&&(i.email=et.email),!i.phone&&et.phone&&(i.phone=et.phone),!i.name&&et.name&&(i.name=et.name)),Us.track(e,i)}catch(i){console.error("Mixpanel tracking error:",i)}},Dy=e=>{try{Us.identify(e)}catch(n){console.error("Mixpanel identify error:",n)}},ct="https://api.tradl.in",uf=O.createContext(void 0),Fy=({children:e})=>{const[n,i]=O.useState({user:null,isAuthenticated:!1,isLoading:!0,token:null});O.useEffect(()=>{(async()=>{const v=localStorage.getItem("auth_token");v?await t(v):i(y=>({...y,isLoading:!1}))})()},[]),O.useEffect(()=>{$y(n.user)},[n.user]);const t=async g=>{try{const v=await fetch(`${ct}/api/auth/me`,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(v.ok){const y=await v.json();return i({user:y,isAuthenticated:!0,isLoading:!1,token:g}),!0}else return localStorage.removeItem("auth_token"),i({user:null,isAuthenticated:!1,isLoading:!1,token:null}),!1}catch(v){return console.error("Failed to fetch user info:",v),i({user:null,isAuthenticated:!1,isLoading:!1,token:null}),!1}},r=O.useCallback(async(g,v)=>{try{const y=await fetch(`${ct}/api/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:g,password:v})}),d=await y.json();return y.ok&&d.success?(localStorage.setItem("auth_token",d.token),await t(d.token)?{success:!0,message:d.message}:{success:!1,message:"Failed to fetch user information"}):{success:!1,message:d.detail||"Login failed"}}catch(y){return console.error("Login error:",y),{success:!1,message:"Network error"}}},[]),o=O.useCallback(async(g,v,y,d)=>{try{const m=await fetch(`${ct}/api/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:g,password:v,name:y,phone:d})}),_=await m.json();return m.ok&&_.success?(localStorage.setItem("auth_token",_.token),await t(_.token)?{success:!0,message:_.message}:{success:!1,message:"Failed to fetch user information"}):{success:!1,message:_.detail||"Signup failed"}}catch(m){return console.error("Signup error:",m),{success:!1,message:"Network error"}}},[]),s=O.useCallback(async()=>{const g=n.token;if(g)try{await fetch(`${ct}/api/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}})}catch(v){console.error("Backend logout error:",v)}localStorage.removeItem("auth_token"),i({user:null,isAuthenticated:!1,isLoading:!1,token:null})},[n.token]),a=O.useCallback(async()=>{try{const g=await fetch(`${ct}/api/auth/nubra/status`,{method:"GET",headers:{Authorization:`Bearer ${n.token}`,"Content-Type":"application/json"}}),v=await g.json();return{success:g.ok,authenticated:v.authenticated||!1,session_token:v.session_token,device_id:v.device_id,remaining_hours:v.remaining_hours,reason:v.reason}}catch(g){return console.error("Nubra auth check error:",g),{success:!1,authenticated:!1,reason:"Network error"}}},[n.token]),u=O.useCallback(async(g,v)=>{try{const y={phone:g};v&&(y.session_id=v);const d=await fetch(`${ct}/api/auth/nubra/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}),m=await d.json();return{success:d.ok,message:m.message||(d.ok?"OTP sent successfully":"Failed to send OTP"),temp_token:m.temp_token,expiry:m.expiry}}catch(y){return console.error("Nubra send OTP error:",y),{success:!1,message:"Network error"}}},[]),c=O.useCallback(async(g,v,y,d,m)=>{try{const _={phone:g,otp:v};m&&(_.session_id=m);const w=await fetch(`${ct}/api/auth/nubra/verify-otp`,{method:"POST",headers:{"Content-Type":"application/json","x-temp-token":y,"x-device-id":d},body:JSON.stringify(_)}),C=await w.json();return{success:w.ok,message:C.message||(w.ok?"OTP verified successfully":"Failed to verify OTP"),auth_token:C.auth_token,user_id:C.user_id}}catch(_){return console.error("Nubra verify OTP error:",_),{success:!1,message:"Network error"}}},[]),l=O.useCallback(async(g,v,y,d)=>{try{const m={pin:g};d&&(m.session_id=d);const _=await fetch(`${ct}/api/auth/nubra/verify-pin`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${v}`,"x-device-id":y},body:JSON.stringify(m)}),w=await _.json();return _.ok&&w.success?(localStorage.setItem("auth_token",w.token),await t(w.token)?{success:!0,message:w.message,token:w.token,session_token:w.session_token}:{success:!1,message:"Failed to fetch user information"}):{success:!1,message:w.message||"PIN verification failed"}}catch(m){return console.error("Nubra verify PIN error:",m),{success:!1,message:"Network error"}}},[]),f=O.useCallback(async()=>{const g=n.token;if(!g)return!1;try{const v=await fetch(`${ct}/api/auth/refresh`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}}),y=await v.json();return v.ok&&y.success?(localStorage.setItem("auth_token",y.token),i(d=>({...d,token:y.token})),!0):(s(),!1)}catch(v){return console.error("Token refresh error:",v),s(),!1}},[n.token,s]),p={...n,login:r,signup:o,logout:s,refreshToken:f,checkNubraAuth:a,nubraSendOtp:u,nubraVerifyOtp:c,nubraVerifyPin:l};return b.jsx(uf.Provider,{value:p,children:e})},Bs=()=>{const e=O.useContext(uf);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Uy="/tradl_logo_light_mode.png",By="/tradl_logo_dark_mode.png",jy="/tradl_logo_icon_dark.png",zy="/tradl_logo_icon_light.png",Or=yu.forwardRef(({className:e="",variant:n="default",size:i="default",isDark:t=!1,...r},o)=>{const s="inline-flex items-center rounded-md transition-colors focus:outline-none focus:ring-0 focus-visible:ring-0 disabled:opacity-50",a={default:"custom-green-bg custom-green-bg-hover",ghost:t?"hover:bg-neutral-900 text-slate-300":"hover:bg-gray-100 text-gray-600"},u={default:"h-10 px-4",icon:"h-10 w-10 p-0 justify-center"};return b.jsx("button",{ref:o,className:`${s} ${a[n]} ${u[i]} ${e}`,...r})});Or.displayName="Button";const Wy=yu.memo(function({sessions:n,currentSessionId:i,isLoading:t,isDark:r,editingSession:o,editTitle:s,actionMenuOpen:a,onSessionSelect:u,onEditStart:c,onEditChange:l,onEditSave:f,onEditCancel:p,onActionMenuToggle:g,onDelete:v}){return t?b.jsx("div",{className:"space-y-2 px-2",children:[...Array(3)].map((y,d)=>b.jsx("div",{className:`h-10 rounded-md animate-pulse ${r?"bg-neutral-900":"bg-gray-100"}`},d))}):n.length===0?b.jsx("div",{className:`text-center py-4 px-3 text-normal ${r?"text-slate-500":"text-gray-400"}`,children:"No recent chats"}):b.jsx(b.Fragment,{children:n.map(y=>b.jsx("div",{className:`relative w-full text-left px-3 py-2 rounded-md transition-colors group last:border-0 ${r?"border-b border-slate-800":"border-b border-gray-50"} ${i===y.session_id?"custom-green-bg custom-green-bg-hover text-custom-green":r?"text-slate-300 hover:bg-neutral-900":"text-gray-600 hover:bg-gray-50"}`,children:o===y.session_id?b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx("input",{type:"text",value:s,onChange:d=>l(d.target.value),className:`flex-1 px-2 py-1 text-normal border rounded focus:outline-none focus:ring-1 focus:ring-green-500 ${r?"bg-neutral-900 border-slate-700 text-slate-100":"bg-white border-gray-300 text-gray-900"}`,autoFocus:!0,onKeyDown:d=>{d.key==="Enter"&&f(y.session_id,s),d.key==="Escape"&&p()}}),b.jsx("button",{onClick:()=>f(y.session_id,s),className:"p-1 rounded custom-green-bg custom-green-bg-hover text-custom-green",children:b.jsx(yf,{className:"h-4 w-4"})}),b.jsx("button",{onClick:p,className:`p-1 rounded ${r?"text-slate-400 hover:bg-slate-700":"text-gray-500 hover:bg-gray-100"}`,children:b.jsx(bu,{className:"h-4 w-4"})})]}):b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>u(y.session_id),className:"w-full text-left",children:[b.jsx("div",{className:"flex items-center gap-2",children:b.jsx("span",{className:"flex-1 truncate text-normal",children:y.title})}),b.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-1",children:[y.filtered_stock_count?b.jsxs("span",{className:"text-normal-sm px-1.5 py-0.5 rounded-sm custom-green-bg custom-green-bg-hover text-custom-green",children:[y.filtered_stock_count," stocks"]}):null,y.filtered_stocks&&y.filtered_stocks.length>0&&b.jsxs("div",{className:"flex flex-wrap gap-1",children:[y.filtered_stocks.slice(0,3).map(d=>b.jsx("span",{className:`inline-flex items-center px-1.5 py-0.5 text-normal-sm font-mono rounded ${r?"bg-slate-700/50 text-slate-300":"bg-gray-100 text-gray-600"}`,children:d},d)),y.filtered_stocks.length>3&&b.jsxs("span",{className:`text-normal-sm ${r?"text-slate-500":"text-gray-400"}`,children:["+",y.filtered_stocks.length-3]})]})]})]}),b.jsx("button",{onClick:d=>{d.stopPropagation(),g(a===y.session_id?null:y.session_id)},className:`absolute right-2 top-2 p-1 rounded opacity-0 group-hover:opacity-100 transition-opacity ${r?"hover:bg-slate-700 text-slate-400":"hover:bg-gray-200 text-gray-400"}`,children:b.jsx(_f,{className:"h-4 w-4"})}),a===y.session_id&&b.jsxs("div",{className:`absolute right-2 top-8 z-50 min-w-32 rounded-md shadow-lg py-1 ${r?"bg-neutral-900 border border-slate-700":"bg-white border border-gray-200"}`,children:[b.jsxs("button",{onClick:d=>{d.stopPropagation(),c(y.session_id,y.title)},className:`w-full text-left px-3 py-1.5 text-normal flex items-center gap-2 ${r?"hover:bg-slate-700 text-slate-200":"hover:bg-gray-100 text-gray-700"}`,children:[b.jsx(bf,{className:"h-3.5 w-3.5"}),"Rename"]}),b.jsxs("button",{onClick:d=>{d.stopPropagation(),v(y.session_id)},className:`w-full text-left px-3 py-1.5 text-normal flex items-center gap-2 ${r?"hover:bg-red-900/30 text-red-400":"hover:bg-red-50 text-red-600"}`,children:[b.jsx(wf,{className:"h-3.5 w-3.5"}),"Delete"]})]})]})},y.session_id))})}),Vy=({isCollapsed:e,onToggleCollapse:n,currentSessionId:i,onSessionSelect:t,onNewChat:r,onHistory:o,onLogout:s,refreshTrigger:a=0,onHoverChange:u,isMobileOpen:c=!1,onMobileClose:l})=>{const f=_u(),p=hi(),{isAuthenticated:g,user:v}=Bs(),{theme:y,toggleTheme:d}=Cu(),m=y==="dark",[_,w]=O.useState([]),[C,x]=O.useState(!1),[k,R]=O.useState(!1),[T,M]=O.useState(null),[B,N]=O.useState(""),[j,Y]=O.useState(null),Ce="https://api.tradl.in",V=O.useCallback(async(L=!1)=>{if(g){L||x(!0);try{const te=await fetch(`${Ce}/api/chat/sessions/names`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}});if(te.ok){const $e=(await te.json()).slice(0,50).map(Re=>({session_id:Re.session_id,title:Re.title||"Untitled",message_count:Re.message_count??0,filtered_stock_count:Re.filtered_stock_count,filtered_stocks:Re.filtered_stocks,created_at:Re.created_at}));w(Re=>JSON.stringify(Re)===JSON.stringify($e)?Re:$e)}else w([])}catch(te){console.error("Failed to fetch sessions:",te),w([])}finally{L||x(!1)}}},[Ce,g]);O.useEffect(()=>{V()},[V,a]);const xe=O.useRef(0),Oe=5,oe=O.useRef(a),de=O.useRef(!1);O.useEffect(()=>{const L=()=>{xe.current=0,de.current=!0,oe.current=Date.now(),V()};return window.addEventListener("sidebar-refresh",L),()=>window.removeEventListener("sidebar-refresh",L)},[V]),O.useEffect(()=>{a!==oe.current&&(xe.current=0,oe.current=a,de.current=!0)},[a]),O.useEffect(()=>{var Ie;if(!de.current||!i)return;const L=_.find($e=>$e.session_id===i);if((Ie=L==null?void 0:L.filtered_stocks)!=null&&Ie.length){de.current=!1,xe.current=0;return}if(xe.current>=Oe){de.current=!1;return}const te=setTimeout(()=>{xe.current++,V(!0)},1500);return()=>clearTimeout(te)},[_,i,V]);const Ae=O.useMemo(()=>[{id:"discovery",label:"Discovery",icon:Sf,path:"/stock-discovery",enabled:!0},{id:"playground",label:"Playground",icon:Cf,path:"/playground",enabled:!0},{id:"news",label:"Market Buzz",icon:xf,path:"/news",enabled:!0},{id:"history",label:"History",icon:If,path:"/history",enabled:!0}],[]),st=O.useMemo(()=>{const L=p.pathname;for(const te of Ae)if(L===te.path||L.startsWith(`${te.path}/`))return te.id;return null},[p.pathname]),We=O.useCallback((L,te)=>{if(!te)return;const Ie=Ae.find($e=>$e.path===L);Er("Sidebar Navigation Clicked",{mode:Ie==null?void 0:Ie.id,path:L}),O.startTransition(()=>{f(L,{state:{source:{sourcePage:"Sidebar",interaction:"Navigated via sidebar"}},replace:!0})})},[f]),_t=async L=>{try{(await fetch(`${Ce}/api/chat/sessions/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"}})).ok&&(w(Ie=>Ie.filter($e=>$e.session_id!==L)),i===L&&r(),Er("Session Deleted",{session_id:L}))}catch(te){console.error("Failed to delete session:",te)}Y(null)},Le=async(L,te)=>{try{const Ie=await fetch(`${Ce}/api/chat/sessions/${L}`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`,"Content-Type":"application/json"},body:JSON.stringify({title:te})}),$e=(Re,Xe)=>{M(Re),N(Xe),Y(null)};Ie.ok&&(w(Re=>Re.map(Xe=>Xe.session_id===L?{...Xe,title:te}:Xe)),Er("Session Renamed",{session_id:L}))}catch(Ie){console.error("Failed to update session title:",Ie)}M(null),N("")},at=(L,te)=>{M(L),N(te),Y(null)},Z=()=>{M(null),N("")},Q=!e||k||c;return g?b.jsxs(b.Fragment,{children:[c&&b.jsx("div",{className:"fixed inset-0 bg-black/10 z-[9998] lg:hidden",onClick:()=>{R(!1),l&&l()}}),b.jsxs("div",{className:`fixed left-0 top-0 z-[9999] h-[100dvh] flex-col transition-[width] duration-300 ease-[cubic-bezier(0.4,0,0.2,1)] ${c?"flex w-[70%]":"hidden lg:flex"} ${Q?c?"w-[70%]":"w-64":"w-16"} ${m?"bg-neutral-900 border-r border-slate-800 shadow-2xl":"bg-white border-r border-gray-200 shadow-lg"}`,onMouseEnter:()=>{e&&(R(!0),u==null||u(!0))},onMouseLeave:()=>{e&&(R(!1),u==null||u(!1))},children:[b.jsxs("div",{className:`flex flex-col pt-1 pb-1 border-b ${Q?"px-2":"px-0 items-center"} ${m?"border-slate-800":"border-gray-200"}`,children:[b.jsx("div",{className:`flex items-center ${Q?"justify-start mb-1":"justify-center mb-1"}`,children:b.jsxs("div",{className:"flex items-center h-12 transition-all duration-300",children:[b.jsxs("div",{className:`flex items-center gap-2 h-full ${Q?"flex":"hidden"}`,children:[b.jsx("img",{src:By,alt:"Tradl AI",className:`h-[10rem] w-auto object-contain ${m?"block":"hidden"}`}),b.jsx("img",{src:Uy,alt:"Tradl AI",className:`h-[10rem] w-auto object-contain ${m?"hidden":"block"}`})]}),b.jsxs("div",{className:`${Q?"hidden":"flex"} items-center justify-center`,children:[b.jsx("img",{src:jy,alt:"Tradl AI",className:`h-10 w-10 object-contain transition-all duration-200 h-6 w-6 ${m?"hidden":"block"}`}),b.jsx("img",{src:zy,alt:"Tradl AI",className:`h-10 w-10 object-contain ${m?"block":"hidden"}`})]})]})}),b.jsxs(Or,{onClick:()=>{Er("New Chat Clicked",{source:"sidebar"}),r()},isDark:m,className:`w-full ${Q?"justify-start":"justify-center p-0 w-10 h-10 mx-auto"}`,size:Q?"default":"icon",children:[b.jsx(Ef,{className:"icon-size-sm"}),Q&&b.jsx("span",{className:"ml-2 text-heading-normal-xs",children:"New Chat"})]})]}),b.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[b.jsx("div",{className:`flex-none p-3 space-y-1 border-b ${m?"border-slate-800":"border-gray-100"}`,children:Ae.map(L=>{const te=L.icon;return b.jsxs("button",{onClick:()=>We(L.path,L.enabled),disabled:!L.enabled,className:`w-full flex items-center gap-3 rounded-md transition-all ${Q?"px-3 py-2":"p-0 w-10 h-10 justify-center mx-auto"} ${st===L.id&&L.enabled?"custom-green-bg custom-green-bg-hover":L.enabled?m?"text-slate-300 hover:bg-neutral-900 hover:text-slate-100":"text-gray-600 hover:bg-gray-100 hover:text-gray-800":m?"text-slate-600 cursor-not-allowed opacity-50":"text-gray-400 cursor-not-allowed opacity-50"}`,title:Q?void 0:L.label,children:[b.jsx(te,{className:"icon-size-sm flex-shrink-0"}),Q&&b.jsx("span",{className:"text-heading-normal-xs ",children:L.label})]},L.id)})}),b.jsx("div",{className:`flex-1 overflow-y-auto overflow-x-hidden min-h-0 ${m?"scrollbar-thin scrollbar-thumb-slate-600":"scrollbar-thin scrollbar-thumb-gray-300"}`,style:{WebkitOverflowScrolling:"touch"},children:(Q||c)&&b.jsxs("div",{className:"p-2",children:[b.jsx("div",{className:`px-3 py-2 text-heading-normal-sm uppercase tracking-wider ${m?"text-slate-500":"text-gray-400"}`,children:"Recent Chats"}),b.jsx("div",{className:"space-y-0.5 mt-1",children:b.jsx(Wy,{sessions:_,currentSessionId:i,isLoading:C,isDark:m,editingSession:T,editTitle:B,actionMenuOpen:j,onSessionSelect:t,onEditStart:at,onEditChange:N,onEditSave:Le,onEditCancel:Z,onActionMenuToggle:Y,onDelete:_t})})]})}),b.jsxs("div",{className:`flex flex-col items-center flex-shrink-0 p-3 space-y-1 border-t  ${m?"border-slate-800 bg-neutral-900":"border-gray-200 bg-white"}`,style:{paddingBottom:"max(0.75rem, env(safe-area-inset-bottom))"},children:[b.jsxs(Or,{variant:"ghost",onClick:L=>{L.stopPropagation(),window.innerWidth<=768&&l&&l(),R(!1),n()},isDark:m,size:Q||c?"default":"icon",className:`w-full text-gray-600 hover:bg-gray-100 ${Q||c?"justify-start h-10 px-3":"justify-center h-10 w-10 p-0 mx-auto"}`,title:Q||c?"Collapse":"Expand",children:[Q||c?b.jsx(kf,{className:"icon-size-sm flex-shrink-0"}):b.jsx(Of,{className:"icon-size-sm flex-shrink-0"}),(Q||c)&&b.jsx("span",{className:"ml-2 text-heading-normal-xs",children:"Collapse"})]}),b.jsxs(Or,{variant:"ghost",onClick:()=>{Er("Theme Toggled",{new_theme:m?"light":"dark",module:"Sidebar",userId:v==null?void 0:v.user_id}),d()},isDark:m,size:Q||c?"default":"icon",className:`w-full ${Q||c?"justify-start h-10 px-3":"justify-center h-10 w-10 p-0 mx-auto"}`,title:Q||c?void 0:m?"Light mode":"Dark mode",children:[m?b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-sun icon-size-sm flex-shrink-0",children:[b.jsx("circle",{cx:"12",cy:"12",r:"4"}),b.jsx("path",{d:"M12 2v2"}),b.jsx("path",{d:"M12 20v2"}),b.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),b.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),b.jsx("path",{d:"M2 12h2"}),b.jsx("path",{d:"M20 12h2"}),b.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),b.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}):b.jsx(Af,{className:"icon-size-sm flex-shrink-0"}),(Q||c)&&b.jsx("span",{className:"ml-2 text-heading-normal-xs",children:m?"Light mode":"Dark mode"})]}),b.jsxs(Or,{variant:"ghost",onClick:s,isDark:m,size:Q||c?"default":"icon",className:`w-full ${m?"text-red-400 hover:bg-red-900/30":"text-red-600 hover:bg-red-50"} ${Q||c?"justify-start h-10 px-3":"justify-center h-10 w-10 p-0 mx-auto"}`,title:Q||c?void 0:"Logout",children:[b.jsx(Rf,{className:"icon-size-sm flex-shrink-0"}),(Q||c)&&b.jsx("span",{className:"ml-2 text-heading-normal-xs",children:"Logout"})]})]})]})]})]}):null},qy=()=>{const[e,n]=O.useState(!1),{theme:i}=Cu(),t=i==="dark";O.useEffect(()=>{(()=>{const s=window.innerWidth<768,a=localStorage.getItem("hasShownMobileDisclaimer");s&&!a&&n(!0)})()},[]);const r=()=>{localStorage.setItem("hasShownMobileDisclaimer","true"),n(!1)};return e?b.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-in fade-in duration-300",children:b.jsxs("div",{className:`relative w-full max-w-sm p-6 rounded-2xl shadow-2xl border ${t?"bg-neutral-900 border-neutral-800 text-slate-200":"bg-white border-slate-200 text-slate-800"} animate-in zoom-in-95 duration-300`,children:[b.jsx("button",{onClick:r,className:`absolute top-4 right-4 p-1 rounded-full transition-colors ${t?"hover:bg-neutral-800 text-slate-400":"hover:bg-slate-100 text-slate-500"}`,children:b.jsx(bu,{className:"w-5 h-5"})}),b.jsxs("div",{className:"flex flex-col items-center text-center space-y-4 pt-2",children:[b.jsx("div",{className:`p-3 rounded-full ${t?"bg-emerald-900/20":"bg-emerald-50"}`,children:b.jsx(Tf,{className:`w-8 h-8 ${t?"text-emerald-400":"text-emerald-600"}`})}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("h3",{className:"text-lg font-bold",children:"Best Viewed on Desktop"}),b.jsx("p",{className:`text-sm leading-relaxed ${t?"text-slate-400":"text-slate-600"}`,children:"For the best experience with complex financial charts and data, we recommend using Tradl on a desktop or laptop."})]}),b.jsx("button",{onClick:r,className:"w-full py-2.5 px-4 bg-emerald-600 hover:bg-emerald-700 text-white font-medium rounded-xl transition-colors shadow-lg shadow-emerald-900/20",children:"Got it, continue anyway"})]})]})}):null},Gy=()=>{const e=hi();O.useEffect(()=>{{console.warn("Microsoft Clarity: VITE_CLARITY_PROJECT_ID is not defined.");return}},[]),O.useEffect(()=>{window.clarity&&window.clarity("set","page",e.pathname)},[e.pathname])},Hy=()=>b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-page",children:b.jsx("div",{className:"animate-spin h-8 w-8 border-2 border-slate-300 border-t-slate-600 rounded-full"})}),Yy=O.lazy(()=>me(()=>import("./LandingPage-DbnQAmRK.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),Ky=O.lazy(()=>me(()=>import("./StockPage-DCnwHcxU.js"),__vite__mapDeps([16,1,2,17,18,9,4,8]))),Jy=O.lazy(()=>me(()=>import("./ChatSessionPage-D9mHs-_f.js"),__vite__mapDeps([19,1,2,20,4,21,14,22,15,23,24,17,8,25,18,9]))),Xy=O.lazy(()=>me(()=>import("./ChatHistoryPage-BtSDVbcp.js"),__vite__mapDeps([26,1,2,8,9,4]))),Zy=O.lazy(()=>me(()=>import("./ScreensPage-Bi-UV40s.js"),__vite__mapDeps([27,1,2,20,4,21,14,22,15,23,24,17,8,25,9]))),Qy=O.lazy(()=>me(()=>import("./ApplyForInvite-e2gzBe5L.js"),__vite__mapDeps([28,1,2,7,9,4]))),e_=O.lazy(()=>me(()=>import("./VerifyMagicLink-DD8GMROb.js"),__vite__mapDeps([29,1,2,7,9,4]))),t_=O.lazy(()=>me(()=>import("./ForgotPassword-Bhs3z-e7.js"),__vite__mapDeps([30,1,2,9,4]))),r_=O.lazy(()=>me(()=>import("./ResetPassword-26leoLOf.js"),__vite__mapDeps([31,1,2,9,8,4]))),n_=O.lazy(()=>me(()=>import("./SharedPage-wHt8gO9c.js"),__vite__mapDeps([32,1,2,20,4,21,14,22,15,23,24,17,8,9]))),eo=O.lazy(()=>me(()=>import("./InviteDashboard-WuyhCuQH.js"),__vite__mapDeps([33,1,2,7,9,4]))),i_=O.lazy(()=>me(()=>import("./TradingChartTest-HzU-QHcX.js"),__vite__mapDeps([34,1,2,21,4,8,9]))),o_=O.lazy(()=>me(()=>import("./PricingPage-NcFdBWvz.js"),__vite__mapDeps([35,1,2,4,7,3,9,8]))),s_=O.lazy(()=>me(()=>import("./SingleStockOverview-ZlvFvVW6.js"),__vite__mapDeps([36,1,2,10,11,4,6,7,37,14,22,15,38,24,39,8,9]))),a_=O.lazy(()=>me(()=>import("./StockDiscoveryPage-JV5W2RkE.js"),__vite__mapDeps([40,1,2,4,10,11,6,7,37,14,12,39,38,24,41,9,8]))),u_=O.lazy(()=>me(()=>import("./TerminalPage-s755alSX.js"),__vite__mapDeps([42,1,2,4,9]))),c_=O.lazy(()=>me(()=>import("./PlaygroundPage-DNowC-Vn.js"),__vite__mapDeps([43,1,2,10,11,4,6,7,12,37,14,38,24,13,22,15,23,41,9,8]))),l_=O.lazy(()=>me(()=>import("./News-DOyXWlM1.js"),__vite__mapDeps([44,1,2,14,38,24,4,11,9,8]))),f_=O.lazy(()=>me(()=>import("./PrivacyPolicy-BMjDtytc.js"),__vite__mapDeps([45,1,2,3,4,5,6,7,8,9,46]))),h_=O.lazy(()=>me(()=>import("./TermsOfUse-Bup1w7Ur.js"),__vite__mapDeps([47,1,2,3,4,5,6,7,8,9,46]))),p_=O.lazy(()=>me(()=>import("./AboutUs-CQXbJI24.js"),__vite__mapDeps([48,1,2,3,4,5,6,7,8,9,46]))),d_=O.lazy(()=>me(()=>import("./WebinarStatic--YIJjq00.js"),__vite__mapDeps([49,1,2,6,7,4,5,8,9,3]))),v_=({children:e})=>{const n=hi();return b.jsx("div",{className:"animate-fade-in-soft h-full",children:e},n.pathname)},g_=({children:e})=>{Gy();const n=_u(),i=hi(),{logout:t}=Bs(),{isMobile:r,isOpen:o,closeSidebar:s}=Pf(),[a,u]=O.useState(!0),[c,l]=O.useState(!1),[f,p]=O.useState(!1),g=i.pathname==="/new",v=g?f:a,y=i.pathname.startsWith("/chat/")?i.pathname.split("/chat/")[1]:null,d=M=>{n(`/chat/${M}`,{state:{source:{sourcePage:"AppLayout",interaction:"Session Select SideBar"}}}),r&&s()},m=()=>{n("/new",{state:{source:{sourcePage:"Sidebar",interaction:"New Chat Button SideBar"}}}),r&&s()},_=()=>{n("/history",{state:{source:{sourcePage:"AppLayout",interaction:"History Button SideBar"}}}),r&&s()},w=()=>{t(),n("/",{state:{source:{sourcePage:"AppLayout",interaction:"Logout Button SideBar"}}})},C=["/","/apply-for-invite","/verify-magic-link","/forgot-password","/reset-password","/shared","/pricing","/about","/privacy","/terms","/webinar"],x=["/admin/invites"],k=["/test/trading-chart"],R=!C.includes(i.pathname)&&!i.pathname.startsWith("/shared/")&&!x.some(M=>i.pathname.startsWith(M))&&!k.some(M=>i.pathname.startsWith(M)),T=!v||c;return b.jsxs("div",{className:"h-[100dvh] flex overflow-hidden max-w-full bg-page transition-colors duration-300",children:[b.jsx(qy,{}),R&&b.jsx(Vy,{isCollapsed:v,onToggleCollapse:()=>{g?p(!f):u(!a)},currentSessionId:y,onSessionSelect:d,onNewChat:m,onHistory:_,onLogout:w,onHoverChange:g?void 0:l,isMobileOpen:r&&o,onMobileClose:s}),b.jsx("div",{className:`flex-1 transition-all duration-300 ease-in-out overflow-hidden min-w-0 ${R&&!r?T?"ml-64":"ml-16":"ml-0"}`,children:e})]})};function m_(){const{isAuthenticated:e,isLoading:n}=Bs();return n?b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-page transition-colors duration-300",children:b.jsxs("div",{className:"text-center space-y-6",children:[b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"animate-spin h-12 w-12 border-3 border-slate-300 border-t-slate-600 rounded-full mx-auto"}),b.jsx("div",{className:"absolute inset-0 h-12 w-12 border-3 border-slate-100 rounded-full mx-auto"})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsx("p",{className:"text-slate-700 font-semibold text-lg",children:"Initializing tradl..."}),b.jsx("p",{className:"text-slate-500",children:"Connecting to your AI financial analyst"})]})]})}):b.jsx(Mf,{children:b.jsx(Nf,{children:b.jsx(gf,{children:b.jsx(g_,{children:b.jsx(v_,{children:b.jsx(O.Suspense,{fallback:b.jsx(Hy,{}),children:b.jsxs(mf,{children:[b.jsx(se,{path:"/",element:e?b.jsx(ze,{to:"/new",replace:!0}):b.jsx(Yy,{})}),b.jsx(se,{path:"/new",element:e?b.jsx(Ky,{}):b.jsx(ze,{to:"/",replace:!0})}),b.jsx(se,{path:"/history",element:e?b.jsx(Xy,{}):b.jsx(ze,{to:"/",replace:!0})}),b.jsx(se,{path:"/chat/:sessionId",element:e?b.jsx(Jy,{}):b.jsx(ze,{to:"/",replace:!0})}),b.jsx(se,{path:"/screens",element:e?b.jsx(Zy,{}):b.jsx(ze,{to:"/",replace:!0})}),b.jsx(se,{path:"/stock-overview",element:e?b.jsx(s_,{}):b.jsx(ze,{to:"/",replace:!0})}),b.jsx(se,{path:"/stock-discovery",element:e?b.jsx(a_,{}):b.jsx(ze,{to:"/",replace:!0})}),b.jsx(se,{path:"/terminal/:symbol",element:e?b.jsx(u_,{}):b.jsx(ze,{to:"/",replace:!0})}),b.jsx(se,{path:"/playground",element:e?b.jsx(c_,{}):b.jsx(ze,{to:"/",replace:!0})}),b.jsx(se,{path:"/news",element:e?b.jsx(l_,{}):b.jsx(ze,{to:"/",replace:!0})}),b.jsx(se,{path:"/apply-for-invite",element:b.jsx(Qy,{})}),b.jsx(se,{path:"/verify-magic-link",element:b.jsx(e_,{})}),b.jsx(se,{path:"/forgot-password",element:b.jsx(t_,{})}),b.jsx(se,{path:"/reset-password",element:b.jsx(r_,{})}),b.jsx(se,{path:"/shared/:shareToken",element:b.jsx(n_,{})}),b.jsx(se,{path:"/pricing",element:b.jsx(o_,{})}),b.jsx(se,{path:"/privacy",element:b.jsx(f_,{})}),b.jsx(se,{path:"/terms",element:b.jsx(h_,{})}),b.jsx(se,{path:"/about",element:b.jsx(p_,{})}),b.jsx(se,{path:"/webinar",element:b.jsx(d_,{})}),b.jsx(se,{path:"/test/trading-chart",element:b.jsx(i_,{})}),b.jsx(se,{path:"/admin/invites",element:e?b.jsx(eo,{}):b.jsx(ze,{to:"/",replace:!0,state:{redirectTo:"/admin/invites"}})}),b.jsx(se,{path:"/admin/invites/approve/:inviteId",element:b.jsx(eo,{})}),b.jsx(se,{path:"/admin/invites/reject/:inviteId",element:b.jsx(eo,{})}),b.jsx(se,{path:"/chat",element:b.jsx(ze,{to:"/new",replace:!0})}),b.jsx(se,{path:"*",element:b.jsx(ze,{to:e?"/new":"/",replace:!0})})]})})})})})})})}wu(document.getElementById("root")).render(b.jsx(O.StrictMode,{children:b.jsx(Fy,{children:b.jsx(m_,{})})}));export{Cu as a,Pf as b,Dy as i,Er as t,Bs as u};
